if (self.CavalryLogger) { CavalryLogger.start_js(["LD\/cP"]); }

__d("ProtonActionMetadata",[],(function(a,b,c,d,e,f){"use strict";a={"archive projects requested":{undo:!1},"begin save project":{undo:!1,showInDevTools:!1},"begin save project preview image":{undo:!1},"bootstrap from api":{undo:!1},"bootstrap from api failed":{undo:!1},"duplicate project requested":{undo:!1},"rename project requested":{undo:!1},"loaded project":{undo:!1,allowIfNotEditor:!0,resetUndoStack:!0},"load cached project":{undo:!1,allowIfNotEditor:!0},"load project failed":{undo:!1},"loaded projects":{undo:!1},"open project":{undo:!1,allowIfNotEditor:!0,resetUndoStack:!0},"restore project from file":{undo:!0},"restore project from file failed":{undo:!1},"update project":{undo:!0},"update project list requested":{undo:!1},"start create project to open":{undo:!1,allowIfNotEditor:!0},"save project succeeded":{undo:!1,allowIfNotEditor:!0,showInDevTools:!1},"save project failed":{undo:!1},"end save project preview image":{undo:!1},"update project status failed":{undo:!1,showInDevTools:!1},"update project list state":{undo:!1},"update abridged project status":{undo:!1,logging:!1},"network offline":{undo:!1},"add page":{undo:!0},"create page from template":{undo:!0},"create project from template id":{undo:!1,allowIfNotEditor:!0},"delete pages":{undo:!0},"duplicate pages":{undo:!0},"reorder pages":{undo:!0},"activate page":{undo:!1},"start loading pixelcloud project":{undo:!1},"activate next page in series":{undo:!1},"activate previous page in series":{undo:!1},"activate next state or page in series":{undo:!1},"activate previous state or page in series":{undo:!1},"edit name of previous page":{undo:!1},"edit name of next page":{undo:!1},"activate last page visited":{undo:!1},"activate cymbal page":{undo:!1},"update page":{undo:!0},"delete unused cymbal pages":{undo:!0},"resize page to fit":{undo:!0},"select pages":{undo:!1,tracebench:!0},"select page list":{undo:!1},"add page state":{undo:!0},"delete page state":{undo:!0},"duplicate page state":{undo:!0},"activate page state":{undo:!1},"update page state":{undo:!0},"apply page state":{undo:!1},"unapply page state":{undo:!1,tracebench:!0},"change page state for preview":{undo:!1},"next page state for preview":{undo:!1},"previous page state for preview":{undo:!1},"remove page changes from page state":{undo:!0},"remove item from page state":{undo:!0},"remove attribute from item in page state":{undo:!0},"remove position attribute from item in page state":{undo:!0},"remove prop from element in page state":{undo:!0},"reorder page state":{undo:!0},"select next page state":{undo:!1},"edit name of next page state":{undo:!1},"select previous page state":{undo:!1},"edit name of previous page state":{undo:!1},"start page state animation":{undo:!1},"end page state animation":{undo:!1},"collapse group":{undo:!1},"expand group":{undo:!1},"group items":{undo:!0},"ungroup items":{undo:!0},"group items dynamically":{undo:!0},"update group":{undo:!0},"update groups":{undo:!0},"update groups layout":{undo:!0},"collapse all":{undo:!1},"expand all":{undo:!1},"adjust group spacing":{undo:!0},"select first group item":{undo:!1},"select first item":{undo:!1},"import json":{undo:!0},"import semaphore":{undo:!0},"add element":{undo:!0},"add masking container":{undo:!0},"add scrolling container":{undo:!0},"align items to bottom":{undo:!0},"align items to center":{undo:!0},"align items to left":{undo:!0},"align items to middle":{undo:!0},"align items to right":{undo:!0},"align items to top":{undo:!0},"delete items":{undo:!0},"deselect item":{undo:!1},"select parent group or deselect":{undo:!1},"distribute items horizontally":{undo:!0},"distribute items vertically":{undo:!0},"duplicate items":{undo:!0},"duplicate items for drag":{undo:!0},"hide items":{undo:!0},"hide item by id":{undo:!0},"hover item":{undo:!1,logging:!1,showInDevTools:!1},"unhover item":{undo:!1,logging:!1,showInDevTools:!1},"lock items":{undo:!0},"lock item aspect ratio":{undo:!0},"make selected elements bold":{undo:!0},"make selected elements italic":{undo:!0},"underline selected elements":{undo:!0},"measured item":{undo:!1,logging:!1,showInDevTools:!1},"measured child coords":{undo:!1,logging:!1,showInDevTools:!1},"batch measured items":{undo:!1,logging:!1,showInDevTools:!1},"reposition items":{undo:!0},"reorder items":{undo:!0},"select inside":{undo:!1},"slide items":{undo:!0},"select items":{undo:!1,tracebench:!0},"select all items":{undo:!1},"select next item":{undo:!1},"select previous item":{undo:!1},"edit name of next item":{undo:!1},"edit name of previous item":{undo:!1},"begin edit name inline":{undo:!1},"end edit name inline":{undo:!1},"unhide items":{undo:!0},"unhide item by id":{undo:!0},"unlock items":{undo:!0},"unlock item aspect ratio":{undo:!0},"update element":{undo:!0},"update elements":{undo:!0},"update element data adapter config":{undo:!0},"update items":{undo:!0},"update items props":{undo:!0},"update item name":{undo:!0},"adjust zoom smooth":{undo:!1},"begin inline edit element":{undo:!1},"begin insert item":{undo:!1},"begin center selection":{undo:!1},"begin center and zoom selection":{undo:!1},"begin screenshot":{undo:!1},bootstrap:{undo:!1},"continue using unsupported browser":{undo:!1},"decrease zoom":{undo:!1},"end center":{undo:!1},"end inline edit element":{undo:!1},"end insert item":{undo:!1},"end screenshot":{undo:!1},"show save toast":{undo:!1},"fit zoom":{undo:!1},"hide elements panel":{undo:!1},"hide sidebar":{undo:!1},"hide hotspots":{undo:!0},"hide page state popover":{undo:!1},"hide selection chrome":{undo:!1},"hide topbar":{undo:!1},"hide global nav":{undo:!1},"hide ui":{undo:!1},"increase zoom":{undo:!1},"copy all properties":{undo:!1},"copy interactions":{undo:!1},"copy pages":{undo:!1},"copy styles":{undo:!1},"show animation editor panel":{undo:!1},"hide animation editor panel":{undo:!1},"update animation prop":{undo:!0},"reset zoom":{undo:!1},"resize bottom panel":{undo:!1},"resize left panel":{undo:!1},"resize right panel":{undo:!1},"resize page list":{undo:!1},"show elements panel":{undo:!1},"show hotspots":{undo:!0},"show page state popover":{undo:!1},"show selection chrome":{undo:!1},"show sidebar":{undo:!1},"show global nav":{undo:!1},"show topbar":{undo:!1},"show ui":{undo:!1},"toggle grayscale":{undo:!1},"toggle snap to grid":{undo:!1},"toggle view grid":{undo:!1},"toggle snap to page":{undo:!1},"screenshot failed":{undo:!1},"switch left panel mode":{undo:!1},"switch left panel tab":{undo:!1},"switch right panel mode":{undo:!1},"switch full screen mode":{undo:!1},"update scroll zooming status":{undo:!1},"update mode":{undo:!1},"update preview options":{undo:!1},"update screenshot scale":{undo:!1},"update zoom":{undo:!1},"update landing section":{undo:!1},"update global search query":{undo:!1},"url changed":{undo:!1},"window resized":{undo:!1},"device pixel ratio changed":{undo:!1},"update content strategy status filter":{undo:!1},"expand content strategy section":{undo:!1},"collapse content strategy section":{undo:!1},"toggle dev tools":{undo:!1},"set canvas view mode":{undo:!1},"activate artboard from birdview":{undo:!1},"close modal":{undo:!1},"show keyboard help modal":{undo:!1},"show insert into source component toast":{undo:!1},"show shared component creation modal":{undo:!1},"show shared component update modal":{undo:!1},"show unpublish shared component confirmation modal":{undo:!1},"show delete shared component pages modal":{undo:!1},"show page template creator modal":{undo:!1},"show page template duplicate modal":{undo:!1},"show page template edit info modal":{undo:!1},"show page template update info modal":{undo:!1},"show page template picker modal":{undo:!1},"show page template manager modal":{undo:!1},"show project picker":{undo:!1,allowIfNotEditor:!0},"show user settings modal":{undo:!1},"show project settings modal":{undo:!1},"show project version mismatch modal":{undo:!1},"show upload to pixelcloud modal":{undo:!1},"show duplicate project modal":{undo:!1},"show feature updates modal":{undo:!1},"show edit variable modal":{undo:!1},"show edit data source modal":{undo:!1},"show edit history entry modal":{undo:!1},"show new folder modal":{undo:!1},"show new project modal":{undo:!1},"show edit folder modal":{undo:!1},"show create research session":{undo:!1},"show manage research sessions":{undo:!1},"show snooze refresh modal":{undo:!1},"show force refresh modal":{undo:!1},"yes to one per page modal":{undo:!0},"no to one per page modal":{undo:!0},"yes to resize page modal":{undo:!0},"no to resize page modal":{undo:!0},"update element image url":{undo:!0},"upload images":{undo:!0},"upload image succeeded":{undo:!1},"upload image failed":{undo:!1},"update element video url":{undo:!0},"upload video started":{undo:!1},"upload video progressed":{undo:!1},"upload video finished":{undo:!1},"upload video failed":{undo:!1},"upload sound started":{undo:!1},"upload sound succeeded":{undo:!1},"upload sound failed":{undo:!1},redo:{undo:!1},undo:{undo:!1},"update user settings":{undo:!1},"switch theme":{undo:!1},"switch project layout":{undo:!1},"show toast":{undo:!1},"close toast":{undo:!1},"api request failed":{undo:!1,showInDevTools:!1},"api request succeeded":{undo:!1,showInDevTools:!1},"create shared component":{undo:!1},"create shared component succeeded":{undo:!1},"create shared component failed":{undo:!1},"update shared component":{undo:!1},"update shared component succeeded":{undo:!1},"update shared component failed":{undo:!1},"unpublish shared components and delete pages":{undo:!1},"unpublish shared components":{undo:!1},"unpublish shared components succeeded":{undo:!1},"unpublish shared components failed":{undo:!1},"update loaded shared components":{undo:!1},"start adding shared component":{undo:!1},"end adding shared component":{undo:!0},"detach selected items from shared components":{undo:!0},"update loaded page templates":{undo:!1},"begin saving page template":{undo:!1},"end saving page template":{undo:!1},"begin uploading generated template image":{undo:!1},"end uploading generated template image":{undo:!1},"begin uploading custom template image":{undo:!1},"end uploading custom template image":{undo:!1},"update template editor":{undo:!1},"update template manager query":{undo:!1},"update template picker query":{undo:!1},"update template picker query filter":{undo:!1},"page template delete succeeded":{undo:!1},"add cymbal":{undo:!0},"create cymbal from items":{undo:!0},"set initial cymbal state":{undo:!0},"eject cymbal":{undo:!0},"export cymbal prop":{undo:!0},"unpublish cymbal prop":{undo:!0},"set editing cymbal state":{undo:!1},"canvas context menu closed":{undo:!1},"canvas context menu opened":{undo:!1},"begin edit scroll point":{undo:!1},"end edit scroll point":{undo:!1},"begin drag in reorderable list":{undo:!1},"end drag in reorderable list":{undo:!1},"show page resize handles":{undo:!1},"report canvas position":{undo:!1},"report canvas scroll":{undo:!1,logging:!1,showInDevTools:!1},"end canvas scroll":{undo:!1},"update highlighting visible":{undo:!1},"end canvas set scroll position":{undo:!1},"update held keys":{undo:!1,logging:!1,showInDevTools:!1},"resize page in canvas":{undo:!0,logging:!1},"add artboard metadata":{undo:!1},"delete artboard metadata":{undo:!1},"artboard screenshots started":{undo:!1},"linter requested":{undo:!1,showInDevTools:!1},"linter succeeded":{undo:!1,showInDevTools:!1},"linter failed":{undo:!1},"hide ignored lint issues":{undo:!1},"show ignored lint issues":{undo:!1},"ignore lint issue":{undo:!0},"unignore lint issue":{undo:!0},"fix lint issue":{undo:!0},"fix all lint issues":{undo:!0},"select history entry":{undo:!1},"select pixelcloud revision":{undo:!1},"load major history entries":{undo:!1},"load minor history entries":{undo:!1},"toggle expand major history entry":{undo:!1},"restore selected history":{undo:!1},"rename history entry succeeded":{undo:!1},"DEBUG ACTION - update state manually":{undo:!0},"debug - set sneeze guard disabled state":{undo:!1,logging:!1,showInDevTools:!1},"remove expression for items":{undo:!0},"update expression for items":{undo:!0},"upload to pixelcloud started":{undo:!1},"upload to pixelcloud completed":{undo:!1},"upload to pixelcloud failed":{undo:!1},"delete data variables":{undo:!0},"begin save data source":{undo:!1},"finish save data source":{undo:!1},"finish save data source with error":{undo:!1},"create or update variable":{undo:!0},"update preview variable by id":{undo:!0},"update variable data":{undo:!0},"shared data sources loaded":{undo:!1},"open comments panel":{undo:!1},"update comments state":{undo:!1},"annotate item":{undo:!1},"fetch annotations succeeded":{undo:!1},"item statuses received":{undo:!1},"update item status":{undo:!1},"update native image":{undo:!1},"open bug nub":{undo:!1},"create folder":{undo:!1},"change environment for vr preview":{undo:!1},"hide page for vr preview":{undo:!1},"unhide page for vr preview":{undo:!1}};e.exports=a}),null);
__d("FBScrollbarController",["cx","DOMEventListener","FBScrollbarsUtils","SubscriptionsHandler","cancelAnimationFrame","debounce","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBScrollbarsUtils").addDraggingOverlay,i=b("FBScrollbarsUtils").addScrollingContainerResizeObserver,j=b("FBScrollbarsUtils").getOrientedUtils,k=b("FBScrollbarsUtils").makeBar,l=b("FBScrollbarsUtils").makeTrack,m=b("FBScrollbarsUtils").removeDraggingOverlay,n="_7304",o="_7306",p=24;a=function(){__p&&__p();function a(a){__p&&__p();var c=this,d=a.autoHide,e=a.body,f=a.root,g=a.orientation;a=a.isHidden;this.$5=!0;this.$6=!1;this.$13=new(b("SubscriptionsHandler"))();this.$20=!1;this.$21=!1;this.$22=0;this.$23=0;this.hideScrollbar=function(){c.$5!==!1&&c.$3.classList.add("_7305")};this.$33=function(){var a=c.$8(c.$2).scrollProp;c.$31();if(a===c.$24)return;c.$24=a;c.$20||c.$34()};this.$26=function(){c.$21=!0,c.showScrollbar()};this.$27=function(){c.$21=!1,c.$20||c.hideScrollbar()};this.$35=b("debounce")(this.hideScrollbar);this.$28=function(a){__p&&__p();var b=c.$9(a),d=c.$8(c.$2),e=c.$8(c.$3);e=e.clientSize;var f=c.$8(c.$4);f=f.clientSize;b=b.offsetCoord/e;e=b-.5;e=e*f;f=e/d.clientSize*d.scrollSize;c.$11(c.$2,b*d.scrollPropMax+f);c.$4.dispatchEvent(new MouseEvent("mousedown",{clientX:a.pageX,clientY:a.pageY}));a.preventDefault()};this.$29=function(a){__p&&__p();c.$20=!0;c.$2.classList.add("_77hc");h();var b=c.$9(a);b=b.pageCoord;var d=c.$8(c.$2);d=d.scrollProp;c.$22=b;c.$23=d;c.$16=c.$25(c.$1,"mousemove",c.$36,{passive:!0});c.$17=c.$25(c.$1,"mouseup",c.$37);c.showScrollbar();a.preventDefault();a.stopPropagation()};this.$36=function(a){a=c.$9(a);var b=c.$8(c.$2);a=a.pageCoord-c.$22;a=a/b.clientSize*b.scrollSize;c.$11(c.$2,c.$23+a)};this.$37=function(){c.$20=!1,c.$2.classList.remove("_77hc"),m(),c.$21||c.hideScrollbar(),c.$16&&c.$16(),c.$17&&c.$17()};this.$1=e;this.$2=f;this.$7=g;e=j(this.$7);this.$8=e.getElementData;this.$9=e.getEventData;this.$11=e.setScrollProp;this.$10=e.setSizeProp;this.$12=e.translate3DMajorMinor;this.$3=l(this.$7);this.$4=k(this.$7);this.$3.appendChild(this.$4);this.$25(this.$3,"mouseenter",this.$26);this.$25(this.$3,"mouseleave",this.$27);this.$25(this.$3,"mousedown",this.$28);this.$25(this.$4,"mousedown",this.$29);this.$30();this.$6=a;this.setAutoHide(d)}var c=a.prototype;c.destroy=function(){b("cancelAnimationFrame")(this.$15),this.$13.release(),this.$2.removeChild(this.$3)};c.showScrollbar=function(){this.$3.classList.remove("_7305")};c.setAutoHide=function(a){this.$5=a,this.$5?this.hideScrollbar():this.$6||this.showScrollbar()};c.setIsHidden=function(a){this.$6=a,this.$31()};c.setRoot=function(a){this.$2!==a&&(this.$32(),this.$2=a,this.$30())};c.$30=function(){__p&&__p();var a=this;this.$14==null&&(this.$14=b("requestAnimationFrame")(function(){a.$2.classList.add(n),getComputedStyle(a.$2).position==="static"&&a.$2.classList.add(o),a.$14=null}));this.$18=b("DOMEventListener").add(this.$2,"scroll",this.$33,{passive:!0});this.$13.addSubscriptions(this.$18);this.$19=i(this.$2,this.$7,function(){return a.$31()});this.$13.addSubscriptions(this.$19);this.$2.appendChild(this.$3);this.$31()};c.$32=function(){this.$2.classList.remove(n,o),this.$18&&this.$13.releaseOne(this.$18),this.$19&&this.$13.releaseOne(this.$19),this.$18=null,this.$19=null,this.$14=null};c.$34=function(){this.$35.isPending()||this.showScrollbar(),this.$35()};c.$31=function(){__p&&__p();var a=this;if(this.$15)return;this.$15=b("requestAnimationFrame")(function(){__p&&__p();var b=a.$8(a.$2),c=b.clientSize,d=b.scrollSize,e=b.scrollProp;b=b.scrollPropMax;var f=a.$2,g=f.scrollLeft;f=f.scrollTop;a.$3.style.display=!a.$6&&d>c?"block":"none";if(a.$6)return;a.$10(a.$3,c);a.$3.style.transform="translate3d(0, 0, 0)";d=Math.max(p,c/d*c);a.$10(a.$4,d);d=a.$8(a.$4).clientSize;e=e/b;b=c-d;c=b*e;a.$3.style.transform="translate3d("+g+"px, "+f+"px, 0)";a.$4.style.transform=a.$12(c,0);a.$15=null})};c.$25=function(a,c,d,e){a=b("DOMEventListener").add(a,c,d,e);c=a.remove;this.$13.addSubscriptions({remove:c});return c};return a}();e.exports=a}),null);
__d("FBScrollbars.react",["FBScrollbarController","FBScrollbarsUtils","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBScrollbarsUtils").canHideScrollbars;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){__p&&__p();if(!g())return;var a=document.body,c=b("ReactDOM").findDOMNode(this);if(!(a instanceof HTMLElement)||!(c instanceof HTMLElement))return;this.$3=c;var d=this.props,e=d.autoHide,f=d.isHorizontalScrollbarHidden;d=d.isVerticalScrollbarHidden;this.$1=new(b("FBScrollbarController"))({autoHide:e,body:a,orientation:"vertical",root:c,isHidden:d});this.$2=new(b("FBScrollbarController"))({autoHide:e,body:a,orientation:"horizontal",root:c,isHidden:f})};d.componentDidUpdate=function(a){var c=this,d=a.autoHide,e=a.isHorizontalScrollbarHidden;a=a.isVerticalScrollbarHidden;d!==this.props.autoHide&&this.forBothScrollbars(function(a){return a.setAutoHide(c.props.autoHide)});this.props.isVerticalScrollbarHidden!==a&&(this.$1&&this.$1.setIsHidden(this.props.isVerticalScrollbarHidden));this.props.isHorizontalScrollbarHidden!==e&&(this.$2&&this.$2.setIsHidden(this.props.isHorizontalScrollbarHidden));var f=b("ReactDOM").findDOMNode(this);f!==this.$3&&f instanceof HTMLElement&&(this.$3=f,this.forBothScrollbars(function(a){return a.setRoot(f)}))};d.forBothScrollbars=function(a){this.$1&&a(this.$1),this.$2&&a(this.$2)};d.componentWillUnmount=function(){this.forBothScrollbars(function(a){return a.destroy()})};d.render=function(){return this.props.children};return c}(b("React").PureComponent);a.defaultProps={autoHide:!0,isHorizontalScrollbarHidden:!1,isVerticalScrollbarHidden:!1};e.exports=a}),null);
__d("ProtonTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ProtonLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProtonLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProtonLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionType=function(a){this.$1.action_type=a;return this};c.setAPIURI=function(a){this.$1.api_uri=a;return this};c.setAppMode=function(a){this.$1.app_mode=a;return this};c.setArtboardID=function(a){this.$1.artboard_id=a;return this};c.setCanvasViewMode=function(a){this.$1.canvas_view_mode=a;return this};c.setCommentsHasUnreadComments=function(a){this.$1.comments_has_unread_comments=a;return this};c.setComponentName=function(a){this.$1.component_name=a;return this};c.setComponentPickerCustomComponentCount=function(a){this.$1.component_picker_custom_component_count=a;return this};c.setComponentPickerDesignSystem=function(a){this.$1.component_picker_design_system=a;return this};c.setComponentPickerDidInsertComponent=function(a){this.$1.component_picker_did_insert_component=a;return this};c.setComponentPickerFilteredCategories=function(a){this.$1.component_picker_filtered_categories=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setComponentPickerRealComponentCount=function(a){this.$1.component_picker_real_component_count=a;return this};c.setComponentPickerSearchTerm=function(a){this.$1.component_picker_search_term=a;return this};c.setDiffUris=function(a){this.$1.diff_uris=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setDiffValue=function(a){this.$1.diff_value=a;return this};c.setDynamicGroupProperty=function(a){this.$1.dynamic_group_property=a;return this};c.setElapsedMs=function(a){this.$1.elapsed_ms=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFeatureEvent=function(a){this.$1.feature_event=a;return this};c.setFeatureName=function(a){this.$1.feature_name=a;return this};c.setHistoryEntryID=function(a){this.$1.history_entry_id=a;return this};c.setIsPageFocused=function(a){this.$1.is_page_focused=a;return this};c.setIsPageUsingData=function(a){this.$1.is_page_using_data=a;return this};c.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};c.setJsMemoryUsageMb=function(a){this.$1.js_memory_usage_mb=a;return this};c.setLintIssueAdviceCount=function(a){this.$1.lint_issue_advice_count=a;return this};c.setLintIssueErrorCount=function(a){this.$1.lint_issue_error_count=a;return this};c.setLintIssueFixableCount=function(a){this.$1.lint_issue_fixable_count=a;return this};c.setLintIssueHasFix=function(a){this.$1.lint_issue_has_fix=a;return this};c.setLintIssueRuleName=function(a){this.$1.lint_issue_rule_name=a;return this};c.setLintIssueTotalCount=function(a){this.$1.lint_issue_total_count=a;return this};c.setLintIssueWarningCount=function(a){this.$1.lint_issue_warning_count=a;return this};c.setLintLinterID=function(a){this.$1.lint_linter_id=a;return this};c.setManualSessionID=function(a){this.$1.manual_session_id=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPageItemCount=function(a){this.$1.page_item_count=a;return this};c.setPixelcloudAttachmentID=function(a){this.$1.pixelcloud_attachment_id=a;return this};c.setPixelcloudPostID=function(a){this.$1.pixelcloud_post_id=a;return this};c.setProjectID=function(a){this.$1.project_id=a;return this};c.setProjectOwnerID=function(a){this.$1.project_owner_id=a;return this};c.setProjectPageCount=function(a){this.$1.project_page_count=a;return this};c.setProjectPlatform=function(a){this.$1.project_platform=a;return this};c.setPropPublishingComponentName=function(a){this.$1.prop_publishing_component_name=a;return this};c.setPropPublishingPropPath=function(a){this.$1.prop_publishing_prop_path=a;return this};c.setPupperCustomComponentUpdatedCount=function(a){this.$1.pupper_custom_component_updated_count=a;return this};c.setPupperMasterUpdatedCount=function(a){this.$1.pupper_master_updated_count=a;return this};c.setPupperNewArtboardCount=function(a){this.$1.pupper_new_artboard_count=a;return this};c.setPupperPageDuplicatedCount=function(a){this.$1.pupper_page_duplicated_count=a;return this};c.setPupperPageStateDuplicatedCount=function(a){this.$1.pupper_page_state_duplicated_count=a;return this};c.setPupperScreenshotCount=function(a){this.$1.pupper_screenshot_count=a;return this};c.setPupperScreenshotMissingCount=function(a){this.$1.pupper_screenshot_missing_count=a;return this};c.setPupperStateUpdatedCount=function(a){this.$1.pupper_state_updated_count=a;return this};c.setPupperVariableUpdatedCount=function(a){this.$1.pupper_variable_updated_count=a;return this};c.setQueryString=function(a){this.$1.query_string=a;return this};c.setSemaphoreIssueStatus=function(a){this.$1.semaphore_issue_status=a;return this};c.setSemaphoreIssueType=function(a){this.$1.semaphore_issue_type=a;return this};c.setSemaphoreIssueValue=function(a){this.$1.semaphore_issue_value=a;return this};c.setSharedComponentCount=function(a){this.$1.shared_component_count=a;return this};c.setSharedComponentID=function(a){this.$1.shared_component_id=a;return this};c.setSharedComponentInstanceCount=function(a){this.$1.shared_component_instance_count=a;return this};c.setSharedComponentVersionNumber=function(a){this.$1.shared_component_version_number=a;return this};c.setShouldActionSave=function(a){this.$1.should_action_save=a;return this};c.setSynchronousExecutionMs=function(a){this.$1.synchronous_execution_ms=a;return this};c.setTemplateID=function(a){this.$1.template_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action_type:!0,api_uri:!0,app_mode:!0,artboard_id:!0,canvas_view_mode:!0,comments_has_unread_comments:!0,component_name:!0,component_picker_custom_component_count:!0,component_picker_design_system:!0,component_picker_did_insert_component:!0,component_picker_filtered_categories:!0,component_picker_real_component_count:!0,component_picker_search_term:!0,diff_uris:!0,diff_value:!0,dynamic_group_property:!0,elapsed_ms:!0,error_message:!0,event:!0,feature_event:!0,feature_name:!0,history_entry_id:!0,is_page_focused:!0,is_page_using_data:!0,is_page_visible:!0,js_memory_usage_mb:!0,lint_issue_advice_count:!0,lint_issue_error_count:!0,lint_issue_fixable_count:!0,lint_issue_has_fix:!0,lint_issue_rule_name:!0,lint_issue_total_count:!0,lint_issue_warning_count:!0,lint_linter_id:!0,manual_session_id:!0,page_id:!0,page_item_count:!0,pixelcloud_attachment_id:!0,pixelcloud_post_id:!0,project_id:!0,project_owner_id:!0,project_page_count:!0,project_platform:!0,prop_publishing_component_name:!0,prop_publishing_prop_path:!0,pupper_custom_component_updated_count:!0,pupper_master_updated_count:!0,pupper_new_artboard_count:!0,pupper_page_duplicated_count:!0,pupper_page_state_duplicated_count:!0,pupper_screenshot_count:!0,pupper_screenshot_missing_count:!0,pupper_state_updated_count:!0,pupper_variable_updated_count:!0,query_string:!0,semaphore_issue_status:!0,semaphore_issue_type:!0,semaphore_issue_value:!0,shared_component_count:!0,shared_component_id:!0,shared_component_instance_count:!0,shared_component_version_number:!0,should_action_save:!0,synchronous_execution_ms:!0,template_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("promiseTimeout",["Promise","setTimeout"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("Promise"))(function(c){return void b("setTimeout")(c,a)})}e.exports=a}),null);
__d("ProtonAPIUtils",["Promise","ProtonConfig","ProtonUtils","URI","XHRRequest","getCrossOriginTransport","promiseAsyncRequest"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonUtils").logErrorInDev;function h(a){return new(b("URI"))(a).addQueryData("session_id",b("ProtonConfig").sessionID)}function a(a,c,d){return i(a,c,b("promiseAsyncRequest")(c,{data:d}))}function c(a,c,d){c=h(c.getURI());a=i(a,c,b("promiseAsyncRequest")(c,{data:d}));return a.then(function(a){return a.payload})}function i(a,b,c){var d=Date.now();return c.then(function(c){a({type:"api request succeeded",elapsedMS:Date.now()-d,apiURI:b.toString()});return c})["catch"](function(c){a({type:"api request failed",elapsedMS:Date.now()-d,apiURI:b.toString()});g(c);throw c})}function d(a,c,d){return i(a,c,new(b("Promise"))(function(a,e){var f=new(b("XHRRequest"))(c).setMethod("GET").setResponseHandler(function(b,c,d){d&&a(b)}).setErrorHandler(function(a){e(a)});d&&d.isCORs&&f.setTransportBuilder(b("getCrossOriginTransport").withCredentials);f.send()}))}e.exports={addSessionIDToURI:h,loggedAsyncRequest:a,loggedTypedAsyncRequestWithSessionID:c,loggedXHRRequest:d,wrapPromiseWithLogging:i}}),null);
__d("ProtonDataSourceAPI",["regeneratorRuntime","Promise","ProtonAPIUtils","XProtonViewDataSourceVersionAsyncController","promiseAsyncRequest"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAPIUtils").loggedXHRRequest,h=b("ProtonAPIUtils").wrapPromiseWithLogging;function a(a,c){__p&&__p();var d,e,f,g,h,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:d=[],e=function(){__p&&__p();if(g){if(h>=f.length)return"break";j=f[h++]}else{h=f.next();if(h.done)return"break";j=h.value}var b=j;b[0];var c=b[1];if(c.type!=="dataSource")return"continue";b=i(a,c).then(function(b){if(c.id==null||c.type!=="dataSource")return;a({type:"update variable data",variableID:c.id,data:b})});d.push(b)},(f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 3:k=e();l.t0=k;l.next=l.t0==="break"?7:l.t0==="continue"?8:9;break;case 7:return l.abrupt("break",11);case 8:return l.abrupt("continue",9);case 9:l.next=3;break;case 11:return l.abrupt("return",b("Promise").all(d));case 12:case"end":return l.stop()}},null,this)}function i(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=b("XProtonViewDataSourceVersionAsyncController").getURIBuilder().setFBID("id",c.value.id).getURI();return e.abrupt("return",h(a,d,b("promiseAsyncRequest")(d).then(function(b){return g(a,b.payload.uri)}).then(function(a){try{return a&&JSON.parse(a)}catch(a){return null}})));case 2:case"end":return e.stop()}},null,this)}e.exports={loadDataSourcesForProject:a,loadDataSourceVersion:i}}),null);
__d("ProtonRichTextTranslator",["EditorState","convertFromDraftStateToRaw","convertFromRawToDraftState","mapObject","memoizeByReference"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("memoizeByReference")(function(a){return babelHelpers["extends"]({},a,{state:b("convertFromDraftStateToRaw")(a.state.getCurrentContent())})});function a(a,c){a=b("mapObject")(a,function(a,b){b=c.propTypes&&c.propTypes[b];if(!b)return a;else if(b.type==="richText")return g(a);return a});return a}function c(a){return babelHelpers["extends"]({},a,{state:b("EditorState").createWithContent(b("convertFromRawToDraftState")(a.state))})}e.exports={dehydrateForJSON:a,rehydratePropFromJSON:c}}),null);
__d("ProtonElementTranslator",["ProtonComponentConfigUtils","ProtonComponents","ProtonRichTextTranslator","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponentConfigUtils").addIDToArrayProps,h=b("ProtonComponents").getComponentConfig;function a(a){var b=a.props,c=h(a.componentName);return!c?a:babelHelpers["extends"]({},a,{props:i(b,c.propTypes)})}function i(a,c){return b("mapObject")(a,function(a,d){d=c[d];if(!d||!a)return a;if(d.type==="richText")return b("ProtonRichTextTranslator").rehydratePropFromJSON(a);else if(d.type==="array"&&d.arrayPropTypes)return g(a,d.arrayPropTypes);return a})}function j(a,c){return b("ProtonRichTextTranslator").dehydrateForJSON(a,c)}function c(a){var b=h(a.componentName);return!b?a:babelHelpers["extends"]({},a,{props:j(a.props,b)})}e.exports={serializeToAPI:c,deserializeFromAPI:a,deserializePropsFromAPI:i}}),null);
__d("ProtonPageStateTranslator",["ProtonComponents","ProtonConstants","ProtonElementTranslator","ProtonRichTextTranslator","emptyObject","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonConstants").DEFAULT_PAGE_STATE,i=b("ProtonConstants").EMPTY_ARRAY;function a(a,c){var d=a.elementDiffByID,e=a.groupDiffByID,f=a.cymbalDiffByID,g=a.expressionDiffsByItemID;a=babelHelpers.objectWithoutPropertiesLoose(a,["elementDiffByID","groupDiffByID","cymbalDiffByID","expressionDiffsByItemID"]);d=Array.isArray(d)?d:i;e=Array.isArray(e)?e:i;f=Array.isArray(f)?f:i;g=Array.isArray(g)?g:i;return babelHelpers["extends"]({},h,a,{groupDiffByID:new Map(e),elementDiffByID:b("mapMap")(new Map(d),function(a,b){return j(a,b,c)}),cymbalDiffByID:new Map(f),expressionDiffsByItemID:m(g)})}function j(a,c,d){d=d.get(c);if(!d)return b("emptyObject");c=g(d.componentName);if(!c)return b("emptyObject");d=a.props;return!d?a:babelHelpers["extends"]({},a,{props:b("ProtonElementTranslator").deserializePropsFromAPI(d,c.propTypes)})}function k(a,c,d){d=d.get(c);if(!d)return a;c=g(d.componentName);if(!c)return a;d=a.props;return!d?a:babelHelpers["extends"]({},a,{props:b("ProtonRichTextTranslator").dehydrateForJSON(d,c)})}function c(a,c){return babelHelpers["extends"]({},a,{elementDiffByID:Array.from(b("mapMap")(a.elementDiffByID,function(a,b){return k(a,b,c)})),groupDiffByID:Array.from(a.groupDiffByID),cymbalDiffByID:Array.from(a.cymbalDiffByID),expressionDiffsByItemID:l(a.expressionDiffsByItemID)})}function l(a){a=Array.from(a);a=a.map(function(a){var b=a[0];a=a[1];return[b,Array.from(a)]});return a}function m(a){a=new Map(a);a=b("mapMap")(a,function(a){return new Map(a)});return a}e.exports={deserializeExpressionsByItemIDFromAPI:m,pageStateFromAPI:a,pageStateToAPI:c,serializeExpressionsByItemIDToAPI:l}}),null);
__d("ProtonMigrations",["invariant","regeneratorRuntime","Promise","Bootloader","ProtonConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("ProtonConstants").CURRENT_PROJECT_SCHEMA_VERSION;var h=[function(a){return b("Bootloader").loadModules(["ProtonV01RemoveDeprecatedTranslatorMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV02FillInFixedDistanceMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV03ApplySizeBehaviorFromPosition"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV04GroupBorderFormatMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV05FixedDataTableMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV06AddDynamicGroupBordersToSize"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV07FontFamilyMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV08FixSizeBehaviorForNonResizableElements"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV09GroupPaddingFormatMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV10DefaultBorderWidthMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV11TypographyMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV12RestoreFitToChildrenForNonresizableElements"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV13CSVSourceColumnMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV14UpdateDynamicGroupSpacing"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV15MigrateDynamicGroupStretchAlignment"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV16UpdateDynamicGroupAlignment"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV17AddAspectRatioToElements"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV18TypographyShadeDefaultSizeMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV19StaticGroupsFitToChildrenMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["Protonv20SUIMenuAlignmentMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV21GroupOverflowMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV22MigratePageBackgroundColor"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV23MigrateCymbalBackgoundColor"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV24ElementBorderEditorMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV25GroupBorderEditorMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV26RemoveNameFromPageStateMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV27RichTextFillColorMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV28GroupBorderRadiusMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV29ElementBorderRadiusMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV30DeprecateSUITableMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV31PageSizeBehaviorMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV32EmptyCymbalPropsMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV33DataVariablesArrayToMapMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV34GroupAlignmentMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV35UndefinedCymbalPropsMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV36SUISelectorEntryTypeMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV37GroupSpacingMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV38PageStatePageDiffMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV39GroupInteractionsMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV40FixedDataTableRowHeightMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV41GroupAnimationDurationMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV42ElementAnimationDurationMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV43MergeGroupsMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV44SUIDropdownMenuButtonLabelMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV45MigrateStaticGroupsWithNoSize"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV46SplitButtonsEntriesMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV47NullParentGroupIDMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV48FDSSelectorErrorMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV49FDSTabGroupInitialValueMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV50MigrateRotationPropsToItem"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV51DeprecateFDSCheckboxInputMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV52ExperimentalFDSCheckboxInputMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV53FontFamilyMigration"],a,"ProtonMigrations")},function(a){return b("Bootloader").loadModules(["ProtonV54FontFamilyMigration"],a,"ProtonMigrations")}];function a(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("Promise").all(h.slice(a).map(function(a){return new(b("Promise"))(function(b){return a(b)})})));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}h.length===c||g(0,1584);e.exports={MIGRATIONS:h,getMigrationsToRun:a}}),null);
__d("ProtonPageTranslator",["regeneratorRuntime","Promise","ProtonConstants","ProtonElementTranslator","ProtonMigrations","ProtonPageStateTranslator","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").DEFAULT_PAGE,h=b("ProtonConstants").EMPTY_ARRAY;d=b("ProtonConstants").EMPTY_CYMBAL;f=b("ProtonConstants").EMPTY_ELEMENT;var i=b("ProtonConstants").EMPTY_GROUP,j=b("ProtonConstants").EMPTY_ITEM,k=b("ProtonConstants").EMPTY_PROP_METADATA,l=b("ProtonPageStateTranslator").deserializeExpressionsByItemIDFromAPI,m=b("ProtonPageStateTranslator").pageStateFromAPI,n=b("ProtonPageStateTranslator").pageStateToAPI,o=b("ProtonPageStateTranslator").serializeExpressionsByItemIDToAPI,p=new Map([["element",f],["group",i],["cymbal",d]]);function q(a){var c=a.cymbalByID,d=a.elementByID,e=a.expressionsByItemID,f=a.groupByID,h=a.pageStateByID,i=a.propMetadataByID;a=babelHelpers.objectWithoutPropertiesLoose(a,["cymbalByID","elementByID","expressionsByItemID","groupByID","pageStateByID","propMetadataByID"]);var j=w(d);return babelHelpers["extends"]({},g,a,{elementByID:j,expressionsByItemID:l(e),groupByID:x(f),cymbalByID:y(c),pageStateByID:b("mapMap")(new Map(h),function(a){return m(a,j)}),propMetadataByID:Array.isArray(i)?z(i):g.propMetadataByID})}function a(a){var c=babelHelpers["extends"]({},a,{elementByID:s(a.elementByID),groupByID:t(a.groupByID),expressionsByItemID:o(a.expressionsByItemID),cymbalByID:u(a.cymbalByID),pageStateByID:Array.from(b("mapMap")(a.pageStateByID,function(b){return n(b,a.elementByID)})),propMetadataByID:v(a.propMetadataByID)});return c}function r(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:c=c||0;f.next=3;return b("regeneratorRuntime").awrap(b("ProtonMigrations").getMigrationsToRun(c));case 3:d=f.sent;e=d.reduce(function(a,b){return b.translatePage(a)},a);return f.abrupt("return",q(e));case 6:case"end":return f.stop()}},null,this)}function s(a){return Array.from(b("mapMap")(a,b("ProtonElementTranslator").serializeToAPI))}function t(a){return Array.from(a)}function u(a){return Array.from(a)}function v(a){return Array.from(a)}function w(a){return new Map(a.map(function(a){var c=a[0];a=a[1];return[c,b("ProtonElementTranslator").deserializeFromAPI(A(a,"element"))]}))}function x(a){return new Map(a.map(function(a){var b=a[0];a=a[1];return[b,A(a,"group")]}))}function y(a){return new Map(a.map(function(a){var b=a[0];a=a[1];return[b,A(a,"cymbal")]}))}function z(a){a===void 0&&(a=h);return new Map(a.map(function(a){var b=a[0];a=a[1];return[b,babelHelpers["extends"]({},k,a)]}))}function A(a,b){return babelHelpers["extends"]({},p.get(b)||j,a)}function c(a,c){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("Promise").all(a.map(function(a){__p&&__p();var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=a[0],e=a[1];g.next=3;return b("regeneratorRuntime").awrap(r(e,c));case 3:f=g.sent;return g.abrupt("return",[d,f]);case 5:case"end":return g.stop()}},null,this)})));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)}e.exports={serializeCymbalByIDToAPI:u,serializeElementByIDToAPI:s,serializeGroupByIDToAPI:t,serializePropMetadataByIDToAPI:v,serializeToAPI:a,deserializeFromAPI:q,deserializePropMetadataByIDFromAPI:z,deserializeCymbalByIDFromAPI:y,deserializeGroupByIDFromAPI:x,deserializeElementByIDFromAPI:w,fromAPI:r,toAPI:a,translatePageByIDArray:c}}),null);
__d("objectToMap",["forEachObject"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Map();b("forEachObject")(a,function(a,b){c.set(b,a)});return c}e.exports=a}),null);
__d("ProtonProjectStatusTranslator",["objectToMap"],(function(a,b,c,d,e,f){"use strict";function a(a){return{currentTime:a.currentTime,editors:b("objectToMap")(a.editors),isBeingEdited:a.isBeingEdited,lastEditorID:a.lastEditorID,lastEditorSessionID:a.lastEditorSessionID,owner:a.owner,projectID:a.projectID,projectSchemaVersion:a.projectSchemaVersion,version:a.version,viewers:b("objectToMap")(a.viewers)}}e.exports={fromAPI:a}}),null);
__d("ProtonInstancePath",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="",h=",",i="~=";function j(a,b){return a===g?b:a+h+b}function k(a){a=a.split(i);var b=a[0];a=a[1];a=a.split(h).filter(function(a){return a!==g});return{rootPageID:b,cymbalInstanceIDs:a}}function l(a){return a+i}function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.reduce(function(a,b){return j(a,b)},l(a))}function b(a){a=k(a);a=a.rootPageID;return a}e.exports={add:j,create:a,createFromPageID:l,getRootPageID:b,toObject:k,toString:toString}}),null);
__d("ProtonItemUtils",["ProtonConstants","ProtonComponents","gkx","groupArray","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY,h=b("ProtonComponents").getComponentConfig;function a(a,c){return b("nullthrows")(i(a,c))}function i(a,b){return a.cymbalByID.get(b)}function c(a,c){return b("nullthrows")(j(a,c))}function j(a,b){return a.elementByID.get(b)}function k(a,b){a=l(a,b);return a?a.layout==="dynamic":!1}function d(a,c){return b("nullthrows")(l(a,c))}function l(a,b){return b==null?null:a.groupByID.get(b)}function m(a,b){var c=typeof b==="string"?b:p(b);a=typeof b==="string"?n(a,b):b;return{itemID:c,pageItem:a}}function f(a,b){__p&&__p();b=m(a,b);b=b.pageItem;if(!b)return null;switch(b.type){case"element":return a.elementByID.get(b.elementID);case"group":return a.groupByID.get(b.groupID);case"cymbal":return a.cymbalByID.get(b.cymbalID);default:b.type}return null}function n(a,b){if(a.elementByID.has(b))return{type:"element",elementID:b};else if(a.groupByID.has(b))return{type:"group",groupID:b};else if(a.cymbalByID.has(b))return{type:"cymbal",cymbalID:b};return null}function o(a,b){return Array.from(b).map(function(b){return n(a,b)}).filter(Boolean)}function p(a){switch(a.type){case"element":return a.elementID;case"group":return a.groupID;case"cymbal":return a.cymbalID;default:a.type}return""}function q(){var a=new Set();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){b.forEach(function(b){typeof b==="object"&&b!=null&&b.name&&a.add(b.name)})});return a}function r(a){a=b("groupArray")(a,function(a){return a.type});var c=a.element,d=a.cymbal;a=a.group;return{elementIDs:c?c.map(p):g,cymbalIDs:d?d.map(p):g,groupIDs:a?a.map(p):g}}function s(a){return a.type==="element"}function t(a){return a.type==="group"}function u(a){return a.type==="cymbal"}function v(a){return a.type==="cymbal"||a.type==="element"}function w(a){switch(a.type){case"cymbal":return b("gkx")("852488")?!0:!1;case"group":return!0;case"element":var c=h(a.componentName);return y(c);default:a.type}return!1}function x(a){switch(a.type){case"cymbal":return b("gkx")("852488")?!0:!1;case"group":return!0;case"element":var c=h(a.componentName);return z(c);default:a.type}return!1}function y(a){return b("gkx")("852488")&&(a==null?void 0:a.componentType)==="cymbal"?!0:!!a&&(a.resizable==="both"||a.resizable==="horizontal")}function z(a){return b("gkx")("852488")&&(a==null?void 0:a.componentType)==="cymbal"?!0:!!a&&(a.resizable==="both"||a.resizable==="vertical")}function A(a,b){return!a||!b||b.parentGroupID==null?!1:k(a,b.parentGroupID)}e.exports={getActualItem:f,getCymbal:i,getCymbalX:a,getElement:j,getElementX:c,getGroup:l,getGroupX:d,getItem:n,getItemAndID:m,getItemID:p,getItems:o,getNames:q,groupItems:r,isCymbal:u,isDynamicGroup:k,isElement:s,isGroup:t,isHorizontallyResizableElement:y,isItemInDynamicGroup:A,isItemHorizontallyResizable:w,isItemVerticallyResizable:x,isItemWithProps:v,isVerticallyResizableElement:z}}),null);
__d("ProtonPageItemSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.items}e.exports={getRootItems:a}}),null);
__d("ProtonGroupPropTypes",["ProtonBorderConstants","ProtonComponentConfigUtils","ProtonConstants","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ProtonBorderConstants").DEFAULT_COMPOUND_BORDER;c=b("ProtonComponentConfigUtils").preprocessPropTypes;d=b("ProtonConstants").EMPTY_BORDER_RADIUS;f=b("ProtonConstants").EMPTY_SPACING;var g=b("ProtonConstants").MAX_OPACITY;c=c({borderRadius:{type:"border radius","default":d,isEditable:!0},layout:{"default":"static",isEditable:!0,options:[{label:"Static",value:"static"},{label:"Dynamic",value:"dynamic"}].filter(Boolean),type:"enum"},layoutDirection:{type:"group layout direction","default":"horizontal",displayName:"Direction",isEditable:!0,isVisible:function(a){return a.layout==="dynamic"}},alignment:{type:"group alignment","default":"horizontal",isEditable:!0,isVisible:function(a){return a.layout==="dynamic"}},spacingX:{displayName:"Spacing","default":{isSpaceBetween:!1,value:0},inputSize:"half",isEditable:!0,isVisible:function(a){return a.layout==="dynamic"},type:"group spacing x"},spacingY:{displayName:" ","default":{isSpaceBetween:!1,value:0},inputSize:"half",isEditable:!0,isVisible:function(a){return a.layout==="dynamic"},type:"group spacing y"},overflow:{"default":"hidden",isEditable:!0,options:[{label:"Visible",value:"visible"},{label:"Hidden",value:"hidden"},{label:"Scroll Vertical",value:"scroll vertical"},{label:"Scroll Horizontal",value:"scroll horizontal"},{label:"Scroll Both",value:"scroll both"}].filter(Boolean),type:"enum"},isHorizontalScrollbarHidden:{"default":!1,isEditable:!0,isVisible:h,type:"boolean"},isVerticalScrollbarHidden:{"default":!1,isEditable:!0,isVisible:i,type:"boolean"},shouldScrollAutomatically:{"default":!1,displayName:"Scroll when initial scroll changes",isEditable:!0,type:"boolean",isVisible:function(a){return h(a)||i(a)}},initialScrollLeft:{"default":0,displayName:"Initial Scroll Left",inputSize:"half",isEditable:b("gkx")("731120"),isVisible:h,type:"number"},initialScrollTop:{"default":0,displayName:"Initial Scroll Top",inputSize:"half",isEditable:b("gkx")("731120"),isVisible:i,type:"number"},padding:{type:"group padding","default":f,isEditable:!0},opacity:{type:"number","default":g,isEditable:!0,max:g},backgroundColor:{"default":null,inputSize:"half",isEditable:!0,type:"color"},border:{type:"border","default":[a],isEditable:!0},boxShadow:{type:"box shadow","default":"",isEditable:!0},onClick:{"default":null,isEditable:!0,type:"pageFunctionNullable"},onMouseOver:{displayName:"On Hover","default":null,isEditable:!0,type:"pageFunctionNullable"},onMouseOut:{displayName:"On Leave","default":null,isEditable:!0,type:"pageFunctionNullable"},onMouseDown:{"default":null,isEditable:!0,type:"pageFunctionNullable"},onMouseUp:{"default":null,isEditable:!0,type:"pageFunctionNullable"},onScrollToPoint:{"default":null,isEditable:b("gkx")("731120"),type:"pageFunctionNullable"}});function h(a){return a.overflow==="scroll horizontal"||a.overflow==="scroll both"}function i(a){return a.overflow==="scroll vertical"||a.overflow==="scroll both"}e.exports=c}),null);
__d("ProtonGroupUtils",["ProtonBorderUtils","ProtonComponentConfigUtils","ProtonCSSShorthandUtils","ProtonGroupPropTypes","ProtonUtils","filterObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").getBorderFromCompoundBorder,h=b("ProtonBorderUtils").getBorderWidth,i=b("ProtonComponentConfigUtils").isPageFunction,j=b("ProtonCSSShorthandUtils").getInferredSpacing,k=b("ProtonUtils").isInteractionActive,l=Object.keys(b("filterObject")(b("ProtonGroupPropTypes"),i));function m(a){return a==="vertical"?"column":"row"}function a(a){var b=a.layoutDirection==="wrap"?"wrap":"nowrap",c=m(a.layoutDirection),d=p(a),e=q(a);return{alignContent:n(a),alignItems:c==="row"?a.alignment.y:a.alignment.x,display:"inline-flex",flexDirection:c,flexWrap:b,justifyContent:o(a),marginLeft:-d,marginTop:-e}}function c(a){var b=g(a.border);a=j(a.padding);return h(b.left)+h(b.right)+a.left+a.right}function d(a){var b=g(a.border);a=j(a.padding);return h(b.top)+h(b.bottom)+a.top+a.bottom}function n(a){switch(a.layoutDirection){case"horizontal":return a.alignment.x;case"vertical":return a.alignment.y;case"wrap":return a.spacingY.isSpaceBetween?"space-between":a.alignment.y}return"flex-start"}function f(a){if(m(a.layoutDirection)==="row")return a.alignment.y;else return a.alignment.x}function o(a){var b=m(a.layoutDirection);if(b==="row")return a.spacingX.isSpaceBetween?"space-between":a.alignment.x;else return a.spacingY.isSpaceBetween?"space-between":a.alignment.y}function p(a){return a.layoutDirection==="wrap"?a.spacingX.value:0}function q(a){return a.layoutDirection==="wrap"?a.spacingY.value:0}function r(a,b,c){__p&&__p();if(v(a))return{overflow:"visible"};if(b)switch(a.overflow){case"hidden":return{overflow:"hidden"};case"visible":return{overflow:"visible"};case"scroll horizontal":return{overflowX:"auto",overflowY:"hidden"};case"scroll vertical":return{overflowX:"hidden",overflowY:"auto"};case"scroll both":return{overflow:"auto"};default:a.overflow;return{}}b=a.overflow==="visible"||c;return{overflow:b?"visible":"hidden"}}function s(a){return l.some(function(b){return a[b]&&k(a[b])})}function t(a){return a.overflow==="scroll both"||a.overflow==="scroll horizontal"}function u(a){return a.overflow==="scroll both"||a.overflow==="scroll vertical"}function v(a){return a.widthSizeBehavior==="fit to children"&&a.heightSizeBehavior==="fit to children"}e.exports={getAlignContent:n,getAlignItems:f,getFlexDirection:m,getFlexStyles:a,getGroupMinWidth:c,getGroupMinHeight:d,getJustifyContent:o,getOverflowStyles:r,hasInteractions:s,canScrollHorizontally:t,canScrollVertically:u,isFitToChildren:v}}),null);
__d("ProtonSelectorCreators",["areEqual","gkx","memoizeWithArgsWeak","reselect","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("reselect").createSelectorCreator;c=b("reselect").defaultMemoize;d=a(c,b("areEqual"));var g=a(function(a){return b("memoizeWithArgsWeak")(a,"createProtonSelector")});g.logged=b("gkx")("813693")?function(a){__p&&__p();for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.pop(),g=d,h=b("memoizeWithArgsWeak")(f,"createProtonSelector-"+a),i,j,k,l=function(a,c){if(a===i&&(j==null&&c==null||b("shallowEqual")(c,j)))return k;i=a;j=c;var d=[],e=g.length;for(var f=0;f<e;f++)d.push(g[f].apply(null,arguments));k=h.apply(null,d);return k};return l}:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return g.apply(void 0,c)};e.exports={createDeepEqualSelector:d,createProtonSelector:g}}),null);
__d("ProtonGroupComponentConfig",["ProtonComponentTypeEnum","ProtonConstants","ProtonGroupPropTypes"],(function(a,b,c,d,e,f){"use strict";a=b("ProtonConstants").EMPTY_FUNCTION;c=b("ProtonConstants").EMPTY_GROUP;d={component:a,componentName:"Group",componentType:b("ProtonComponentTypeEnum").code,category:"Custom Components",defaultProps:c,defaultHeight:0,defaultWidth:0,isBIGApproved:!0,propTypes:b("ProtonGroupPropTypes"),resizable:"both",subCategory:"My Components"};e.exports=d}),null);
__d("ProtonSharedComponentUtils",["ProtonConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY;function a(a){return Array.from(a.values()).map(function(a){var c;a={component:b("React").Suspense,componentName:a.id,componentType:"shared",displayName:a.name,category:(c=a.category)!=null?c:"",subCategory:(c=a.subcategory)!=null?c:"",tags:(c=a.tags)!=null?c:g,resizable:"none",propTypes:{}};return a})}function c(a,b){return a.sharedComponentMetadata==null||((a=a.sharedComponentMetadata)==null?void 0:a.sourceProjectID)===b}e.exports={convertSharedComponentsToPreviewComponentConfigs:a,shouldShowSharedComponent:c}}),null);
__d("ProtonPageSelectors",["ProtonConstants","ProtonIDTypes","ProtonInstancePath","ProtonSelectorCreators","ProtonSharedComponentUtils","filterMap","last","nullthrows","partitionArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_SET,h=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,i=b("ProtonSelectorCreators").createDeepEqualSelector,j=b("ProtonSelectorCreators").createProtonSelector,k=b("ProtonSharedComponentUtils").shouldShowSharedComponent,l="~:";function m(a){return o(a,a.selection.activePageID)}function n(a){return a.selection.activePageID}function o(a,c){return b("nullthrows")(p(a,c))}function p(a,b){return a.project.pages.find(function(a){return a.id===b})}function a(a,b){b=b;return b===null||b===void 0?null:a.pageStateByID.get(b)}function q(a,c){return t(a,b("ProtonInstancePath").createFromPageID(c))}function r(a){return q(a,n(a))}function c(a){return b("last")(r(a))||h}var s=j.logged("selectActivePageState",m,c,a);function t(a,b){return a.selection.activePageStateIDsByCymbalPath.get(b)||g}function d(a,b){return a.project.pages.some(function(a){return a.id===b})}function f(a){return new Map(a.map(function(a){return[a.id,a]}))}var u=j.logged("selectPageByID",function(a){return a.project.pages},f),v=j.logged("selectCymbalPageByID",u,function(a){return b("filterMap")(a,function(a){return Boolean(a.isCymbal)})}),w=j.logged("selectVisibleCymbalPageByID",function(a){return z(a).cymbalPages},f);function x(a,c){a=b("partitionArray")(a,function(a){return!!a.isCymbal});var d=a[0];a=a[1];d=b("partitionArray")(d,function(a){return k(a,c)});var e=d[0];d=d[1];return{cymbalPages:e,normalPages:a,hiddenPages:d}}function y(a){a=m(a);a=a.isCymbal;return a===!0?"cymbals":"pages"}var z=j.logged("selectPageLists",function(a){return a.project.pages},function(a){return a.project.id},x);function A(a){var b=a.selection,c=b.isCanvasContextMenuShown,d=b.isShowingPageResizeHandles;b=b.hoveredItem;if(d)return!1;if(c)return!0;d=n(a);return(b==null?void 0:b.type)==="page"&&(b==null?void 0:b.id)===d}var B=i(function(a){return a},function(a){return a}),C=i(function(a){return a},function(a){return new Set(a)});function D(a){a=z(a).normalPages;a=a.map(function(a){return a.id});return B(a)}function E(){__p&&__p();var a,b;return function(c){__p&&__p();c=c.project.pages;var d=c.map(function(a){return a.id+l+a.name}).join(l);if(d===a)return b;c=new Map(c.map(function(a){return[a.id,a.name]}));a=d;b=c;return c}}j=E();function F(a){return C(a.project.pages.map(function(a){return a.id}))}function G(a){var b;return(b=a.selection.lastSelectedPageID)!=null?b:n(a)}function H(a){var b=G(a),c=y(a);a=z(a);var d=a.cymbalPages;a=a.normalPages;c=c==="cymbals"?d:a;return c.findIndex(function(a){return a.id===b})}e.exports={doesPageExist:d,getActivePageID:n,getActivePageStateIDForEditMode:c,getActivePageStatesForActivePage:r,getActivePageStatesForCymbalPath:t,getActivePageStatesForPageID:q,getIsPageHovered:A,getLastSelectedPageID:G,getLastSelectedPageIndex:H,getPage:p,getPageByID:f,getPageLists:x,getPageState:a,getPageX:o,getRawActivePage:m,getSelectedPageList:y,selectActivePageState:s,selectCymbalPageByID:v,selectNavigatablePageIDs:D,selectPageByID:u,selectPageIDs:F,selectPageLists:z,selectPageNameByID:j,selectVisibleCymbalPageByID:w}}),null);
__d("ProtonPageStateUtils",["ProtonConstants","areEqual","filterObject","memoizeWithArgsWeak","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_OBJECT,h=b("ProtonConstants").PAGE_PROPS_EDITABLE_IN_STATE;function i(a,b){var c=b.position;b=babelHelpers.objectWithoutPropertiesLoose(b,["position"]);var d=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["position"]);return babelHelpers["extends"]({},a,b,{position:c?babelHelpers["extends"]({},d,c):d})}var j=b("memoizeWithArgsWeak")(function(a,b){return m(a,b)}),k=b("memoizeWithArgsWeak")(function(a,b){return m(a,b)}),l=b("memoizeWithArgsWeak")(function(a,b){return i(a,b)});function m(a,c){var d=i(a,c);c=c.props;return!c?d:b("spread")(d,{props:babelHelpers["extends"]({},a.props,c)})}function a(a){switch(a.type){case"element":return j;case"cymbal":return k;case"group":return l;default:a.type}return i}function c(a){return new Set(a.filter(Boolean))}function d(a,c,d){d=d?b("filterObject")(d,function(a,b){return h.has(b)}):g;c=babelHelpers["extends"]({},c,d);d=b("filterObject")(c,function(c,d){return!b("areEqual")(c,a[d])});return d}e.exports={getFilteredPageDiff:d,getMergeFunctionForPageItem:a,mergeCymbalDiff:k,mergeElementDiff:j,mergeGroupDiff:l,getPageStateIDSet:c}}),null);
__d("ProtonCymbalComponentConfigs",["ProtonComponents","ProtonComponentTypeEnum","ProtonConstants","ProtonGroupComponentConfig","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateUtils","ProtonPropPath","ProtonPropUtils","ProtonSelectorCreators","ProtonUtils","memoizeWithArgsWeak","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonConstants").EMPTY_COMPONENT,i=b("ProtonConstants").EMPTY_OBJECT,j=b("ProtonItemUtils").getActualItem,k=b("ProtonPageSelectors").selectPageByID;c=b("ProtonPageSelectors").selectVisibleCymbalPageByID;var l=b("ProtonPageStateUtils").mergeCymbalDiff,m=b("ProtonPageStateUtils").mergeElementDiff,n=b("ProtonPageStateUtils").mergeGroupDiff,o=b("ProtonPropPath").getPropNameAtItemPath,p=b("ProtonPropPath").getPropTypeAtItemPath,q=b("ProtonPropPath").getValueAtPath,r=b("ProtonPropUtils").getDefaultProps;d=b("ProtonSelectorCreators").createProtonSelector;var s=b("ProtonUtils").getPropertyLabel,t=new Map(),u=b("memoizeWithArgsWeak")(function(a,c,d,e){__p&&__p();var f=a.get(c);if(!f||f.isCymbal!==!0)return null;var k=t.get(c),o=k?k.propTypes:i,p=Array.from(f.propMetadataByID).reduce(function(c,h){__p&&__p();h[0];h=h[1];var i=h.id,k=h.itemID;k=j(f,k);if(!k)return c;var o;switch(k.type){case"element":o=g(k.componentName);break;case"group":o=b("ProtonGroupComponentConfig");break;case"cymbal":o=u(a,k.cymbalPageID,d,k.cymbalPageStateID);break;default:k.type}if(!o)return c;var p=e!=null?f.pageStateByID.get(e):null;if(p)switch(k.type){case"element":var q=p.elementDiffByID.get(k.id);q&&(k=m(k,q));break;case"group":q=p.groupDiffByID.get(k.id);q&&(k=n(k,q));break;case"cymbal":q=p.cymbalDiffByID.get(k.id);q&&(k=l(k,q));break}p=b("ProtonInstancePath").create(f.id,k.id);q=d.get(p);p=q&&q.get(h.propPath);q=v(h,o,k,p);return!q?c:babelHelpers["extends"]({},c,(h={},h[i]=q,h))},{});b("shallowEqual")(p,o)&&(p=o);o=babelHelpers["extends"]({component:h,componentName:f.id,componentType:b("ProtonComponentTypeEnum").cymbal,displayName:f.name,category:"Custom Components",defaultProps:r(p),defaultHeight:f.sizeBehavior==="fit to children"?0:f.height,defaultWidth:f.sizeBehavior==="fit to children"?0:f.width,isBIGApproved:!0},f.vr?{platforms:["vr"]}:{},{propTypes:p,resizable:f.resizingBehavior,subCategory:"My Components"});if(k&&b("shallowEqual")(k,o))return k;t.set(c,o);return o}),v=b("memoizeWithArgsWeak")(function(a,b,c,d){__p&&__p();var e=a.propPath;a=a.displayName;var f=p(b.propTypes,e);if(!f)return null;d=d!=null?d:q(c,e);b=o(b.propTypes,e);e=b==null?f.displayName:c.name+" "+s(b,f);if(c.type==="element"&&f.type==="richText"){c=(b=d)!=null?b:f["default"];b=c.state;c=b.getCurrentContent();d=c.getPlainText();f=babelHelpers["extends"]({},f,{type:"long string"})}return babelHelpers["extends"]({},f,{"default":(b=d)!=null?b:f["default"],displayName:(c=a)!=null?c:e})});function a(a,b){return Array.from(a.keys()).map(function(c){return u(a,c,b,null)}).filter(Boolean)}f=d.logged("selectAllCymbalComponentConfigs",c,function(a){return a.computedExpressionsByItemID},a);a=d.logged("selectComponentConfigByCymbalPageID",c,function(a){return a.computedExpressionsByItemID},function(a,b){__p&&__p();var c=new Map();for(var d=a.keys(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=u(a,g,b,null);h&&c.set(g,h)}return c});c=d.logged("selectCymbalComponentConfigWithPageStateApplied",function(a){return k(a)},function(a,b){a=b.cymbalPageID;return a},function(a){return a.computedExpressionsByItemID},function(a,b){a=b.pageStateID;return a},u);e.exports={getCymbalComponentConfig:u,selectAllCymbalComponentConfigs:f,selectComponentConfigByCymbalPageID:a,selectCymbalComponentConfigWithPageStateApplied:c}}),null);
__d("ProtonCymbalPropUtils",["ProtonComponents","ProtonItemUtils","ProtonPageStateUtils","ProtonPropPath","ProtonRichTextUtils","addToMap","memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonItemUtils").getCymbal,i=b("ProtonItemUtils").getElement,j=b("ProtonItemUtils").getGroup,k=b("ProtonItemUtils").getItem,l=b("ProtonPageStateUtils").mergeCymbalDiff,m=b("ProtonPageStateUtils").mergeElementDiff,n=b("ProtonPageStateUtils").mergeGroupDiff,o=b("ProtonPropPath").getPropTypeAtItemPath,p=b("ProtonPropPath").setValueAtPath,q=b("ProtonPropPath").createPropPathFromString,r=b("ProtonRichTextUtils").replaceAllText;c=b("memoizeWithArgsWeak")(function(a,b){return Object.entries(b).reduce(w,a)});function s(a,b,c){var d=g(a.componentName);if(!d)return c;d=o(d.propTypes,b);return!d||d.type!=="richText"||typeof c!=="string"?c:r(a.props.children,c)}var t=b("memoizeWithArgsWeak")(function(a,b,c){c=c;a.componentName==="RichText"&&(c=s(a,b,c));b=p(a,b,c);return!b?a:m(a,b)}),u=b("memoizeWithArgsWeak")(function(a,b,c){b=p(a,b,c);return!b?a:n(a,b)}),v=b("memoizeWithArgsWeak")(function(a,b,c){b=p(a,b,c);return!b?a:l(a,b)});function w(a,c){__p&&__p();var d=c[0];c=c[1];d=a.propMetadataByID.get(d);if(!d)return a;var e=k(a,d.itemID);if(!e)return a;switch(e.type){case"element":var f=i(a,e.elementID);return!f?a:babelHelpers["extends"]({},a,{elementByID:b("addToMap")(a.elementByID,f.id,t(f,d.propPath,c))});case"group":f=j(a,e.groupID);return!f?a:babelHelpers["extends"]({},a,{groupByID:b("addToMap")(a.groupByID,f.id,u(f,d.propPath,c))});case"cymbal":f=h(a,e.cymbalID);return!f?a:babelHelpers["extends"]({},a,{cymbalByID:b("addToMap")(a.cymbalByID,f.id,v(f,d.propPath,c))});default:e.type;break}return a}var x=new Set(["interactions","layout"]);function a(a){var b;if(a.selectedItemsType==="mixed")return!1;if(a.selectedItemsType==="group"&&x.has(a.propPath))return!1;return((b=a.componentConfig)==null?void 0:b.componentName)==="RichText"&&a.propPath===q("props.value")?!1:!0}e.exports={applyCymbalPropsToPage:c,canPublishProp:a}}),null);
__d("ProtonCymbalVisitor",["ProtonInstancePath","ProtonPageSelectors","distinctArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPageSelectors").getPage;function a(a,c,d){__p&&__p();c=b("ProtonInstancePath").toObject(c);var e=c.rootPageID;c=c.cymbalInstanceIDs;var f=b("ProtonInstancePath").createFromPageID(e),g=a.get(e);if(d(g,null,f)===!1)return;g=a.get(e);if(!g)return;for(var e=c,c=Array.isArray(e),h=0,e=c?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(c){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;var j=null;j=g&&g.cymbalByID.get(i);g=j?a.get(j.cymbalPageID):null;f=b("ProtonInstancePath").add(f,i);if(d(g,j,f)===!1)return;g=j&&a.get(j.cymbalPageID);if(!j||!g)return}}function h(a,b,c){__p&&__p();var d=new Set(),e=[b];b=b;while(e.length>0){b=e.shift();var f=g(a,b);if(!f)continue;j(f).forEach(function(a){d.has(a)||e.push(a)});if(!c(f))return;d.add(b)}}function c(a,b,c){var d=!1;h(a,b,function(a){if(a.id===c){d=!0;return!1}return!0});return d}function i(a,b){var c=new Map();Array.from(b).forEach(function(b){h(a,b,function(a){c.set(a.id,a);return!0})});return c}function d(a,b){b=Array.from(b.cymbalByID.values()).map(function(a){return a.cymbalPageID});return i(a,new Set(b))}function j(a){return b("distinctArray")(Array.from(a.cymbalByID.values()).map(function(a){return a.cymbalPageID}))}e.exports={getCymbalPageIDsUsedInPage:j,getUsedCymbalPages:i,getCymbalPagesUsedInPageByID:d,isCymbalInPageChain:c,visitCymbalPath:a}}),null);
__d("ProtonElementDefaultUtils",["ProtonComponents","ProtonConstants","memoizeWithArgsWeak","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonConstants").EMPTY_OBJECT;a=b("memoizeWithArgsWeak")(function(a){__p&&__p();a=a;var c=new Map();for(var d=a.elementByID,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];g=i(g);g&&c.set(h,g)}c.size>0&&(a=babelHelpers["extends"]({},a,{elementByID:b("mergeMaps")(a.elementByID,c)}));return a});var i=b("memoizeWithArgsWeak")(function(a){var b=g(a.componentName);if(!b)return null;b=j(b.propTypes||h,a.props);return b?babelHelpers["extends"]({},a,{props:b}):null}),j=b("memoizeWithArgsWeak")(function(a,b){__p&&__p();if(a===h)return null;var c={},d=Object.keys(a),e=function(){__p&&__p();var e=d[f],g=a[e];(!Object.prototype.hasOwnProperty.call(b,e)||b[e]===void 0)&&(c[e]=g["default"]);var i=c[e]||b[e];if(g.type==="array"){var k=!1,l=i.map(function(a){var b=j(g.arrayPropTypes||h,a);k=k||b!==null;return b||a});k&&(c[e]=l)}else if(g.type==="object"){l=j(g.objectPropTypes||h,i);l&&(c[e]=l)}};for(var f=0;f<d.length;f++)e();return Object.keys(c).length>0?babelHelpers["extends"]({},b,c):null});e.exports={applyComponentDefaultsToPage:a}}),null);
__d("reduceMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=c,e=d===void 0;a.forEach(function(a,c){e?(d=a,e=!1):d=b(d,a,c)});return d}e.exports=a}),null);
__d("ProtonExpressionUtils",["ProtonComponents","ProtonConstants","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPropPath","ProtonRichTextUtils","findIterable","firstx","jsep","memoizeWithArgsWeak","mergeMaps","reduceMap","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getPropTypes,h=b("ProtonConstants").EMPTY_ARRAY,i=b("ProtonItemUtils").getActualItem,j=b("ProtonPageSelectors").getPageByID,k=b("ProtonPropPath").getActualPropFromPropPath,l=b("ProtonPropPath").getPropPathAsString,m=b("ProtonRichTextUtils").getPlainText,n=/(^[^a-zA-Z$_]*)|([^a-zA-Z0-9$_])/g,o=/^((pages.([^.]*).)?layers.([^.]+))(.(.*))?/,p=3,q=4;function r(a){var c;try{c=b("jsep")(a)}catch(a){c={type:"ExpressionError",index:a.index,message:a.description}}return babelHelpers["extends"]({},c,{dependencies:s(c),text:a})}function s(a,c){__p&&__p();if(!a.type)return h;var d=F(a.type);c=c!=null&&c!==""?c+".":"";switch(d){case"arrayExpression":case"compound":case"templateLiteral":var e=[];for(var f=a.body||a.elements,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;e=e.concat(s(j))}return e;case"binaryExpression":case"logicalExpression":j=s(a.left,c);i=s(a.right,c);return j.concat(i);case"identifier":return[c+a.name];case"thisExpression":return["this"];case"memberExpression":g=b("firstx")(s(a.object,c));c+=g;if(a.computed){f=s(a.property);return[c].concat(f)}else{e=s(a.property,c);return e}case"callExpression":return a.arguments.reduce(function(a,b){return a.concat(s(b))},[]);default:d}return[]}function a(a,b){try{return t(a,b)}catch(a){}return null}function t(a,b){var c=F(a.type);c=E[c];if(c)return c(a,b);else return null}function c(a,b){return b["this"]}function d(a,b){return a.value}function f(a,b){return a.elements.map(function(a){return t(a,b)})}function u(a,b){return b.identifiers[a.name]}function v(a,b){var c=t(a.object,b);if(c==null||typeof c!=="object")return null;c;if(a.computed){b=t(a.property,b);return c[String(b)]}else return c[a.property.name]}function w(a,b){a=a.body.map(function(a){return t(a,b)});return a.join(" ")}function x(a,b){a=a.body.map(function(a){return t(a,b)});return a.join("")}function y(a,b){var c=t(a.test,b),d=t(a.consequent,b);a=t(a.alternate,b);return c?d:a}function z(a,b){b=t(a.argument,b);switch(a.operator){case"!":return!b;case"-":return Number(b)*-1;case"+":return Number(b)}return null}function A(a,b){var c=t(a.left,b);b=t(a.right,b);switch(a.operator){case"||":return c||b;case"&&":return c&&b}return null}function B(a,b){__p&&__p();var c=t(a.left,b);b=t(a.right,b);switch(a.operator){case"==":return c==b;case"===":return c===b;case"!=":return c!=b;case"!==":return c!==b;case">":return C(c)>C(b);case">=":return C(c)>=C(b);case"<":return C(c)<C(b);case"<=":return C(c)<=C(b);case"+":a=C(c);var d=C(b);if(!isNaN(a)&&!isNaN(d))return a+d;a=c!=null?c:"";d=b!=null?b:"";return a+d;case"-":return C(c)-C(b);case"*":return C(c)*C(b);case"/":return C(c)/C(b);case"%":return C(c)%C(b);case"**":return Math.pow(C(c),C(b))}return null}function C(a){switch(typeof a){case"number":return a;case"string":var b=a.replace(/[$,]/g,"");return Number(b);case"object":return NaN;case"undefined":return 0;default:return Number(a)}}function D(a,b){var c=t(a.callee,b);if(c==null)return null;var d=a.callee.object!=null;d=d?t(a.callee.object,b):null;a=a.arguments.map(function(a){return t(a,b)});return typeof c==="function"?c.apply(d,a):null}var E={arrayExpression:f,binaryExpression:B,callExpression:D,compound:w,conditionalExpression:y,identifier:u,literal:d,logicalExpression:A,memberExpression:v,templateLiteral:x,thisExpression:c,unaryExpression:z};function F(a){return a.replace(/^([A-Z])|\s(\w)/g,function(a,b,c,d){return c?c.toUpperCase():b.toLowerCase()})}function G(a,b){a=H(a);return"layers."+a+"."+l(b)}function H(a){return a.replace(n,"")}function I(a){__p&&__p();var c=j(a),d=new Map();for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(f){if(g>=e.length)break;l=e[g++]}else{g=e.next();if(g.done)break;l=g.value}l=l;var m=l.id;for(var n=l.expressionsByItemID,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}q=q;var s=q[0];q=q[1];var t=i(l,s);if(!t)continue;var u=b("ProtonInstancePath").createFromPageID(m),v=new Map();for(var q=q,w=Array.isArray(q),x=0,q=w?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=q.length)break;y=q[x++]}else{x=q.next();if(x.done)break;y=x.value}y=y;var z=y[0];y=y[1];var A=H(l.name),B=H(t.name),C=N(u,A,B,z,t.id);A={instancePath:u,pageID:m,pageName:A,itemID:s,itemName:B,propPath:z,expression:r(y)};B=babelHelpers["extends"]({},A,{type:"element"});if(t.type==="cymbal"){y=c.get(t.cymbalPageID);if(!y)continue;z=k(z);var D=y.propMetadataByID.get(z);if(!D)continue;var E=i(y,D.itemID);if(!E)continue;B=babelHelpers["extends"]({},A,{type:"cymbal",actualItemID:E.id,actualItemName:H(E.name),actualPageID:y.id,actualPageName:H(y.name),actualPropPath:D.propPath,propMetadataID:z})}v.set(C,B);A=J({cymbalPage:l,pages:a,vertices:v,childCymbalIDsSoFar:h});d=b("mergeMaps")(d,v,A)}}}return d}function J(a){__p&&__p();var c=a.cymbalPage,d=a.pages,e=a.vertices;a=a.childCymbalIDsSoFar;var f=new Map();if(c.isCymbal!==!0||!e.size)return f;var g=[];for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;for(var l=k.cymbalByID.values(),m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}o=o;o.cymbalPageID===c.id&&g.push([k,o])}}for(var o=0;o<g.length;o++){n=g[o];m=n[0];l=n[1];for(var k=e.values(),j=Array.isArray(k),i=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(i>=k.length)break;h=k[i++]}else{i=k.next();if(i.done)break;h=i.value}c=h;if(!Y(c))continue;n=c.pageName;h=c.itemName;var p=c.propPath,q=b("ProtonInstancePath").create.apply(b("ProtonInstancePath"),[m.id,l.id].concat(a));n=N(q,n,h,p,l.id);h=b("spread")(c,{instancePath:q});f.set(n,h)}p=J({cymbalPage:m,pages:d,vertices:e,childCymbalIDsSoFar:[l.id].concat(a)});f=b("mergeMaps")(f,p)}return f}function K(a,c,d){__p&&__p();var e=L(c,d);c=a.get(e);if(!c){d=b("findIterable")(a,function(a){var b=a[0];a[1];a=b.replace(/\@.*$/,"");b=new RegExp("^"+a+"([.[]|$)");return!!e.match(b)});d&&(c=d[1])}return c}function L(a,b){return a?String(a)+":"+b:b}function M(a,b){if(a.type==="variable")return b;if(b.startsWith("layers.")){a=a;return"pages."+a.pageName+"."+b}return b}function N(a,b,c,d,e){return String(a)+":pages."+H(b)+".layers."+H(c)+"."+String(d)+"@"+e}function O(a,b,c){__p&&__p();c=c.match(o);var d=a.reduce(function(a,b){return a.set(H(b.name),b)},new Map());a=a.reduce(function(a,b){return a.set(b.id,b)},new Map());if(!c)return null;var e=c[p];c=c[q];d=e?d.get(e):a.get(b.pageID);if(!d)return null;a=P(d,c);return!a?null:{pageID:d.id,pageName:e,itemID:a.id,itemName:c}}function P(a,c){a=b("findIterable")(a.elementByID,function(a){a[0];a=a[1];return a.name===c});return!a?null:a[1]}var Q=b("memoizeWithArgsWeak")(function(a,c,d){return!a?null:b("reduceMap")(a,function(a,b,e){e=k(e);var f=c[e];if(!f)return a;b=R(b,f,d);b!=null&&(a[e]=b);return a},{})});function R(a,b,c){__p&&__p();if(a==null)return b["default"];switch(b.type){case"data string":case"long data string":case"color":case"long string":case"string":if(typeof a==="string")return a;else if(typeof a==="number")return String(a);else if(typeof a==="object")return m(a)||b["default"];return b["default"];case"date":case"dateTime":case"number":case"range":var d=Number(a);if(isNaN(d))return b["default"];else return d;case"boolean":return Boolean(a);case"enum":d=b.options;typeof d==="function"&&(d=d(c));if(Array.isArray(d)){var e=String(a).toLowerCase();c=d.find(function(a){return String(a.value).toLowerCase()===e});return c===void 0?b["default"]:c.value}return a;case"multiEnum":return Array.isArray(a)?a:b["default"];default:return a}}f=b("memoizeWithArgsWeak")(function(a,c,d,e){var f=U(a,c,c.elementByID,d,null,S);a=U(a,c,c.cymbalByID,d,e,T);return f.size||a.size?babelHelpers["extends"]({},c,{elementByID:b("mergeMaps")(c.elementByID,f),cymbalByID:b("mergeMaps")(c.cymbalByID,a)}):c});function S(a,b){return g(b.componentName)}function T(a,b){if(!a)return null;a=a.get(b.cymbalPageID);return!a?null:a.propTypes}var U=b("memoizeWithArgsWeak")(function(a,c,d,e,f,g){__p&&__p();c=new Map();for(var d=d,h=Array.isArray(d),i=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];var l=b("ProtonInstancePath").add(a,j.id);l=e.get(l);var m=g(f,j);if(!l||!m)continue;j=V(j,l,m);c.set(k,j)}return c}),V=b("memoizeWithArgsWeak")(function(a,b,c){b=Q(b,c,a.props);return W(a,b)}),W=b("memoizeWithArgsWeak")(function(a,b){return babelHelpers["extends"]({},a,{props:babelHelpers["extends"]({},a.props,b)})});function X(a){return Y(a)?a.instancePath:null}function Y(a){return a.type==="element"||a.type==="cymbal"}function Z(a,c){__p&&__p();a=new Map(a);for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];var h=a.get(g);a.set(g,h?b("mergeMaps")(h,f):f)}return a}e.exports={applyComputedExpressionsToPage:f,coercePropTypeValue:R,convertToVariableName:H,evaluate:a,evaluatex:t,findDependencies:s,getAllExpressionVertices:I,getDependencyVertex:K,getFullyQualifiedDependency:M,getLayerPropertyReferenceAsExpressionString:G,getPageAndItemIDs:O,getPropsFromComputedExpressions:Q,getVertexInstancePath:X,getVertexKeyForDependency:L,getVertexKeyForExpression:N,isItemVertex:Y,mergeExpressionsByItemID:Z,parseExpression:r}}),null);
__d("ProtonVisitor",["ProtonItemUtils","ProtonPageItemSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemUtils").getActualItem,h=b("ProtonItemUtils").getItemID,i=b("ProtonPageItemSelectors").getRootItems;function j(a,b,c){k(a,b,c,{isAncestorHidden:!1,isAncestorLocked:!1,isAncestorSelected:!1,isAncestorFixed:!1,levelOfNesting:1,parentGroupID:null})}function k(a,b,c,d){__p&&__p();var e=a.id===c.activePageID,f=c.childDirection||"forward",i=c.selectedItemIDs||new Set(),j=d.levelOfNesting,l=!1,n=!1;m(b,f,function(b,f){__p&&__p();var m=d.parentGroupID,o=a.groupByID.get(m||""),p=h(b),q=e&&i.has(p);l=l||q;n=n||q;var r=a.id===c.hoveredPageID&&p===c.hoveredItemID,s=c.onItem;s&&s(babelHelpers["extends"]({actualItem:g(a,p),itemID:p,item:b,itemIndex:f,isSelected:q,levelOfNesting:j,page:a,parentGroup:o,parentGroupID:m},d));if(b.type==="element"){s=a.elementByID.get(b.elementID);s&&(c.onElement&&c.onElement(babelHelpers["extends"]({element:s,isHovered:r,isSelected:q,item:b,itemIndex:f,levelOfNesting:j,page:a,parentGroup:o,parentGroupID:m},d)))}else if(b.type==="group"){p=a.groupByID.get(b.groupID);if(p){s=!c.expandedItemIDs||c.expandedItemIDs.has(p.id);if(c.onBeforeGroup){var t=c.onBeforeGroup(babelHelpers["extends"]({group:p,isExpanded:s,isHovered:r,isSelected:q,item:b,itemIndex:f,levelOfNesting:j,page:a,parentGroup:o,parentGroupID:m},d));if(t===!1)return}t=s||!c.ignoreChildrenOfCollapsed;var u=!1,v=!1;if(t){t=k(a,p.items,c,{isAncestorHidden:d.isAncestorHidden||p.isHidden,isAncestorLocked:d.isAncestorLocked||p.isLocked,isAncestorSelected:d.isAncestorSelected||q,isAncestorFixed:d.isAncestorFixed||p.positionType==="fixed",levelOfNesting:j+1,parentGroupID:p.id});u=t.isAnySelected;v=t.isDirectSelected;l=l||u;n=n||v}c.onAfterGroup&&c.onAfterGroup(babelHelpers["extends"]({group:p,isAnyChildSelected:u,isDirectChildSelected:v,isExpanded:s,isHovered:r,isSelected:q,item:b,itemIndex:f,levelOfNesting:j,page:a,parentGroup:o,parentGroupID:m},d))}}else if(b.type==="cymbal"){t=a.cymbalByID.get(b.cymbalID);t&&c.onCymbal&&c.onCymbal(babelHelpers["extends"]({cymbal:t,isHovered:r,isSelected:q,item:b,itemIndex:f,levelOfNesting:j,page:a,parentGroup:o,parentGroupID:m},d))}});return{isAnySelected:l,isDirectSelected:n}}function l(a,b){a.forEach(function(a,c){if(b.onPage){var d=a.id===b.activePageID,e=b.selectedPageIDs?b.selectedPageIDs.has(a.id):!1,f=a.id===b.hoveredPageID&&a.id===b.hoveredItemID;d=b.onPage({isActive:d,isHovered:f,isSelected:e,page:a,pageIndex:c});if(d===!1)return}j(a,i(a),b)})}function m(a,b,c){b==="forward"?a.forEach(c):a.map(function(a,b){return{value:a,index:b}}).reverse().forEach(function(a){var b=a.value;a=a.index;return c(b,a)})}function a(a,b){l(a,babelHelpers["extends"]({},b,{childDirection:"backward",ignoreChildrenOfCollapsed:!0}))}e.exports={visitItems:j,visitPages:l,visitPagesForSidebar:a}}),null);
__d("unionSets",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){var a=new Set();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){b.forEach(function(b){a.add(b)})});return a}e.exports=a}),null);
__d("ProtonSelectors",["ProtonComponents","ProtonConstants","ProtonCymbalComponentConfigs","ProtonCymbalPropUtils","ProtonCymbalVisitor","ProtonElementDefaultUtils","ProtonExpressionUtils","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateUtils","ProtonSelectorCreators","ProtonVisitor","first","isEmpty","last","mapMap","memoizeWithArgsWeak","objectValues","unionSets"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonConstants").DEFAULT_PAGE,i=b("ProtonConstants").EMPTY_EXPRESSIONS,j=b("ProtonConstants").EMPTY_OBJECT,k=b("ProtonConstants").EMPTY_SET,l=b("ProtonCymbalComponentConfigs").selectComponentConfigByCymbalPageID,m=b("ProtonCymbalPropUtils").applyCymbalPropsToPage,n=b("ProtonCymbalVisitor").visitCymbalPath,o=b("ProtonElementDefaultUtils").applyComponentDefaultsToPage,p=b("ProtonExpressionUtils").applyComputedExpressionsToPage,q=b("ProtonExpressionUtils").mergeExpressionsByItemID,r=b("ProtonItemUtils").getActualItem,s=b("ProtonItemUtils").getGroupX,t=b("ProtonItemUtils").getItem,u=b("ProtonPageSelectors").getActivePageID,v=b("ProtonPageSelectors").getPageState,w=b("ProtonPageSelectors").getRawActivePage,x=b("ProtonPageSelectors").getSelectedPageList,y=b("ProtonPageSelectors").selectActivePageState,z=b("ProtonPageSelectors").selectPageByID,A=b("ProtonPageStateUtils").mergeCymbalDiff,B=b("ProtonPageStateUtils").mergeElementDiff,C=b("ProtonPageStateUtils").mergeGroupDiff,D=b("ProtonSelectorCreators").createProtonSelector;function a(a){return a.project.pages.every(function(a){return Array.from(a.elementByID.values()).filter(function(a){return a.componentName==="Hotspot"}).every(function(a){return a.isHidden})})}function E(a,b){a=r(a,b);return(b=a==null?void 0:a.parentGroupID)!=null?b:null}function F(a,c){var d={cymbalIDs:new Set(),elementIDs:new Set(),groupIDs:new Set()};b("ProtonVisitor").visitItems(a,c,{onElement:function(a){a=a.element;d.elementIDs.add(a.id)},onCymbal:function(a){a=a.cymbal;d.cymbalIDs.add(a.id)},onBeforeGroup:function(a){a=a.group;d.groupIDs.add(a.id)}});return d}function G(a,c){var d=[];b("ProtonVisitor").visitPages([a],{onItem:function(a){a=a.itemID;c.has(a)&&d.push(a)}});return d}function c(a,c){return b("first")(G(a,c))}function d(a,c){return b("last")(G(a,c))}function f(a){return a.project.pages.some(function(a){return Array.from(a.elementByID.values()).some(function(a){return a.componentName==="Hotspot"})})}function H(a,b){__p&&__p();b=t(a,b);if(!b)return!1;b=E(a,b);while(b!=null){var c=s(a,b);if(c.positionType==="fixed")return!0;b=c.parentGroupID}return!1}function I(a){return a.view.leftPanelTab==="dataSources"?"dataSources":x(a)}var J=D.logged("selectTransformedPageForInstancePath",z,function(a){return a.computedExpressionsByItemID},function(a){return a.selection.activePageStateIDsByCymbalPath},function(a){return l(a)},function(a,b){a=b.instancePath;return a},function(a,b,c,d,e){__p&&__p();var f=new Map(a);a=null;n(f,e,function(e,g,h){if(!e){a=null;return!1}var i=c.get(h)||k,l=m(e,g?g.props:j),n=K({cymbal:g,page:e,currentInstancePath:h,computedExpressionsByItemID:b});l=O(l,i,n,d,h,(i=g==null?void 0:g.propsByPageStateID)!=null?i:j);f.set(e.id,l);a=l;return!0});return a});function K(a){__p&&__p();var c=a.cymbal,d=a.page,e=a.currentInstancePath;a=a.computedExpressionsByItemID;if(!c)return a;var f=a;Object.keys(c.props).forEach(function(a){a=d.propMetadataByID.get(a);if(!a)return;var c=b("ProtonInstancePath").add(e,a.itemID),g=f.get(c);if(!g)return;g.has(a.propPath)&&(g=new Map(g),g["delete"](a.propPath),f=new Map(f),f.set(c,g))});return f}function L(a){return J(a,{instancePath:b("ProtonInstancePath").createFromPageID(u(a))})||h}function M(a,b){var c=null;n(a,b,function(a){c=a});return c}z=D.logged("selectRawPageForInstancePath",z,function(a,b){a=b.instancePath;return a},M);function N(a,c){return J(a,{instancePath:b("ProtonInstancePath").createFromPageID(c.pageID)})}M=D.logged("selectTransformedPagesForPageIDs",function(a,b){return b.pageIDs.map(function(b){return N(a,{pageID:b})})},function(a){return a.filter(Boolean)});var O=b("memoizeWithArgsWeak")(function(a,c,d,e,f,g){var h=a;h=P(h,c,g);h=o(h);h=p((c=f)!=null?c:b("ProtonInstancePath").createFromPageID(a.id),h,d,e);return h}),P=b("memoizeWithArgsWeak")(function(a,b,c){return Array.from(b).reduce(function(a,b){return m(Q(a,b),(a=c[b])!=null?a:j)},a)});function Q(a,c){c=c;if(c===null)return a;c=v(a,c);if(!c)return a;return c.elementDiffByID.size===0&&c.groupDiffByID.size===0&&c.cymbalDiffByID.size===0&&c.expressionDiffsByItemID.size===0&&b("isEmpty")(c.pageDiff)?a:babelHelpers["extends"]({},a,c.pageDiff,{elementByID:R(a.elementByID,c.elementDiffByID,B),groupByID:R(a.groupByID,c.groupDiffByID,C),cymbalByID:R(a.cymbalByID,c.cymbalDiffByID,A),expressionsByItemID:q(a.expressionsByItemID,c.expressionDiffsByItemID)})}function R(a,c,d){return c.size!==0?b("mapMap")(a,function(a,b){b=c.get(b);return b!=null?d(a,b):a}):a}var S=function(a){return a.selection.selectedPageIDs.size>0?a.selection.selectedPageIDs:new Set([a.selection.activePageID])},T=function(a){return a.selection.selectedItemIDs};function U(a){return T(a)}var V=D.logged("selectFirstSelectedItemID",T,function(a){return b("first")(a)}),W=D.logged("selectFirstItem",w,V,function(a,b){return b!=null?t(a,b):null});function X(a){var b=L(a);a=V(a);return a!=null?r(b,a):null}var Y=D.logged("selectSelectedItemsType",w,T,function(a,b){b=Array.from(b,function(b){return t(a,b)}).filter(Boolean);return b.reduce(function(a,b){return!a||b.type===a?b.type:"mixed"},null)}),Z=D.logged("selectFirstSelectedElement",L,V,function(a,b){return b!=null?a.elementByID.get(b):null});function aa(a,b,c,d,e){if(!a)return null;c=c;b=b.get(c)||k;return O(a,b,d,e,null,j)}function ba(a,b){a=a.selection.hoveredItem;return(a==null?void 0:a.type)==="item"&&(a==null?void 0:a.id)===b}function ca(a){return!!a.isLoadingProject}function da(a,b){return b?ea(a,[].concat(Array.from(b.elementDiffByID.keys()),Array.from(b.groupDiffByID.keys()),Array.from(b.cymbalDiffByID.keys()))):[]}D=D.logged("selectItemNamesForActiveState",w,y,da);function $(a,b){a=r(a,b);return a?{id:a.id,name:a.name}:null}function ea(a,b){return b.map(function(b){return $(a,b)}).filter(Boolean)}function fa(a){var b=g(a.componentName);return(b=b==null?void 0:b.displayName)!=null?b:a.componentName}function ga(a,b){return[{type:"element",diff:a.elementDiffByID.get(b)||j},{type:"group",diff:a.groupDiffByID.get(b)||j},{type:"cymbal",diff:a.cymbalDiffByID.get(b)||j}].find(function(a){return a.diff!==j})||null}function ha(a,c){return b("unionSets").apply(void 0,b("objectValues")(F(a,c)))}function ia(a,b){a=a.expressionsByItemID.get(b);return a||i}function ja(a,b,c){b=b;while(!0){b=E(a,b);if(b==null)break;var d=c(b)!==!1;if(!d)break}}e.exports={applyStateToPage:Q,applyTransformationsToPage:O,areAllHotspotsHidden:a,filterComputedExpressions:K,getBottomMostItemID:d,getElementDisplayName:fa,getExpressionByItemID:ia,getItemDiffWithType:ga,getItemName:$,getPageForCymbalPath:aa,getPageState:v,getParentGroupID:E,getReferencedIDs:ha,getReferencedIDsByItemType:F,getSelectedItemIDs:T,getSelectedLeftPanelTab:I,getSelectedPageIDs:S,getTargetItemIDs:U,getTopMostItemID:c,hasHotspots:f,isAnyAncestorFixed:H,isItemHighlighted:ba,selectActivePage:L,selectFirstActualItem:X,selectFirstItem:W,selectFirstSelectedElement:Z,selectFirstSelectedItemID:V,selectIsLoadingProject:ca,selectItemNamesForActiveState:D,selectRawPageForInstancePath:z,selectSelectedItemsType:Y,selectTransformedPageForInstancePath:J,selectTransformedPageForPageID:N,selectTransformedPagesForPageIDs:M,visitAncestors:ja}}),null);
__d("ProtonPositionSelectors",["LFUCache","MultiKeyMap","ProtonBorderUtils","ProtonComponents","ProtonConstants","ProtonCSSShorthandUtils","ProtonGroupUtils","ProtonInstancePath","ProtonItemUtils","ProtonPageItemSelectors","ProtonSelectorCreators","ProtonSelectors","ProtonUtils","gkx","last","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").getBorderFromCompoundBorder,h=b("ProtonBorderUtils").getBorderWidth,i=b("ProtonComponents").getComponentConfig,j=b("ProtonConstants").EMPTY_COORD,k=b("ProtonConstants").EMPTY_CYMBAL,l=b("ProtonConstants").EMPTY_ELEMENT,m=b("ProtonConstants").EMPTY_GROUP,n=b("ProtonConstants").EMPTY_POSITION,o=b("ProtonConstants").DEFAULT_PAGE,p=b("ProtonCSSShorthandUtils").getInferredSpacing,aa=b("ProtonGroupUtils").canScrollHorizontally,ba=b("ProtonGroupUtils").canScrollVertically,q=b("ProtonGroupUtils").getGroupMinHeight,r=b("ProtonGroupUtils").getGroupMinWidth,s=b("ProtonItemUtils").getActualItem,t=b("ProtonItemUtils").getCymbal,ca=b("ProtonItemUtils").getElement,da=b("ProtonItemUtils").getElementX,ea=b("ProtonItemUtils").getGroup,u=b("ProtonItemUtils").getGroupX,fa=b("ProtonItemUtils").getItem,v=b("ProtonItemUtils").getItemAndID,w=b("ProtonItemUtils").isDynamicGroup,x=b("ProtonItemUtils").isHorizontallyResizableElement,y=b("ProtonItemUtils").isItemHorizontallyResizable,z=b("ProtonItemUtils").isItemVerticallyResizable,A=b("ProtonItemUtils").isVerticallyResizableElement,ga=b("ProtonPageItemSelectors").getRootItems,B=b("ProtonSelectorCreators").createProtonSelector,C=b("ProtonSelectors").getParentGroupID,D=b("ProtonSelectors").getSelectedItemIDs,E=b("ProtonSelectors").selectActivePage,F=b("ProtonSelectors").selectFirstItem,G=b("ProtonSelectors").selectTransformedPageForInstancePath,H=b("ProtonUtils").getBoundingPositionForPositions,I=b("ProtonUtils").isEmptyPosition,ha={canGrowToParent:!0,fixedDistance:0,fixedToSide:"top",heightSizeBehavior:"fixed",isAspectRatioLocked:!0,margin:l.margin,positionType:"normal",widthSizeBehavior:"fixed",hasFixedHeightChild:!0,hasFixedWidthChild:!0,isHeightDisabled:!1,isWidthDisabled:!1,minHeight:0,minWidth:0,isInDynamicGroup:!1,zIndex:null};function ia(a,c){var d=a.fixedDistance,e=a.fixedToSide,f=a.heightSizeBehavior,g=a.isAspectRatioLocked,h=a.margin,i=a.positionType,j=a.widthSizeBehavior,k=a.zIndex;a=C(c,a.id);c=w(c,a);a=b("gkx")("845754")?!0:!a||c;return{canGrowToParent:a,fixedDistance:d,fixedToSide:e,heightSizeBehavior:f,isAspectRatioLocked:g,margin:h,positionType:c?"normal":i,widthSizeBehavior:j,isInDynamicGroup:c,zIndex:k}}function ja(a){a=i(a.componentName);var b=!A(a),c=!x(a),d=!a||!a.defaultWidth;a=!a||!a.defaultHeight;return{isHeightDisabled:b,isWidthDisabled:c,hasFixedWidthChild:d,hasFixedHeightChild:a,minWidth:0,minHeight:0}}function ka(a){return{isHeightDisabled:!1,isWidthDisabled:!1,hasFixedWidthChild:!0,hasFixedHeightChild:!0,minWidth:r(a),minHeight:q(a)}}function la(a){return{isHeightDisabled:b("gkx")("852488")?!z(a):!0,isWidthDisabled:b("gkx")("852488")?!y(a):!0,hasFixedWidthChild:!1,hasFixedHeightChild:!1,minWidth:0,minHeight:0}}function ma(a,c,d,e){__p&&__p();var f=Array.from(e,function(b){return fa(a,b)});f=f.reduce(function(b,c){__p&&__p();var d=l,e;if(!c)return b;switch(c.type){case"element":d=ca(a,c.elementID)||l;e=ja(d);break;case"group":d=ea(a,c.groupID)||m;e=ka(d);break;case"cymbal":d=t(a,c.cymbalID)||k;e=la(d);break;default:c.type}e=babelHelpers["extends"]({},e,ia(d,a));return{canGrowToParent:b.canGrowToParent&&e.canGrowToParent,isHeightDisabled:b.isHeightDisabled||e.isHeightDisabled,isWidthDisabled:b.isWidthDisabled||e.isWidthDisabled,fixedDistance:e.fixedDistance,fixedToSide:e.fixedToSide,heightSizeBehavior:e.heightSizeBehavior,isAspectRatioLocked:b.isAspectRatioLocked&&e.isAspectRatioLocked,margin:e.margin,positionType:e.positionType,widthSizeBehavior:e.widthSizeBehavior,hasFixedWidthChild:b.hasFixedWidthChild&&e.hasFixedWidthChild,hasFixedHeightChild:b.hasFixedHeightChild&&e.hasFixedHeightChild,minHeight:e.minHeight,minWidth:e.minWidth,isInDynamicGroup:b.isInDynamicGroup||e.isInDynamicGroup,zIndex:(c=b.zIndex)!=null?c:e.zIndex}},ha);e=b("last")(e);d=e?L({page:a,measuredPositionByInstancePath:d,itemOrID:e,parentInstancePath:c}):n;return babelHelpers["extends"]({},f,{position:d})}function J(a){return a.measuredPositionByInstancePath}D=B.logged("selectPositionProps",E,J,D,function(a,c,d){return ma(a,b("ProtonInstancePath").create(a.id),c,d)});function a(a){__p&&__p();var c=new(b("MultiKeyMap"))();return function(b){__p&&__p();var d=b.page,e=b.measuredPositionByInstancePath,f=b.itemOrID,g=b.parentInstancePath,h=b.options;f=v(d,f);f=f.itemID;h=h?h.isComputingPageSize:!1;d=[d,e,f,g,h];e=c.get(d);if(e!=null)return e;f=a(b);c.set(d,f);return f}}var K=b("memoizeWithArgs")(function(a){return a},function(a){return a.height+","+a.left+","+a.top+","+a.width},"cachePosition"),L=a(function(a){return K(babelHelpers["extends"]({},N(a),P(a)))});function c(a,b,c){var d=E(a);a=J(a);return L({itemOrID:c,measuredPositionByInstancePath:a,page:d,parentInstancePath:b})}function d(a,b){var c=E(a);a=J(a);return L({itemOrID:b.itemID,measuredPositionByInstancePath:a,page:c,parentInstancePath:b.instancePath,options:{isParentRelative:!0}})}function M(a){var b=a.page,c=a.measuredPositionByInstancePath,d=a.item;a=a.parentInstancePath;return L({page:b,measuredPositionByInstancePath:c,itemOrID:d.id,parentInstancePath:a})}var N=a(function(a){__p&&__p();var b=a.page,c=a.measuredPositionByInstancePath,d=a.itemOrID,e=a.parentInstancePath;a=a.options;var f={left:0,top:0},i=v(b,d),j=i.itemID;i=i.pageItem;if(!i)return f;var k=s(b,j);if(!k)return f;var l=!!(a&&a.isComputingPageSize);if(l&&k.isHidden)return f;i=C(b,i);var m=w(b,i);j=U({itemID:j,measuredPositionByInstancePath:c,pageID:b.id,parentInstancePath:e});m?j&&(f.left=j.left,f.top=j.top):(f.left=k.position.left,f.top=k.position.top);if(a==null?void 0:a.isParentRelative)return f;if(i){j=u(b,i);a=N({itemOrID:i,measuredPositionByInstancePath:c,page:b,parentInstancePath:e});i=O({itemOrID:i,measuredPositionByInstancePath:c,page:b,parentInstancePath:e});f.left+=a.left-i.left;f.top+=a.top-i.top;a=g(j.border);f.left+=h(a.left);f.top+=h(a.top);if(j.layout!=="dynamic"){i=p(j.padding);f.left+=i.left;f.top+=i.top}}if(k.positionType==="fixed"&&!m){a=k.fixedDistance;j=k.fixedToSide;switch(j){case"top":f.top=a;break;case"bottom":if(l)f.top=0;else{i=P({itemOrID:d,measuredPositionByInstancePath:c,page:b,parentInstancePath:e});m=Y(b,c,e);f.top=m.height-a-i.height}break;default:j}}return f}),O=a(function(a){__p&&__p();var b=a.itemOrID,c=a.measuredPositionByInstancePath,d=a.options,e=a.page;a=a.parentInstancePath;var f=s(e,b);if(!f||f.type!=="group")return j;var i=aa(f),k=ba(f);if(!i&&!k)return j;var l=W({itemOrID:f.id,measuredPositionByInstancePath:c,page:e,parentInstancePath:a}),m=l.height,n=l.width,o=l.top;l=l.left;b=P({itemOrID:b,measuredPositionByInstancePath:c,options:d,page:e,parentInstancePath:a});c=b.width;d=b.height;e=g(f.border);m+=h(e.top)+h(e.bottom);n+=h(e.left)+h(e.right);a=p(f.padding);m+=a.top+a.bottom;n+=a.left+a.right;f.layout==="static"&&(m+=o,n+=l);b=Math.max(0,m-d-a.bottom);e=Math.max(0,n-c-a.right);return{left:i?Math.min(f.initialScrollLeft,e):0,top:k?Math.min(f.initialScrollTop,b):0}});function f(a){var b=a.state,c=a.itemID;a=a.parentInstancePath;var d=E(b);b=J(b);return O({page:d,measuredPositionByInstancePath:b,itemOrID:c,parentInstancePath:a})}var P=a(function(a){__p&&__p();var c=a.itemOrID,d=a.measuredPositionByInstancePath,e=a.options,f=a.page;a=a.parentInstancePath;c=v(f,c);var g=c.itemID;c=c.pageItem;if(!c)return{height:0,width:0};g=U({itemID:g,measuredPositionByInstancePath:d,pageID:f.id,parentInstancePath:a})||n;var h=null,j=null,l=s(f,c);if(l&&!l.parentGroupID){e=!!(e&&e.isComputingPageSize);if(e&&l.isHidden)return{height:0,width:0};var m;Q(l)&&(e?j=0:(m=Y(f,d,a),j=m.width));R(l)&&(e?h=0:(m=m||Y(f,d,a),h=m.height));if(typeof h==="number"&&typeof j==="number")return{height:h,width:j}}l={height:0,width:0};switch(c.type){case"element":e=da(f,c.elementID);var o=i(e.componentName);l={height:S(e,o)?e.position.height:g.height,width:T(e,o)?e.position.width:g.width};break;case"group":o=u(f,c.groupID);e=o.layout;l={height:S(o)?o.position.height:g.height,width:T(o)?o.position.width:g.width};var p=e==="static"&&o.heightSizeBehavior==="fit to children";e=e==="static"&&o.widthSizeBehavior==="fit to children";if(p||e){d=W({itemOrID:o.id,measuredPositionByInstancePath:d,page:f,parentInstancePath:a});p&&(l.height=d.height+q(o));e&&(l.width=d.width+r(o))}break;case"cymbal":if(b("gkx")("852488")){a=t(f,c.cymbalID)||k;l={height:S(a)?a.position.height:g.height,width:T(a)?a.position.width:g.width}}else l={height:g.height,width:g.width};break;default:c.type}typeof h==="number"&&(l={height:h,width:l.width});typeof j==="number"&&(l={height:l.height,width:j});return l});function Q(a){return y(a)&&a.widthSizeBehavior==="grow to parent"}function R(a){return z(a)&&a.heightSizeBehavior==="grow to parent"}function S(a,b){return a.heightSizeBehavior==="fixed"&&(!b||A(b))}function T(a,b){return a.widthSizeBehavior==="fixed"&&(!b||x(b))}a=B.logged("selectFirstActualItem",E,F,function(a,b){return b?s(a,b):null});F=B.logged("selectFirstItemPosition",E,J,a,function(a,c,d){return M({item:d||l,measuredPositionByInstancePath:c,page:a,parentInstancePath:b("ProtonInstancePath").create(a.id)})});function U(a){var c=a.parentInstancePath||b("ProtonInstancePath").create(a.pageID);return a.measuredPositionByInstancePath.get(b("ProtonInstancePath").add(c,a.itemID))}function V(a){var c=a.items.map(function(c){var d=L({itemOrID:c,measuredPositionByInstancePath:a.measuredPositionByInstancePath,options:a.options,page:a.page,parentInstancePath:a.parentInstancePath});c=s(a.page,c);!b("gkx")("845754")&&c&&a.shouldIgnoreGrowingChildren&&(Q(c)&&(d=babelHelpers["extends"]({},d,{width:0,right:d.left})),R(c)&&(d=babelHelpers["extends"]({},d,{height:0,bottom:d.top})));return d}).filter(function(a){return a&&!I(a)});return K(H(c)||n)}function W(a){__p&&__p();var b=a.itemOrID,c=a.measuredPositionByInstancePath,d=a.page,e=a.parentInstancePath;a=s(d,b);if(!a||a.type!=="group")return n;b=a.items.map(function(a){var b=P({itemOrID:a,measuredPositionByInstancePath:c,page:d,parentInstancePath:e});a=s(d,a);if(!a)return null;return a.type==="group"&&!a.items.length?null:babelHelpers["extends"]({},b,{left:a.position.left,top:a.position.top})}).filter(Boolean).filter(function(a){return!I(a)});a=H(b)||n;return a}var X=new(b("LFUCache"))();a=B.logged("selectPageSizeForPageID",function(a,c){return G(a,{instancePath:b("ProtonInstancePath").createFromPageID(c.pageID)})||o},function(a,b){return J(a)},Y);var na=B.logged("selectCymbalPageSize",G,J,function(a,b){a=b.instancePath;return a},function(a,b,c){return a?Y(a,b,c):null});function Y(a,c,d){if(!$(a))return Z({height:a.height,width:a.width});c=V({items:ga(a),measuredPositionByInstancePath:c,options:{isComputingPageSize:!0},page:a,parentInstancePath:d||b("ProtonInstancePath").create(a.id)});return Z({height:c.height,width:c.width})}function Z(a){var b=a.height,c=a.width;c=c+"x"+b;b=X.get(c);if(b)return b;X.set(c,a);return a}B=B.logged("selectPageSize",function(a){return E(a)},J,Y);function $(a){return!!a.isCymbal&&a.sizeBehavior==="fit to children"}e.exports={cachePosition:K,getBoundingPosition:V,getChildBoundingPositions:W,getGroupScrollPosition:O,getGroupScrollPositionForItem:f,getItemCoords:N,getItemPosition:M,getItemSize:P,getMeasuredPositionByInstancePath:J,getPageSize:Y,getParentRelativePositionForItemID:d,getPosition:L,getPositionForItemID:c,isHeightGrow:R,isItemHeightSpecified:S,isItemWidthSpecified:T,isPageFitToChildren:$,isWidthGrow:Q,memoizeSize:Z,selectCymbalPageSize:na,selectFirstItemPosition:F,selectPageSize:B,selectPageSizeForPageID:a,selectPositionProps:D}}),null);
__d("ProtonPositionUtils",["ProtonGroupUtils","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonGroupUtils").getGroupMinHeight,h=b("ProtonGroupUtils").getGroupMinWidth;function a(a,b){var c=Math.max(a.top,b.top),d=Math.max(a.left,b.left),e=Math.min(a.top+a.height,b.top+b.height);a=Math.min(a.left+a.width,b.left+b.width);return{top:c,left:d,width:Math.max(0,a-d),height:Math.max(0,e-c)}}function i(a){var b=a.isInDynamicGroup,c=a.item;a=a.pageRelativePosition;b=c.positionType!=="fixed"&&!b;return{top:b?c.position.top:a.top,left:b?c.position.left:a.left,height:a.height,width:a.width}}function j(a){return b("mapObject")(a,function(a){return Math.round(a)})}function k(a){__p&&__p();var b=a.isHorizontallyResizable,c=a.isVerticallyResizable,d=a.oldPosition,e=a.pageRelativePosition,f=a.positionDelta;a=a.positionUpdates;if(!a&&!f)return d;var g=d;if(a){var h=typeof a.left==="number"?a.left-e.left:0;e=typeof a.top==="number"?a.top-e.top:0;g=babelHelpers["extends"]({},g,a,{top:d.top+e,left:d.left+h})}else f&&(f.top&&(g=babelHelpers["extends"]({},g,{top:g.top+f.top})),f.left&&(g=babelHelpers["extends"]({},g,{left:g.left+f.left})),f.height&&c&&(g=babelHelpers["extends"]({},g,{height:g.height+f.height})),f.width&&b&&(g=babelHelpers["extends"]({},g,{width:g.width+f.width})));return j(g)}function l(a){var b=a.aspectRatio,c=a.oldPosition;a=a.positionChanges;if(!a)return c;if(a.width)return babelHelpers["extends"]({},c,{height:c.width/b});else if(a.height)return babelHelpers["extends"]({},c,{width:c.height*b});return c}function m(a){return a.width<0?babelHelpers["extends"]({},a,{left:a.left+a.width,width:-a.width}):a}function n(a){return a.height<0?babelHelpers["extends"]({},a,{top:a.top+a.height,height:-a.height}):a}function o(a,b){return a.width<b?babelHelpers["extends"]({},a,{width:b}):a}function p(a,b){return a.height<b?babelHelpers["extends"]({},a,{height:b}):a}function q(a,b,c){return b==="grow to parent"&&!(c&&c.left&&c.width)?babelHelpers["extends"]({},a,{left:0}):a}function r(a,b,c){return b==="grow to parent"&&!(c&&c.top&&c.height)?babelHelpers["extends"]({},a,{top:0}):a}function s(a,b){__p&&__p();a=babelHelpers["extends"]({},a);switch(b.x){case"flex-start":delete a.left;break;case"center":a.left&&a.width?a.width-=a.left:a.width&&(a.left=-a.width,a.width*=2);break;case"flex-end":!a.left&&a.width&&(a.left=-a.width);break;default:b.x}switch(b.y){case"flex-start":delete a.top;break;case"center":a.top&&a.height?a.height-=a.top:a.height&&(a.top=-a.height,a.height*=2);break;case"flex-end":!a.top&&a.height&&(a.top=-a.height);break;default:b.y}return a}function c(a){__p&&__p();var b=a.isHorizontallyResizable,c=a.isHotkeyReposition,d=a.isInDynamicGroup,e=a.isVerticallyResizable,f=a.item,j=a.pageRelativePosition,t=a.parentAlignment,u=a.positionDelta,v=a.positionUpdates,w=a.shouldReturnPageRelativePosition;a.type;a=w===!0?j:i({isInDynamicGroup:d,item:f,pageRelativePosition:j});if(!u&&!v)return a;w=u;d&&w&&t&&(w=s(w,t));a=k({isHorizontallyResizable:b,isVerticallyResizable:e,oldPosition:a,pageRelativePosition:j,positionDelta:w,positionUpdates:v});f.isAspectRatioLocked&&(w||v)&&(a=l({aspectRatio:f.aspectRatio,oldPosition:a,positionChanges:w||v}));c===!0&&w&&(a=o(a,1),a=p(a,1));d?(a=o(a,0),a=p(a,0)):(a=m(a),a=n(a));if(f.type==="group"){u=f;if(u.layout==="dynamic"){t=g(u);b=h(u);a=p(a,t);a=o(a,b)}}f.parentGroupID==null&&(a=q(a,f.widthSizeBehavior,w),a=r(a,f.heightSizeBehavior,w));return a}e.exports={clipPosition:a,getUpdatedPosition:c,roundPosition:j}}),null);
__d("ProtonProjectPlatformUtils",["ProtonConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ProtonConstants").DEFAULT_PLATFORM,h=null;function a(a){h=a}function i(){return!h?g:h.getState().currentAppState.project.platform}function c(a){return a[i()]}e.exports={init:a,getPlatform:i,forPlatform:c}}),null);
__d("ProtonProjectUpdaters",["ProtonPageSelectors","ProtonSharedComponentUtils","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPageSelectors").getPageLists,h=b("ProtonSharedComponentUtils").shouldShowSharedComponent;function a(a,b){var c=a.project.grid;c=babelHelpers["extends"]({},c,b);return i(a,{grid:c})}function i(a,c){return b("spread")(a,{project:b("spread")(a.project,c)})}function c(a,c){c=j(c,a.project.id);return b("spread")(a,{project:b("spread")(a.project,{pages:c})})}function j(a,b){__p&&__p();var c=!1,d=!1,e=!1;for(var f=a,i=Array.isArray(f),j=0,f=i?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=f.length)break;k=f[j++]}else{j=f.next();if(j.done)break;k=j.value}k=k;var l=!h(k,b);k.isCymbal===!0?(c=!0,l&&(d=!0)):k.isCymbal!==!0&&c?e=!0:!l&&d&&(e=!0)}if(!e)return a;k=g(a,b);l=k.cymbalPages;j=k.normalPages;i=k.hiddenPages;return j.concat(l).concat(i)}e.exports={updateGrid:a,updatePages:c,updateProject:i}}),null);
__d("ProtonOCConstants",[],(function(a,b,c,d,e,f){a=10;b=4;c=b*4;d=b*3;f=b*5;var g=b*8,h=b*67,i=b*198,j=b*16,k=150,l={OPAQUE:{name:"Opaque",backgroundColor:"rgba(31, 31, 31, 1)"},TRANSPARENT:{name:"None",backgroundColor:"transparent"}},m={CLICK_SCALE:.97,CLICK_DURATION:200,IMAGE_EXPAND_UV_SCALE:1/1.1,IMAGE_EXPAND_DURATION:4e3};e.exports={PANEL_BORDER_RADIUS:a,BASE_UNIT:b,SHELF_PADDING:c,CARD_PADDING:d,HERO_CARD_PADDING:f,PANEL_GUTTER:g,THREE_COLUMN_SIDE_COLUMN:h,THREE_COLUMN_MAIN_COLUMN:i,TOOLBAR_HEIGHT:j,FADE_IN_MS:k,PANEL_BACKGROUNDS:l,CARD_ANIMATIONS:m}}),null);
__d("ProtonVRConstants",["ProtonConstants","ProtonOCConstants","ProtonVRComponentConfigs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ProtonConstants").DEFAULT_PAGE;c=b("ProtonConstants").DEFAULT_PAGE_SIZES;d="1378198722317490";f="/intern/spectacles/environment/download/"+d+"/";var g=new Set(b("ProtonVRComponentConfigs").map(function(a){return a.componentName})),h={angleHorizontal:0,angleVertical:0,density:4680,isHidden:!1,radius:4,shape:"Cylinder"};a=babelHelpers["extends"]({},a,{backgroundColor:{isActive:!0,value:b("ProtonOCConstants").PANEL_BACKGROUNDS.OPAQUE.backgroundColor},height:c.vr.height,vr:h,width:c.vr.width});b=new Set();c="1737953579614427";e.exports={DEFAULT_ENV_URI:f,DEFAULT_PAGE_VR_PROPERTIES:h,DEFAULT_VR_PAGE:a,INITIAL_PAGES_VISIBILITY_TOGGLED:b,OCUI_THEME_ID:c,VOID_ENVIRONMENT_ID:d,VR_COMPONENT_NAMES:g}}),null);
__d("ProtonReducerUtils",["ProtonBorderUtils","ProtonClientIDs","ProtonComponents","ProtonConstants","ProtonCSSShorthandUtils","ProtonInstancePath","ProtonItemUtils","ProtonPageItemSelectors","ProtonPositionSelectors","ProtonPositionUtils","ProtonProjectPlatformUtils","ProtonProjectUpdaters","ProtonSelectors","ProtonVRConstants","immutable","mapMap","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").getBorderFromCompoundBorder,h=b("ProtonBorderUtils").getBorderWidth,i=b("ProtonComponents").getComponentConfig,j=b("ProtonConstants").BLANK_PROJECT,k=b("ProtonConstants").EMPTY_ARRAY,l=b("ProtonConstants").EMPTY_CYMBAL,m=b("ProtonConstants").EMPTY_ELEMENT,n=b("ProtonCSSShorthandUtils").getInferredSpacing,o=b("ProtonItemUtils").getGroupX,p=b("ProtonItemUtils").getItem,q=b("ProtonItemUtils").getItemID,r=b("ProtonItemUtils").isHorizontallyResizableElement,s=b("ProtonItemUtils").isVerticallyResizableElement,t=b("ProtonPageItemSelectors").getRootItems,u=b("ProtonPositionSelectors").getItemCoords,v=b("ProtonPositionSelectors").getPosition,w=b("ProtonPositionUtils").roundPosition,x=b("ProtonProjectPlatformUtils").forPlatform,y=b("ProtonProjectUpdaters").updatePages,z=b("ProtonSelectors").getParentGroupID,A=b("ProtonVRConstants").DEFAULT_VR_PAGE,B=200,C=100;function a(a,b,c,d){d=D(a,b,d);var e=d.afterItemID;d=d.parentGroupID;c=E(a,b,c,d);a=babelHelpers["extends"]({},a,{elementByID:new Map(Array.from(a.elementByID.entries()).concat(c.map(function(a){return[a.id,a]})))});a=P(a,c.map(function(a){return{type:"element",elementID:a.id}}),d,e?{where:"after item id",afterItemID:e}:{where:"at top"});return a}function c(a,b,c,d){d=D(a,b,d);var e=d.afterItemID;d=d.parentGroupID;c=E(a,b,c,d);a=babelHelpers["extends"]({},a,{cymbalByID:new Map(Array.from(a.cymbalByID.entries()).concat(c.map(function(a){return[a.id,a]})))});a=P(a,c.map(function(a){return{type:"cymbal",cymbalID:a.id}}),d,e?{where:"after item id",afterItemID:e}:{where:"at top"});return a}function D(a,b,c){var d;b=t(a);if(c){var e=p(a,c);e&&(e.type==="group"?(c=null,d=e.groupID):d=z(a,e))}else b.length&&(c=q(b[b.length-1]));return{parentGroupID:d,afterItemID:c}}function E(a,c,d,e){if(e){var f=o(a,e),i=n(f.padding),j=g(f.border),k=u({itemOrID:e,measuredPositionByInstancePath:c,page:a,parentInstancePath:b("ProtonInstancePath").create(a.id)});return d.map(function(a){return babelHelpers["extends"]({},a,{position:{height:a.position.height,left:a.position.left-k.left-h(j.left)-i.left,top:a.position.top-k.top-h(j.top)-i.top,width:a.position.width}})})}return d}function d(a,c,d){d===void 0&&(d=!0);var e=a.modals.filter(function(a){return a.data.type!==c.type});e.push({data:c,id:b("ProtonClientIDs").create("modal"),shouldCloseOnEscape:d});return babelHelpers["extends"]({},a,{modals:e,view:babelHelpers["extends"]({},a.view,{pageStatePopoverPageID:null})})}function f(a,b){var c=a.modals.filter(function(a){return a.data.type!==b});return babelHelpers["extends"]({},a,{modals:c})}function F(a,b){var c=a.modals.filter(function(a){return a.id!==b});return babelHelpers["extends"]({},a,{modals:c.length?c:k})}function G(a,c,d){__p&&__p();var e=i(a.componentName);if(!e)return null;var f=a.name||e.displayName||e.componentName;d=d?O(f,c):f;c=a.position||{};f=c.top;var g=c.left,h=c.height;c=c.width;var j=e.defaultHeight,k=e.defaultWidth,l=s(e)&&(h||j)?"fixed":"fit to children",n=r(e)&&(c||k)?"fixed":"fit to children";c=typeof c==="number"?c:k||0;k=typeof h==="number"?h:j||0;return{type:"element",aspectRatio:c/k,componentName:e.componentName,dataAdapterConfig:a.dataAdapterConfig,fixedDistance:a.fixedDistance||m.fixedDistance,fixedToSide:a.fixedToSide||m.fixedToSide,hasCustomName:a.hasCustomName||m.hasCustomName,heightSizeBehavior:a.heightSizeBehavior||l,id:b("ProtonClientIDs").create("element"),importMetadata:null,isAspectRatioLocked:a.isAspectRatioLocked||e.isAspectRatioLockedByDefault||!1,isFlippedHorizontally:a.isFlippedHorizontally||m.isFlippedHorizontally,isFlippedVertically:a.isFlippedVertically||m.isFlippedVertically,isHidden:a.isHidden||m.isHidden,isLocked:a.isLocked||m.isLocked,margin:a.margin||m.margin,name:d,parentGroupID:a.parentGroupID,position:w({height:k,left:typeof g==="number"?g:B,top:typeof f==="number"?f:C,width:c}),positionType:a.positionType||m.positionType,props:a.props||{},rotation:a.rotation||m.rotation,widthSizeBehavior:a.widthSizeBehavior||n,zIndex:(h=a.zIndex)!=null?h:m.zIndex}}function H(a,c,d,e){var f=a.name||c.name;e=e?O(f,d):f;return babelHelpers["extends"]({},l,{name:e,id:b("ProtonClientIDs").create("cymbal"),parentGroupID:a.parentGroupID||null,position:{top:((d=a)!=null?(d=d.position)!=null?d.top:d:d)||0,left:((f=a)!=null?(f=f.position)!=null?f.left:f:f)||0,width:((e=a)!=null?(e=e.position)!=null?e.width:e:e)||c.width,height:((d=a)!=null?(d=d.position)!=null?d.height:d:d)||c.height},cymbalPageID:c.id,isHidden:a.isHidden||!1,isLocked:a.isLocked||!1})}function I(a,c,d){d===void 0&&(d={});var e=x({web:j.pages[0],vr:A}),f=a.find(function(a){return a.id===c})||e,g=d.isCymbal?"Custom Component 1":"Page 1";g=O(d.name||g,new Set(a.map(function(a){return a.name})));var h=f.sizeBehavior==="fit to children"?e:f;e=babelHelpers["extends"]({},e,{backgroundColor:f.backgroundColor,height:h.height,id:"",items:k,name:g,sizeBehavior:h.sizeBehavior,width:h.width});return babelHelpers["extends"]({},e,d,{id:b("ProtonClientIDs").createShortID(new Set(a.map(function(a){return a.id}))),name:g})}function J(a,c){if(c){c=b("nullthrows")(a.groupByID.get(c));return c.items}return t(a)}function K(a){return Q(a,function(a){return a.left+a.width},Math.max)}function L(a){return Q(a,function(a){return a.top+a.height},Math.max)}function M(a){return Q(a,function(a){return a.left},Math.min)}function N(a){return Q(a,function(a){return a.top},Math.min)}function O(a,b){a=a;while(b.has(a)){var c=a.match(/^(.*?[^\d])(\d{1,3})$/);c?a=c[1]+(Number(c[2])+1):a+=" 2"}return a}function P(a,b,c,d){__p&&__p();var e=new Set(b.map(q)),f=a;a=J(a,c);switch(d.where){case"at top":a=a.concat(b);break;case"at bottom":a=b.concat(a);break;case"after item id":var g=d.afterItemID,h=a.findIndex(function(a){return q(a)===g});a=a.slice(0,h+1).concat(b).concat(a.slice(h+1));break;case"before item id":var i=d.beforeItemID;h=a.findIndex(function(a){return q(a)===i});a=a.slice(0,h).concat(b).concat(a.slice(h));break}f=babelHelpers["extends"]({},f,{elementByID:S(f.elementByID,e,c),groupByID:S(f.groupByID,e,c),cymbalByID:S(f.cymbalByID,e,c)});f=R(f,c,a);return f}function Q(a,c,d){var e=a.page,f=a.measuredPositionByInstancePath;a=a.items;return d.apply(null,a.map(function(a){return c(v({itemOrID:a,measuredPositionByInstancePath:f,page:e,parentInstancePath:b("ProtonInstancePath").create(e.id)}))}))}function R(a,c,d){if(c){var e=b("nullthrows")(a.groupByID.get(c));return babelHelpers["extends"]({},a,{groupByID:new Map(a.groupByID).set(c,babelHelpers["extends"]({},e,{items:d}))})}return babelHelpers["extends"]({},a,{items:d})}function S(a,c,d){return b("mapMap")(a,function(a){return c.has(a.id)?babelHelpers["extends"]({},a,{parentGroupID:d===""?null:d}):a})}function T(a,c){var d=Array.from(c.values()).map(function(a){var d=b("mapMap")(a.cymbalByID,function(a){var b;return babelHelpers["extends"]({},a,{cymbalPageID:((b=c.get(a.cymbalPageID))==null?void 0:b.id)||a.cymbalPageID})});return babelHelpers["extends"]({},a,{cymbalByID:d})});return y(a,a.project.pages.concat(d))}e.exports={addCymbalsToPage:c,addNewPagesWithOldIDs:T,addElementsToPage:a,addModal:d,closeModal:F,closeModalByType:f,createCymbal:H,createElement:G,createPage:I,getItemList:J,getMaxBottom:L,getMaxRight:K,getMinLeft:M,getMinTop:N,getUniqueName:O,insertItems:P,reducePositions:Q,setItemList:R,setParentGroupID:S}}),null);
__d("ProtonSemaphoreConstants",[],(function(a,b,c,d,e,f){"use strict";a=new Map([["grid","wrap"],["row","horizontal"],["column","vertical"]]);b=new Map([["fixed","fixed"],["auto","fit to children"],["grow","grow to parent"]]);c=new Set([128677,128678]);d={source:"semaphore paste"};f=0;var g="#FFFFFF",h="FFBD4336-05F1-46D5-9F14-A5A8111CF433",i={type:"artboard",layers:[],platform:"WWW",density:1,system:h,name:"Page%20Name",frame:{x:0,y:0,width:640,height:480},metadata:{layout:{alignmentX:"flex-start",alignmentY:"flex-start",anchorX:"flex-start",anchorY:"flex-start",bottom:null,direction:"column",height:"fixed",isBounds:!1,IsEnabled:!1,left:null,margin:[],padding:[],position:"relative",right:null,spaceBetweenX:!1,spaceBetweenY:!1,spacingX:null,spacingY:null,top:null,width:"fixed"},slice:{x:0,y:0,width:640,height:480},id:"E789A967-A6AA-41D2-A2BE-33D46222D4E9"},layout:{isEnabled:!1,position:"relative",flexDirection:"column",flexWrap:"nowrap",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,height:480,width:640,alignItems:"flex-start",justifyContent:"flex-start"}},j=100,k=new Set(["color","gradient","image"]),l=new Set(["moveTo","lineTo","curveTo","closePath"]);e.exports={DEFAULT_ARTBOARD_BACKGROUND_COLOR:g,DEFAULT_ARTBOARDS_SPACING:j,DEFAULT_CHARACTER_SPACING:f,IMPORT_METADATA:d,LAYOUT_DIRECTION_BY_LAYOUT_KIT_DIRECTION:a,LAYOUT_KIT_EMOJI:c,SEMAPHORE_ARTBOARD_SYSTEM:h,SEMAPHORE_ARTBOARD_TEMPLATE:i,SIZE_BEHAVIOR_BY_LAYOUT_KIT_SIZE_BEHAVIOR:b,VALID_FILL_TYPES:k,VALID_SVG_COMMANDs:l}}),null);
__d("ProtonSemaphoreHelpers",["ProtonConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY;function a(a){return a?a.reverse():[]}function c(a){return Math.round(a*100)/100}function d(a){a=a||g;return{top:h(a[0]),right:h(a[1]),bottom:h(a[2]),left:h(a[3])}}function h(a){return typeof a==="number"?a:null}function i(a){return!!a&&a.some(function(a){return!!a})}function f(a){return!!a&&i(Object.keys(a))}e.exports={arrayToSpacing:d,hasAnyItems:i,hasAnyKeys:f,reverseArray:a,round:c}}),null);
__d("ProtonSemaphoreColorUtils",["ProtonGlyphColors","ProtonSemaphoreHelpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonGlyphColors").NameByRgbaColor,h=b("ProtonSemaphoreHelpers").round;function a(a){return(typeof a.opacity==="number"?h(a.opacity):1)*100}function c(a){__p&&__p();var b;if(a.fill&&a.fill.type!=="color")return null;b=(b=a.fill)==null?void 0:b.color;if(!b)return null;if(a.set==="fb_glyphs")return i(j(b))||null;else if(a.set==="facebook_icons"||a.set==="oculus_icons")return j(b)||null;else return null}function i(a){a=a.replace(/^rgba/,"rgb").replace(/,\s*/g,", ").replace(/,\s*1\s*\)$/,")");return g.get(a)}function j(a){var b=k(a.r),c=k(a.g),d=k(a.b);a=a.a;return"rgba("+b+","+c+","+d+","+a+")"}function k(a){return Math.round(a*255)}e.exports={colorToCSS:j,getCSSColorName:i,getLayerOpacity:a,glyphColorToCSS:c}}),null);
__d("ProtonSemaphoreGradientUtils",["ProtonSemaphoreColorUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonSemaphoreColorUtils").colorToCSS,h=100;function a(a,b){if(b.type==="linear")return i(a,b);else if(b.type==="radial")return j(a,b);else return""}function i(a,b){a=o(b.startPosition,b.endPosition,a.height,a.width);var c=a.angleInDegrees,d=a.startPercentage,e=a.endPercentage;a=a.areColorsReversed;return a?"linear-gradient("+c+"deg, "+g(b.endColor)+" "+e+"%,  "+g(b.startColor)+" "+d+"%)":"linear-gradient("+c+"deg, "+g(b.startColor)+" "+d+"%, "+g(b.endColor)+" "+e+"%)"}function j(a,b){var c=(b.startPosition.x-b.endPosition.x)*a.width;a=(b.startPosition.y-b.endPosition.y)*a.height;c=Math.sqrt(c*c+a*a);return"radial-gradient("+c+"px at "+b.startPosition.x*100+"% "+b.startPosition.y*100+"%, "+g(b.startColor)+", "+g(b.endColor)+")"}function k(a){return a*Math.PI/180%(Math.PI/2)}function l(a,b,c,d,e,f){a=n(a.x,a.y,c,d,e,f);b=n(b.x,b.y,c,d,e,f);return[a,b]}function m(a,b,c,d,e){if(a===270){var f=(1-b.x)/1*h,g=(1-c.x)/1*h;return[f,g]}f=k(a);g="second-quadrant";a>=0&&a<90?g="first-quadrant":a>90&&a<180?g="fourth-quadrant":a>=180&&a<270&&(g="third-quadrant");return l(b,c,f,g,d,e)}function n(a,b,c,d,e,f){var g,i;a=a*f;b=b*e;d==="first-quadrant"||d==="third-quadrant"?(g=a*Math.sin(c)+(e-b)*Math.cos(c),i=(f-a)*Math.sin(c)+b*Math.cos(c)):(i=a*Math.sin(c)+b*Math.cos(c),g=(f-a)*Math.sin(c)+(e-b)*Math.cos(c));f=Math.abs(i)*h/(Math.abs(i)+Math.abs(g));return d==="first-quadrant"||d==="second-quadrant"?h-f:f}function o(a,b,c,d){__p&&__p();var e=(Math.atan2(a.y*c-b.y*c,a.x*d-b.x*d)*180/Math.PI+270)%360;if(e===90){e=270;var f=(1-a.x)/1*h,g=(1-b.x)/1*h;return{angleInDegrees:e,startPercentage:f,endPercentage:g,areColorsReversed:!0}}f=m(e,a,b,c,d);g=f[0];a=f[1];return{angleInDegrees:e,startPercentage:g,endPercentage:a,areColorsReversed:!1}}function c(a,b){return{type:"linear",endPosition:b.endPosition,startPosition:b.startPosition,startColor:g(b.startColor),endColor:g(b.endColor)}}e.exports={linearGradientToSVGBackground:c,getAngleAndPercentageForLinearGradient:o,gradientToCSS:a}}),null);
__d("ProtonSemaphoreFillUtils",["ProtonSemaphoreColorUtils","ProtonSemaphoreGradientUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonSemaphoreColorUtils").colorToCSS,h=b("ProtonSemaphoreGradientUtils").gradientToCSS;function a(a,b,c){if(!b)return c||"";if(b.type==="color")return g(b.color);else if(b.type==="gradient")return h(a,b.gradient);else return c||""}function c(a){return a.data.startsWith("/")?a.data:"data:image/png;base64,"+a.data}e.exports={fillToCSSBackground:a,imageToSrc:c}}),null);
__d("ProtonSemaphoreConvertArtboard",["ProtonConstants","ProtonSemaphoreConstants","ProtonSemaphoreFillUtils","ProtonSemaphoreHelpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").DEFAULT_PAGE,h=b("ProtonConstants").EMPTY_ARRAY,i=b("ProtonConstants").EMPTY_MAP,j=b("ProtonSemaphoreConstants").DEFAULT_ARTBOARD_BACKGROUND_COLOR,k=b("ProtonSemaphoreConstants").IMPORT_METADATA,l=b("ProtonSemaphoreFillUtils").fillToCSSBackground,m=b("ProtonSemaphoreHelpers").round;function a(a,b){var c=b.semaphoreDocument,d=b.coordOffset,e=b.convertLayers;b=b.semaphoreLogger;var f=a.name,n=a.fill,o=a.frame;e=e({semaphoreDocument:c,layers:a.layers,parentGroupID:null,parentGroup:null,coordOffset:d,semaphoreLogger:b});c=e.items;a=e.elementByID;d=e.groupByID;b=babelHelpers["extends"]({},g,{backgroundColor:{isActive:!0,value:l(o,n,j)},elementByID:a,groupByID:d,height:m(o.height),importMetadata:k,items:c,name:f,sizeBehavior:"custom",width:m(o.width)});return{newPage:b,newItems:h,newElementByID:i,newGroupByID:i}}e.exports={convertArtboard:a}}),null);
__d("ProtonSemaphoreBorderUtils",["ProtonBorderUtils","ProtonConstants","ProtonSemaphoreColorUtils","ProtonSemaphoreHelpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").convertCSStoBorder,h=b("ProtonConstants").EMPTY_ARRAY,i=b("ProtonConstants").EMPTY_BORDER_RADIUS,j=b("ProtonSemaphoreColorUtils").colorToCSS,k=b("ProtonSemaphoreHelpers").round;function a(a,b){b=n(a);a=p(a);return b!==0?g({width:b,style:"solid",color:a}):h}function c(a){if(a.type!=="rectangle"&&a.type!=="group")return i;if(a.cornerRadii)return m(a.cornerRadii);return a.cornerRadius!==void 0?l(a.cornerRadius):i}function l(a){return{topLeft:a,topRight:a,bottomRight:a,bottomLeft:a}}function m(a){var b;return{topLeft:a[0],topRight:(b=a[1])!=null?b:a[0],bottomRight:(b=a[2])!=null?b:a[0],bottomLeft:(b=a[3])!=null?b:a[0]}}function d(a,b){var c=a.top,d=a.left,e=a.width;a=a.height;var f=n(b);b=b==null?void 0:b.position;var g=b==="center";b=b==="center";g=g?f:b?f/2:0;return{top:k(c-g),left:k(d-g),width:k(e+g*2),height:k(a+g*2)}}function f(a,b,c){if(a==="rectangle"&&(c==null?void 0:c.position)==="inside"){if(b.height===1)return"1px 0 0 0";if(b.width===1)return"0 0 0 1px"}return n(c)}function n(a){return a?k(a.thickness):0}function o(a){return a&&a.type==="color"&&Boolean(a.dashes)?"dashed":"solid"}function p(a){return a&&a.type==="color"?j(a.color):"transparent"}e.exports={adjustPositionForBorder:d,arrayToBorderRadius:m,borderRadiusToCSS:c,getAdjustedBorderWidth:f,getBorderColor:p,getBorderStyle:o,getSemaphoreBorderWidth:n,semaphoreBorderToBorderProps:a,valueToBorderRadius:l}}),null);
__d("ProtonSemaphoreMeasurementUtils",["ProtonGlyphConfig","ProtonSemaphoreBorderUtils","ProtonSemaphoreHelpers","ProtonUtils","memoizeWithArgs","minBy","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonSemaphoreBorderUtils").adjustPositionForBorder,h=b("ProtonSemaphoreBorderUtils").getSemaphoreBorderWidth,i=b("ProtonSemaphoreHelpers").round,j=b("ProtonUtils").getBoundingPositionForPositions;function a(a,b){return{top:a.y+b.y,left:a.x+b.x}}function c(a,b,c){__p&&__p();var d=b.border,e=b.mask,f=b.type;b=b.frame;var g=h(d);e=Boolean(e)&&(f==="rectangle"||f==="ellipse");f={x:0,y:0};if(d&&c>=11)switch(d.position){case"outside":break;case"inside":f.x-=g;f.y-=g;break;case"center":f.x-=g/2;f.y-=g/2;break;default:break}if(e){c=b.x;d=b.y;f.x-=c;f.y-=d}return{x:a.x+f.x,y:a.y+f.y}}var k=b("memoizeWithArgs")(function(a,c,d,e,f){__p&&__p();var g=document.createElement("div");g.style.fontSize=c+"px";g.style.fontFamily=a;g.style.fontWeight=d;g.style.fontStyle=e;g.style.lineHeight=f+"px";g.style.position="fixed";g.style.top="0px";c=document.createElement("span");c.innerText="H";c.style.fontSize="0px";g.appendChild(c);b("nullthrows")(document.body).appendChild(g);a=f-c.offsetTop;b("nullthrows")(document.body).removeChild(g);return a},function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.join(",")});function d(a,b){__p&&__p();var c=b.right<a.left,d=a.right<b.left,e=b.bottom<a.top,f=a.bottom<b.top;if(f&&c)return l({x:a.left,y:a.bottom},{x:b.right,y:b.top});else if(c&&e)return l({x:a.left,y:a.top},{x:b.right,y:b.bottom});else if(e&&d)return l({x:a.right,y:a.top},{x:b.left,y:b.bottom});else if(d&&f)return l({x:a.right,y:a.bottom},{x:b.left,y:b.top});else if(c)return a.left-b.right;else if(d)return b.left-a.right;else if(e)return a.top-b.bottom;return b.top-a.bottom}function l(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function m(a){a=a.frame;return{top:a.y,left:a.x,width:a.width,height:a.height}}function f(a){a=a.layers.filter(function(a){return a.type!=="artboard"});return j(a.map(m))}function n(a){return b("minBy")(b("ProtonGlyphConfig").sizes.map(function(a){return parseInt(a,10)}),function(b){return Math.abs(b-Math.round(a))})}function o(a,b,c){a={height:i(a.height),width:i(a.width),top:i(a.y+b.y),left:i(a.x+b.x)};return g(a,c)}function p(a,b){a=a&&(a==null?void 0:(a=a.metadata)==null?void 0:a.layout);if(a==null)return b;var c=b;b.widthSizeBehavior==="grow to parent"&&a.width==="auto"&&(c=babelHelpers["extends"]({},c,{widthSizeBehavior:"fixed"}));b.heightSizeBehavior==="grow to parent"&&a.height==="auto"&&(c=babelHelpers["extends"]({},c,{heightSizeBehavior:"fixed"}));return c}e.exports={calculatePosition:o,correctAutoGrowNesting:p,distanceBetweenRectangles:d,getBoundingPositionForLayers:f,getChildCoordOffset:c,getGlyphSize:n,getPositionWithOffset:a,measureBaseline:k}}),null);
__d("ProtonSemaphoreShadowUtils",["ProtonConstants","ProtonSemaphoreColorUtils","ProtonSemaphoreHelpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY,h=b("ProtonSemaphoreColorUtils").colorToCSS,i=b("ProtonSemaphoreHelpers").reverseArray;function a(a,b){var c=[].concat(b&&b.clip!==!0&&b.shadows||g,a.shadows||g);b=[].concat(b&&b.clip!==!0&&b.innerShadows||g,a.innerShadows||g);return c.length||b.length?j(c,b):""}function j(a,b){b=i(b);a=i(a);return a.map(k).concat(b.map(l)).join(", ")}function k(a){var b=a.offset.x,c=a.offset.y,d=a.blur,e=a.spread!==0?a.spread+"px":"";a=h(a.color);return b+"px "+c+"px "+d+"px "+e+" "+a}function l(a){return"inset "+k(a)}e.exports={getBoxShadow:a,innerShadowToCSS:l,shadowsToCSS:j}}),null);
__d("ProtonArtboardID",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=":~";function h(a){var b=a.pageID;a=a.pageStateID;return b+g+String(a)}function a(a){return h({pageID:a,pageStateID:null})}function b(a){a=a.split(g);var b=a[0];a=a[1];return{pageID:b,pageStateID:a==="null"?null:a}}function c(a){return a}e.exports={createArtboardID:h,createMasterArtboardID:a,getKeysForArtboardID:b,getArtboardIDFromAPI:c}}),null);
__d("ProtonCanvasConstants",["gkx"],(function(a,b,c,d,e,f){"use strict";a=128;c=48;d=b("gkx")("677412")?12e3:4e3;f=d-c;b=10;var g=300,h="proton-canvas-root",i=1.25,j=.75,k=42,l=2e4;e.exports={ARTBOARD_SPACING:a,CANVAS_ROOT_ELEMENT_ID:h,CONTENT_MARGIN:c,CONTENT_OFFSET_IN_WRAPPER:d,DEFAULT_SCROLL_OFFSET:f,INSERT_DRAG_DISTANCE_THRESHOLD_PX:b,INSERT_DRAG_TIME_THRESHOLD_MS:g,CANVAS_ZOOM_IN_FACTOR:i,CANVAS_ZOOM_OUT_FACTOR:j,COMMAND_BAR_HEIGHT:k,MAX_ZOOM_SIZE:l}}),null);
__d("ProtonCanvasUtils",["ProtonCanvasConstants","ProtonConstants","ProtonGroupUtils","ProtonPositionSelectors","ProtonRichTextUtils","ProtonUtils","ProtonVisitor","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasConstants").CANVAS_ROOT_ELEMENT_ID,h=b("ProtonCanvasConstants").CANVAS_ZOOM_IN_FACTOR,i=b("ProtonCanvasConstants").CANVAS_ZOOM_OUT_FACTOR,j=b("ProtonCanvasConstants").COMMAND_BAR_HEIGHT,k=b("ProtonCanvasConstants").CONTENT_MARGIN,l=b("ProtonConstants").EMPTY_POSITION,m=b("ProtonGroupUtils").getFlexDirection,n=b("ProtonPositionSelectors").getPosition,o=b("ProtonRichTextUtils").DEFAULT_RICH_TEXT_STATE,p=b("ProtonUtils").isPositionContained;l={type:"element",id:"",isAncestorSelected:!1,isAnyChildSelected:!1,isDirectChildSelected:!1,isFixed:!1,isInGroup:!1,isHidden:!0,isLocked:!1,isSelected:!1,position:l};function a(a){__p&&__p();var c=a.isCymbalInstanceLocked;a.isMetaKeyDown;var d=a.items,e=a.measuredPositionByInstancePath,f=a.outputFormat,g=a.page,h=a.parentInstancePath,i=a.selectedItemIDs;a.selectionPosition;var j=[],k=new Map();function l(a,c){var d=g.groupByID.get(c||"");if(f==="nested"&&d){d=k.get(c);d||(d={type:"group",children:[]},k.set(c,d));b("nullthrows")(d.children).push(a)}else j.push(a)}function m(a){return n({itemOrID:a,measuredPositionByInstancePath:e,page:g,parentInstancePath:h})}function o(a){return{id:a.actualItem.id,isAncestorSelected:a.isAncestorSelected,isAnyChildSelected:!!a.isAnyChildSelected,isDirectChildSelected:!!a.isDirectChildSelected,isFixed:a.actualItem.positionType==="fixed",isHidden:a.isAncestorHidden||a.actualItem.isHidden,isInGroup:!!a.parentGroupID,isLocked:c===!0||a.isAncestorLocked||a.actualItem.isLocked,isSelected:a.isSelected,position:m(a.actualItem.id),type:a.type}}b("ProtonVisitor").visitItems(g,d,{selectedItemIDs:i,activePageID:g.id,onElement:function(a){var b=o(babelHelpers["extends"]({},a,{actualItem:a.element,type:"element"}));l(b,a.parentGroupID)},onAfterGroup:function(a){var b=k.get(a.group.id);b=babelHelpers["extends"]({},o(babelHelpers["extends"]({},a,{actualItem:a.group,type:"group"})),{children:b?b.children:[]});k.set(a.group.id,b);l(b,a.parentGroupID)},onCymbal:function(a){var b=o(babelHelpers["extends"]({},a,{actualItem:a.cymbal,type:"cymbal"}));l(b,a.parentGroupID)}});return j}var q=3;function c(a,b){if(a.metaKey||a.ctrlKey||a.altKey){a.preventDefault();var c=a.deltaY;a.ctrlKey?c*=-1:c/=q;b({type:"adjust zoom smooth",mousePosition:{x:a.clientX,y:a.clientY},scaleFactor:Math.exp(c/100)})}}function r(a){return a.positionType==="fixed"?a.fixedToSide:"top"}function d(a){__p&&__p();var c=a.hasParentGroup,d=a.isFixed,e=a.isInDynamicGroup,f=a.isLive,g=a.item,h=a.pageSize,i=a.parentLayoutDirection,j=a.positionDelta,k=a.positionWithDeltas;a=(a=a.isNative)!=null?a:!1;var l={};if(e)l=babelHelpers["extends"]({},l,{flexShrink:0,position:"relative"}),b("gkx")("797673")&&g.zIndex!=null&&(l.zIndex=g.zIndex);else if(d){var n;e=r(g);l=babelHelpers["extends"]({},l,(n={left:k.left},n[e]=e==="bottom"?h.height-k.top-k.height:k.top,n.position=d&&(f||c)?"fixed":"absolute",n))}else{l=babelHelpers["extends"]({},l,{top:0,left:0,transform:[{translateX:k.left},{translateY:k.top},{translateZ:0}],position:"absolute"});if(b("gkx")("837344")){h=(e=j==null?void 0:j.left)!=null?e:0;f=(d=j==null?void 0:j.top)!=null?d:0;l=babelHelpers["extends"]({},l,{transform:[{translateX:h},{translateY:f},{translateZ:0}],gridArea:"1/1",marginLeft:k.left-h,marginTop:k.top-f,position:"static"})}}if(j&&j.width)l=babelHelpers["extends"]({},l,{width:k.width});else switch(g.widthSizeBehavior){case"fit to children":l=babelHelpers["extends"]({},l,{width:a?k.width:"max-content"});break;case"fixed":l=babelHelpers["extends"]({},l,{width:k.width});break;case"grow to parent":i?m(i)==="row"?l=babelHelpers["extends"]({},l,{flexGrow:1,width:0}):l=babelHelpers["extends"]({},l,{alignSelf:"stretch"}):l=babelHelpers["extends"]({},l,{width:b("gkx")("845754")?"100%":k.width});break;default:g.widthSizeBehavior;break}if(j&&j.height)l=babelHelpers["extends"]({},l,{height:k.height});else switch(g.heightSizeBehavior){case"fit to children":l=babelHelpers["extends"]({},l,{height:a?k.height:b("gkx")("837344")?"max-content":"auto"});break;case"fixed":l=babelHelpers["extends"]({},l,{height:k.height});break;case"grow to parent":i?m(i)==="column"?l=babelHelpers["extends"]({},l,{flexGrow:1,height:0}):l=babelHelpers["extends"]({},l,{alignSelf:"stretch"}):l=babelHelpers["extends"]({},l,{height:b("gkx")("845754")?"100%":k.height});break;default:g.heightSizeBehavior;break}return l}function f(a,b,c){b=b;c==="top"||c==="bottom"?b=babelHelpers["extends"]({},b,{width:b.height/a.height*a.width}):(c==="left"||c==="right")&&(b=babelHelpers["extends"]({},b,{height:b.width/a.width*a.height}));var d=Math.min(b.width/a.width,b.height/a.height);b.width=Math.round(a.width*d);b.height=Math.round(a.height*d);b.top=c==="top"||c==="topLeft"||c==="topRight"?a.top-(b.height-a.height):a.top;b.left=c==="left"||c==="topLeft"||c==="bottomLeft"?a.left-(b.width-a.width):a.left;return b}function s(a,b){var c=b.width-a.width,d=b.height-a.height;a={top:a.top-d,left:a.left-c,height:b.height+d,width:b.width+c};return a}function t(){return document.getElementById(g)}function u(a,b,c){if(!a.isZKeyDown)return;c.preventDefault();c.stopPropagation();b({type:"adjust zoom smooth",mousePosition:{x:c.clientX,y:c.clientY},scaleFactor:a.isAltKeyDown?i:h})}function v(a){var b=a.isFlippedHorizontally?"rotateY(180deg)":"",c=a.isFlippedVertically?"rotateX(180deg)":"";a=a.rotation?"rotateZ("+a.rotation+"deg)":"";return b||c||a?(c+" "+b+" "+a).trim():"translateZ(0px)"}function w(a,b){__p&&__p();if(b.type!=="element")return b;var c=a.project.platform==="vr";switch(b.componentName){case"Button":b.componentName=c?"OCButton":"FDSButton";break;case"Rectangle":b.componentName=c?"RectangleVR":"Rectangle";break;case"Text":a=a.userSettings.defaultTextComponent==="fdstext";b.componentName=c?"TextVR":a?"FDSText":"RichText";!c&&!a&&(b.props={children:o});break;case"Hotspot":b.componentName=c?"HotspotVR":"Hotspot";break;case"FBIcon":b.componentName=c?"OCIcon":"FBIcon";break}return b}function x(a,b,c){__p&&__p();b=babelHelpers["extends"]({},b);b.top-=k;b.left-=k;b.height+=2*k;b.width+=2*k;c===!0&&(b.top-=j,b.height+=j);if(p(a,b)){c=a.top;var d=a.left;return{top:c,left:d}}c=a.top+a.height;d=a.left+a.width;var e=b.top+b.height,f=b.left+b.width,g={top:0,left:0};b.top<a.top?g.top=b.top-a.top:e>c&&(g.top=Math.min(e-c,b.top-a.top));b.left<a.left?g.left=b.left-a.left:f>d&&(g.left=Math.min(f-d,b.left-a.left));return{top:a.top+g.top,left:a.left+g.left}}e.exports={EMPTY_ENTRY:l,getComponentImplForItem:w,getCoordToMakeRectangleVisible:x,getItemEntries:a,getPositionStyles:d,getProtonCanvasRootElement:t,getTransformForItem:v,mouseClickZoomHandler:u,mouseWheelZoomHandler:c,scalePositionKeepProportions:f,scalePositionSymmetrically:s}}),null);
__d("ProtonGroupSelectors",["ProtonConstants","ProtonItemUtils","ProtonSelectorCreators","ProtonSelectors","areEqual","filterObject","mapObject","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_GROUP,h=b("ProtonItemUtils").getGroup;f=b("ProtonSelectorCreators").createProtonSelector;var i=b("ProtonSelectors").selectActivePage,j=b("ProtonSelectors").selectFirstItem;j=f.logged("selectFirstSelectedGroup",i,j,a);function a(a,b){if(!b||b.type!=="group")return g;a=h(a,b.groupID);return a||g}a=f.logged("selectMergedSelectedGroups",i,function(a){return a.selection.selectedItemIDs},c);function c(a,c){c=Array.from(c,function(b){return h(a,b)}).filter(Boolean);var d=b("spread")(g,k(c));c=new Set(c.map(function(a){return a.id}));return{groupIDs:c,group:d}}function k(a){return b("filterObject")(a.reduce(function(a,c){return b("mapObject")(c,function(c,d){return!(d in a)||b("areEqual")(c,a[d])?c:void 0})},{}),function(a){return a!==void 0})}function d(a){return!a||a.layout!=="dynamic"?null:a.alignment}e.exports={getGroupAlignment:d,selectFirstSelectedGroup:j,selectMergedSelectedGroups:a}}),null);
__d("ProtonCanvasSelectors",["ProtonCanvasUtils","ProtonConstants","ProtonCSSShorthandUtils","ProtonGroupSelectors","ProtonInstancePath","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonPositionSelectors","ProtonReducerUtils","ProtonSelectorCreators","ProtonSelectors","ProtonUtils","ProtonVisitor","gkx","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasUtils").EMPTY_ENTRY,h=b("ProtonCanvasUtils").getItemEntries,i=b("ProtonConstants").EMPTY_MAP,j=b("ProtonConstants").EMPTY_OBJECT,k=b("ProtonCSSShorthandUtils").convertMarginToCSS,l=b("ProtonCSSShorthandUtils").getInferredSpacing,m=b("ProtonGroupSelectors").getGroupAlignment,n=b("ProtonItemUtils").getActualItem,o=b("ProtonItemUtils").getCymbal,p=b("ProtonItemUtils").getElement,q=b("ProtonItemUtils").getGroup,r=b("ProtonItemUtils").getItemID,s=b("ProtonItemUtils").getItems,t=b("ProtonPageItemSelectors").getRootItems,u=b("ProtonPageSelectors").getRawActivePage,v=b("ProtonPositionSelectors").getBoundingPosition,w=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,x=b("ProtonPositionSelectors").getPosition,y=b("ProtonPositionSelectors").selectPageSize,z=b("ProtonReducerUtils").getMaxBottom,A=b("ProtonReducerUtils").getMaxRight,B=b("ProtonReducerUtils").getMinLeft,C=b("ProtonReducerUtils").getMinTop,D=b("ProtonSelectorCreators").createProtonSelector,E=b("ProtonSelectors").getSelectedItemIDs,F=b("ProtonSelectors").selectTransformedPageForInstancePath,G=b("ProtonUtils").areRectanglesIntersecting;function a(a,c,d){__p&&__p();var e=d.left;d=d.top;var f={left:e,top:d,width:0,height:0},g=function(d){d=x({itemOrID:d,measuredPositionByInstancePath:c,page:a,parentInstancePath:b("ProtonInstancePath").create(a.id)});return G(d,f)},h=[];b("ProtonVisitor").visitItems(a,t(a),{childDirection:"backward",onElement:function(a){var b=a.element;a=a.levelOfNesting;b=b.id;g(b)&&h.push({id:b,levelOfNesting:a,type:"element"})},onCymbal:function(a){var b=a.cymbal;a=a.levelOfNesting;b=b.id;g(b)&&h.push({id:b,levelOfNesting:a,type:"cymbal"})},onBeforeGroup:function(a){var b=a.group;a=a.levelOfNesting;b=b.id;if(g(b)){h.push({id:b,levelOfNesting:a,type:"group"});return!0}return!1}});return h}var H=D.logged("selectItemForInstancePath",F,function(a,b){a=b.itemID;return a},function(a,b){return a?n(a,b):null}),I=D.logged("selectElementForInstancePath",F,function(a,b){a=b.itemID;return a},function(a,b){return a?p(a,b):null}),J=D.logged("selectGroupForInstancePath",F,function(a,b){a=b.itemID;return a},function(a,b){return a?q(a,b):null}),K=D.logged("selectCymbalForInstancePath",F,function(a,b){a=b.itemID;return a},function(a,b){return a?o(a,b):null});function L(a,b){var c=H(a,b);return!c||!c.parentGroupID?null:J(a,{instancePath:b.instancePath,itemID:c.parentGroupID})}var M=D.logged("selectFirstVisibleItemIDForGroup",F,function(a,b){a=b.itemID;return a},function(a,b){a=b.instancePath;return a},function(a,c,d){__p&&__p();if(!a)return null;d=q(a,c);if(!d)return null;c=d.items;d.layout==="dynamic"&&(c=c.slice(0).reverse());d=c.map(function(c){return n(b("nullthrows")(a),r(c))}).filter(Boolean);d=d.findIndex(function(a){return!a.isHidden});c=c[d];return c&&r(c)});function c(a,b){var c=L(a,b);return!c?!1:M(a,babelHelpers["extends"]({},b,{itemID:c.id}))===b.itemID}function d(a,c,d){__p&&__p();if(!a||!c)return j;var e=l(c.padding),f=c.layout==="dynamic";if(a&&f){f=l(a.margin);if(!d||c.layoutDirection==="wrap"){a=c.layoutDirection!=="horizontal"?c.spacingY.value:0;d=c.layoutDirection!=="vertical"?c.spacingX.value:0;f=babelHelpers["extends"]({},f,{top:f.top+a,left:f.left+d})}c=b("gkx")("837344");return k(f,c)}return{marginLeft:b("gkx")("837344")?0:e.left,marginTop:b("gkx")("837344")?0:e.top}}c=D.logged("selectItemMargins",H,L,c,d);var N=D.logged("selectGroupBoundingPosition",F,function(a){return w(a)},J,function(a,b){a=b.instancePath;return a},function(a,b,c,d){return a&&c?v({page:a,measuredPositionByInstancePath:b,items:c.items,parentInstancePath:d,shouldIgnoreGrowingChildren:!0}):null});function f(a){var b=w(a),c=u(a),d=y(a);a=s(c,a.selection.selectedItemIDs);a={items:a,page:c,pageSize:d,measuredPositionByInstancePath:b};c=B(a);d=A(a);b=C(a);a=z(a);return{left:c,top:b,width:d-c,height:a-b}}F=D.logged("selectItemEntries",F,w,E,function(a,b){a=b.instancePath;return a},function(a){return a.canvas.heldKeys.isMetaKeyDown},function(a,c,d,e,f){if(!a)return i;var g=b("ProtonInstancePath").toObject(e);g=g.cymbalInstanceIDs;f=h({isMetaKeyDown:f,items:t(a),measuredPositionByInstancePath:c,page:a,parentInstancePath:e,selectedItemIDs:g.length?void 0:d,outputFormat:"flat"});return new Map(f.map(function(a){return[a.id,a]}))});E=D.logged("selectEntryForItem",F,function(a,b){a=b.itemID;return a},function(a,b){return a.get(b)||g});function O(a){a=a.canvas.insertingItem;return!a?!1:a.componentName==="Text"||a.componentName==="RichText"}function P(a){var b=a.canvas,c=b.heldKeys;b=b.insertingItem;if(c.isZKeyDown)return c.isAltKeyDown?"zoom-out":"zoom-in";return b?O(a)?"text":"crosshair":null}function Q(a){a=a.canvas.windowRelativePosition;var b=a.height;a=a.width;return{height:b,width:a}}function R(a,b){var c;c=(c=H(a,b))==null?void 0:c.parentGroupID;return!c?null:J(a,{instancePath:b.instancePath,itemID:c})}function S(a,b){a=R(a,b);return m(a)}function T(a,b){a=R(a,b);return a?a.layout==="dynamic":!1}e.exports={getCanvasSize:Q,getCenterOfSelectedItems:f,getCursor:P,getIsInDynamicGroup:T,getIsInsertingText:O,getItemMargins:d,getLayersAtArtboardCoord:a,getParentGroupAlignment:S,getParentGroupFromInstancePath:L,selectCymbalForInstancePath:K,selectElementForInstancePath:I,selectEntryForItem:E,selectGroupBoundingPosition:N,selectGroupForInstancePath:J,selectItemEntries:F,selectItemForInstancePath:H,selectItemMargins:c}}),null);
__d("ProtonPageStateSelectors",["ProtonCanvasSelectors","ProtonConstants","ProtonCymbalComponentConfigs","ProtonIDTypes","ProtonInstancePath","ProtonPageSelectors","ProtonSelectorCreators","ProtonSelectors","concatArrays","last","memoizeWithArgs","wrapIndex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectItemForInstancePath,h=b("ProtonConstants").EMPTY_OBJECT,i=b("ProtonConstants").EMPTY_SET,j=b("ProtonCymbalComponentConfigs").selectComponentConfigByCymbalPageID,k=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,l=b("ProtonIDTypes").createPageWithStateID,m=b("ProtonPageSelectors").getActivePageStatesForCymbalPath,n=b("ProtonPageSelectors").getPage,o=b("ProtonPageSelectors").getRawActivePage,p=b("ProtonPageSelectors").selectActivePageState,q=b("ProtonSelectorCreators").createProtonSelector,r=b("ProtonSelectors").applyTransformationsToPage,s=b("ProtonSelectors").selectActivePage,t=b("ProtonSelectors").selectFirstItem,u=b("ProtonSelectors").selectRawPageForInstancePath,v="~:";function a(a,c,d){var e=new Map([[c,d]]);w(a,c,d,function(a,c){e.set(b("ProtonInstancePath").add(c,a.id),a.cymbalPageStateID!=null?new Set([a.cymbalPageStateID]):i);return!0});return e}function w(a,c,d,e){__p&&__p();var f=j(a),g=u(a,{instancePath:c});if(!g)return;var k=[{cymbalPath:c,page:r(g,d,a.computedExpressionsByItemID,f,c,h)}];g=function(){var c=k.pop(),d=c.page,g=c.cymbalPath;d.cymbalByID.forEach(function(c){var d=n(a,c.cymbalPageID),h=c.cymbalPageStateID;d&&(k.push({page:r(d,h!=null?new Set([h]):i,a.computedExpressionsByItemID,f,g,c.propsByPageStateID),cymbalPath:b("ProtonInstancePath").add(g,c.id)}),e(c,g))})};while(k.length)g()}function c(a){return a.project.pages}function d(a){return b("concatArrays")(a.map(function(a){var b=[k].concat(Array.from(a.pageStateByID.keys()));return b.map(function(b){return l(a.id,b)})}))}c=q.logged("selectPageWithStateIDs",c,d);function x(a,b){switch(b.type){case"cymbal":return a.cymbalDiffByID.get(b.cymbalID);case"element":return a.elementDiffByID.get(b.elementID);case"group":return a.groupDiffByID.get(b.groupID);default:b.type}return null}function f(a,b){var c=a.selection.lastSelectedPageStateIDByPageID.get(b);return a.mode==="edit"&&c!=null&&z(a,b,c)?c:k}function y(a){__p&&__p();var c=a.state,d=a.action,e=a.includeNonEditablePageState;a=a.cymbalPath;var f=a!=null?u(c,{instancePath:a}):o(c);if(!f)return k;c=m(c,a!=null?a:b("ProtonInstancePath").createFromPageID(f.id));a=b("last")(c)||k;c=Array.from(f.pageStateByID.keys());e===!0&&c.unshift(k);f=d==="next"?1:-1;e=c.indexOf(a);d=c[b("wrapIndex")(e+f,c.length)];return d}function z(a,b,c){a=n(a,b);return Boolean(a&&(a.pageStateByID.has(c)||c===k))}g=q.logged("isItemDiffInActivePageState",function(a,b){b=b.instancePath;return u(a,{instancePath:b})},function(a,b){b=b.instancePath;return m(a,b)},g,function(a,b,c){__p&&__p();if(!a||!c)return!1;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f=a.pageStateByID.get(f);if(!f)continue;switch(c.type){case"element":if(f.elementDiffByID.has(c.id))return!0;break;case"group":if(f.groupDiffByID.has(c.id))return!0;break;case"cymbal":if(f.cymbalDiffByID.has(c.id))return!0;break}}return!1});function A(a){var b=new Map();a.forEach(function(a){b.set(a.id,new Set([k].concat(Array.from(a.pageStateByID.keys()))))});return b}A=q.logged("selectPageStateIDsByPageID",function(a){return a.project.pages},A);var B=b("memoizeWithArgs")(function(a,b){return new Map(b.map(function(a){return[a.id,a.name]}))},function(a,b){return a+v+b.map(function(a){return a.id+v+a.name}).join(v)});function C(a){a=s(a);return B(a.id,Array.from(a.pageStateByID.values()))}function D(a){var b=p(a);a=t(a);return b&&a?x(b,a):null}q=q.logged("selectPageStateNameByIDByPageID",function(a){return a.project.pages},function(a){return new Map(a.map(function(a){return[a.id,B(a.id,Array.from(a.pageStateByID.values()))]}))});e.exports={getDefaultPageStateIDsByCymbalPath:a,getDefaultStateIDForPage:f,getItemDiff:x,getNextOrPreviousPageStateID:y,selectPageStateNameByID:C,getPageWithStateIDs:d,isItemDiffInActivePageState:g,isPageStateValidForPage:z,selectPageWithStateIDs:c,selectPageStateIDsByPageID:A,selectPageStateNameByIDByPageID:q,selectFirstSelectedItemDiff:D}}),null);
__d("ProtonViewSelectors",["ProtonConstants","ProtonPageSelectors","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").BOTTOM_PANEL_MIN_HEIGHT,h=b("ProtonConstants").DEFAULT_ZOOM,i=b("ProtonConstants").LEFT_PANEL_MIN_WIDTH,j=b("ProtonConstants").RIGHT_PANEL_MIN_WIDTH,k=b("ProtonPageSelectors").getActivePageID;function a(a){var b;switch(a.mode){case"edit":return p(a)?(b=a.canvas.birdviewZoom)!=null?b:h:a.canvas.zoomByPageID.get(k(a))||h;case"preview":return a.preview.zoom;default:a.mode}return 1}function c(a){a=a.view;var b=a.bottomPanelMode;a=a.heightByPanelMode;return b==null?0:a[b]||g}function d(a){a=a.view;var b=a.leftPanelMode;a=a.widthByPanelMode;return a[b]||i}function f(a){a=a.view;var b=a.rightPanelMode;a=a.widthByPanelMode;return a[b]||j}function l(a){return a.view.rightPanelMode==="comments"}function m(a){a=a.view.devicePixelRatio;return a!==Math.floor(a)}var n=function(a){return a.view.bottomPanelMode==="animationEditor"},o=function(a){return b("gkx")("677412")?a.view.canvasViewMode:"normal"},p=function(a){return o(a)==="birdview"},q=function(a){return a.view.isShowingGlobalNav&&!n(a)},r=function(a){return a.view.isShowingLeftPanel&&!n(a)},s=function(a){return a.view.isShowingRightPanel&&!n(a)},t=function(a){return a.view.isShowingTopbar},u=function(a){return a.view.widthByPanelMode},v=function(a){return a.view.heightByPanelMode},w=function(a){return a.isIgnoringUnsupportedBrowser};e.exports={getBottomPanelHeight:c,getIsBirdview:p,getIsCommentsPanelOpen:l,getIsShowingBrowserZoomWarning:m,getIsShowingGlobalNav:q,getIsShowingLeftPanel:r,getIsShowingRightPanel:s,getIsShowingTopbar:t,getLeftPanelWidth:d,getRightPanelWidth:f,getZoom:a,selectHeightByPanelMode:v,selectIsIgnoringUnsupportedBrowser:w,selectWidthByPanelMode:u}}),null);
__d("ProtonArtboardSelectors",["ProtonArtboardID","ProtonCanvasConstants","ProtonCanvasSelectors","ProtonConfig","ProtonConstants","ProtonExpressionUtils","ProtonHistoryConstants","ProtonIDTypes","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateSelectors","ProtonPositionSelectors","ProtonSelectorCreators","ProtonUtils","ProtonViewSelectors","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonArtboardID").createArtboardID,h=b("ProtonArtboardID").getKeysForArtboardID,i=b("ProtonCanvasConstants").ARTBOARD_SPACING,j=b("ProtonCanvasConstants").CONTENT_OFFSET_IN_WRAPPER,k=b("ProtonCanvasSelectors").getCanvasSize,l=b("ProtonConstants").EMPTY_POSITION,m=b("ProtonExpressionUtils").mergeExpressionsByItemID,n=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,o=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,p=b("ProtonItemUtils").getActualItem,q=b("ProtonPageSelectors").getActivePageID,r=b("ProtonPageSelectors").getActivePageStateIDForEditMode,s=b("ProtonPageSelectors").getPage,t=b("ProtonPageSelectors").getRawActivePage,u=b("ProtonPageSelectors").selectPageByID,v=b("ProtonPageStateSelectors").selectPageStateIDsByPageID,w=b("ProtonPositionSelectors").cachePosition,x=b("ProtonPositionSelectors").selectPageSize,y=b("ProtonSelectorCreators").createProtonSelector,z=b("ProtonUtils").areRectanglesIntersecting,A=b("ProtonUtils").getBoundingPositionForPositions,B=b("ProtonViewSelectors").getIsBirdview,C=b("ProtonViewSelectors").getZoom;function D(a){return g({pageID:q(a),pageStateID:r(a)})}function a(a){return[o].concat(Array.from(a.pageStateByID.keys())).map(function(b){return g({pageID:a.id,pageStateID:b})})}var E=y.logged("selectPageStateIDs",function(a){return t(a).pageStateByID},function(a){return[o].concat(Array.from(a.keys()))});E=y.logged("selectPageStateArtboardIDs",q,E,function(a,b){return b.map(function(b){return g({pageID:a,pageStateID:b})})});var F=y.logged("selectArtboardIDsGroupedByIsCymbal",u,v,function(a,b){__p&&__p();var c=[],d=[],e=[];for(var b=b,f=Array.isArray(b),h=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i,j;if(f){if(h>=b.length)break;j=b[h++]}else{h=b.next();if(h.done)break;j=h.value}j=j;var k=j[0];j=j[1];i=((i=a.get(k))==null?void 0:i.isCymbal)===!0;for(var j=j,l=Array.isArray(j),m=0,j=l?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=j.length)break;n=j[m++]}else{m=j.next();if(m.done)break;n=m.value}n=n;n=g({pageID:k,pageStateID:n});c.push(n);(i?e:d).push(n)}}return{allArtboardIDs:c,normalArtboardIDs:d,cymbalArtboardIDs:e}}),G=y.logged("selectArtboardIDs",F,function(a){a=a.allArtboardIDs;return a});F=y.logged("selectVisibleArtboardIDs",t,D,B,F,function(a,b,c,d){var e=d.normalArtboardIDs;d=d.cymbalArtboardIDs;return!c?[b]:a.isCymbal===!0?d:e});function c(a){var b=new Map();a.forEach(function(a){b.set(g({pageID:a.id,pageStateID:o}),{height:a.height,width:a.width}),a.pageStateByID.forEach(function(c,d){c=babelHelpers["extends"]({},a,c.pageDiff);b.set(g({pageID:a.id,pageStateID:d}),{height:c.height,width:c.width});return})});return b}c=y.logged("selectDefaultArtboardPageSizes",function(a){return a.project.pages},c);function d(a,b,c,d,e,f,h){__p&&__p();var k=new Map(),l=j,m=j,n=0,o=new Set(b);a.forEach(function(a,b){__p&&__p();a.forEach(function(a){__p&&__p();h||(l=j,m=j);a=g({pageID:b,pageStateID:a});if(!o.has(a))return;var p=c.get(a);p=(p=(p=p==null?void 0:p.size)!=null?p:d.get(a))!=null?p:f;p=e===a?f:p;k.set(a,w(babelHelpers["extends"]({top:l,left:m},p)));n<p.height&&(n=p.height);m+=p.width+i}),l+=n+i,n=0,m=j});return k}var H=y.logged("selectArtboardPositions",v,F,function(a){return a.canvas.metadataByArtboardID},c,D,x,B,d);function I(a,b){a=H(a);return(a=a.get(b.artboardID))!=null?a:l}function J(a){return I(a,{artboardID:D(a)})}function f(a,b){b=h(b.artboardID);var c=b.pageID;b=b.pageStateID;a=s(a,c);return K(a,b)}function K(a,b){if(!a)return"Page";if(b==null)return a.name;b=a.pageStateByID.get(b);return!b?a.name:a.name+" \u2014 "+b.name}d=y.logged("selectArtboardOverlayPositionAdjuster",J,C,function(a,b){return function(c){var d={};typeof c.top==="number"&&(d.top=(a.top+c.top)*b);typeof c.left==="number"&&(d.left=(a.left+c.left)*b);typeof c.width==="number"&&(d.width=c.width*b);typeof c.height==="number"&&(d.height=c.height*b);return d}});function L(a){var c=G(a),d=a.canvas.metadataByArtboardID,e=a.projectHistory.selectedHistoryEntryID;return e===n?new Set(c.filter(function(c){var e=d.get(c);return e==null||e.currentVersion==null||e.pupperCacheBreaker<b("ProtonConfig").pupperCacheBreaker||e.imageURL==null&&!M(a,{artboardID:c})})):new Set(c.filter(function(c){var e=d.get(c);return e==null||e.imageURL==null||e.pupperCacheBreaker<b("ProtonConfig").pupperCacheBreaker||M(a,{artboardID:c})}))}function M(a,b){a=a.canvas.metadataByArtboardID.get(b.artboardID);b=a==null?void 0:a.currentVersion;return b==null?!0:b<((b=a.maxRequestedVersion)!=null?b:0)}function N(a,b){return(b=(a=a.canvas.metadataByArtboardID.get(b.artboardID))==null?void 0:a.imageURL)!=null?b:null}function O(a,b){a=a.canvas.metadataByArtboardID.get(b.artboardID);return((b=a==null?void 0:a.retryCount)!=null?b:0)>=2}function P(a,b,c){__p&&__p();var d=C(a),e=a.canvas.windowRelativePosition;c={top:c,left:b,height:1,width:1};b=H(a);for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];h={left:h.left*d-a.canvas.scrollLeft+e.left,top:h.top*d-a.canvas.scrollTop+e.top,height:h.height*d,width:h.width*d};if(z(c,h))return i}return null}function Q(a,b,c){var d=a.canvas.windowRelativePosition,e=J(a),f=C(a),g=e.left*f-a.canvas.scrollLeft+d.left;e=e.top*f-a.canvas.scrollTop+d.top;return{top:(c-e)/f,left:(b-g)/f}}function R(a,b,c,d){__p&&__p();var e=0,f=0;a.forEach(function(a,h){var j=0,k=0;a.forEach(function(a){a=g({pageID:h,pageStateID:a});var e=b.get(a);a=(e=(e=e==null?void 0:e.size)!=null?e:c.get(a))!=null?e:d;j+=j!==0?a.width+i:a.width;k<a.height&&(k=a.height)});e<j&&(e=j);f+=f!==0?k+i:k});return{height:f,width:e}}v=y.logged("selectArtboardLayoutSize",v,function(a){return a.canvas.metadataByArtboardID},c,x,R);function S(a,b){a=a.selection.hoveredItem;a=a&&a.type==="artboard"?a.id:null;return a===b}function T(a){return a.project.platform==="vr"&&a.project.environmentURI!=null}x=y.logged("selectExpressionsByArtboardID",u,G,function(a,b){__p&&__p();var c=new Map();for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=U(f,a);g!=null&&g.size&&c.set(f,g)}return c});function U(a,b){__p&&__p();a=h(a);var c=a.pageID;a=a.pageStateID;b=b.get(c);if(b==null)return null;c=a==null?null:b.pageStateByID.get(a);a=c==null?b.expressionsByItemID:m(b.expressionsByItemID,c.expressionDiffsByItemID);c=new Set();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];if(!p(b,g))continue;for(var g=f.values(),f=Array.isArray(g),i=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;c.add(j)}}return c}function V(a){return B(a)?!X(a):!W(a)}function W(a){return Y(a,J(a))}function X(a){var b=A(Array.from(H(a).values()));return b==null||Y(a,b)}function Y(a,c){var d=C(a);c=b("mapObject")(c,function(a){return a*d});a=babelHelpers["extends"]({},k(a),{left:a.canvas.scrollLeft,top:a.canvas.scrollTop});return z(c,a)}e.exports={convertWindowCoordToActiveArtboardCoord:Q,formatArtboardName:K,getActiveArtboardID:D,getArtboardIDUnderCursor:P,getArtboardIDsForPage:a,getArtboardIDsWithoutScreenshots:L,getArtboardImageURL:N,getArtboardLayoutSize:R,getArtboardName:f,getHasScreenshotError:O,getIsArtboardHighlighted:S,getIsArtboardLoading:M,getIsPreviewingEnvironment:T,selectActiveArtboardPosition:J,selectArtboardIDs:G,selectArtboardLayoutSize:v,selectArtboardOverlayPositionAdjuster:d,selectArtboardPosition:I,selectArtboardPositions:H,selectDefaultArtboardPageSizes:c,selectPageStateArtboardIDs:E,selectVisibleArtboardIDs:F,selectExpressionsByArtboardID:x,selectIsZoomToFitButtonVisible:V}}),null);
__d("ProtonSemaphoreUtils",["invariant","ProtonArtboardSelectors","ProtonIDTypes","ProtonInstancePath","ProtonPositionSelectors","ProtonSemaphoreConstants","ProtonSemaphoreMeasurementUtils","ProtonVisitor","immutable","minBy","nullthrows","partitionArray"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonArtboardSelectors").formatArtboardName,i=b("ProtonIDTypes").createPageWithStateID,j=b("ProtonPositionSelectors").getItemCoords,k=b("ProtonPositionSelectors").getItemPosition,l=b("ProtonPositionSelectors").getPageSize,m=b("ProtonSemaphoreConstants").DEFAULT_ARTBOARDS_SPACING,n=b("ProtonSemaphoreConstants").SEMAPHORE_ARTBOARD_TEMPLATE,o=b("ProtonSemaphoreMeasurementUtils").distanceBetweenRectangles,p=b("ProtonVisitor").visitPages;function q(a,b,c,d,e){d===void 0&&(d=0);e===void 0&&(e=0);a=encodeURIComponent(a);d={x:d,y:e,width:b.width,height:b.height};e=babelHelpers["extends"]({},n,{name:a,frame:d,layers:[],metadata:babelHelpers["extends"]({},n.metadata,{id:c,slice:d}),layout:babelHelpers["extends"]({},n.layout,{width:d.width,height:d.height})});return e}function a(a){__p&&__p();var c=b("partitionArray")(a.layers,function(a){return a.type==="artboard"}),d=c[0];c=c[1];if(d.length===0)return a;var e=d.map(function(a,b){return{index:b,edges:v(a)}});c.forEach(function(a){var c=v(a),f=b("minBy")(e,function(a){a=a.edges;return o(c,a)});if(!f)return;f=f.index;var h=d[f];h.type==="artboard"||g(0,3519);d[f]=babelHelpers["extends"]({type:"artboard"},h,{layers:[].concat(h.layers,[babelHelpers["extends"]({},a,{frame:babelHelpers["extends"]({},a.frame,{x:a.frame.x-h.frame.x,y:a.frame.y-h.frame.y})})])})});return babelHelpers["extends"]({},a,{layers:d})}function r(a){var b=a.item,c=a.page,d=a.pageStateID;a=a.position;a={x:a.left,y:a.top,width:a.width,height:a.height};return{name:encodeURIComponent(b.name),frame:a,layout:{isEnabled:!1},metadata:{id:c.id+":"+String(d)+":"+b.id,slice:a}}}function s(a){var b=a.group,c=a.page,d=a.pageStateID;a=a.position;c=r({item:b,page:c,pageStateID:d,position:a});return babelHelpers["extends"]({},c,{type:"group",layers:[],clip:!0,layout:{isEnabled:!1,flexDirection:"column",flexWrap:"nowrap",paddingTop:(d=b.padding.top)!=null?d:void 0,paddingRight:(c=b.padding.right)!=null?c:void 0,paddingBottom:(d=b.padding.bottom)!=null?d:void 0,paddingLeft:(c=b.padding.left)!=null?c:void 0,marginTop:(d=b.margin.top)!=null?d:void 0,marginRight:(c=b.margin.right)!=null?c:void 0,marginBottom:(d=b.margin.bottom)!=null?d:void 0,marginLeft:(c=b.margin.left)!=null?c:void 0,height:a.width,width:a.height,alignItems:"flex-start",justifyContent:"flex-start"}})}function t(a){var b=a.item,c=a.page,d=a.pageStateID;a=a.position;b=r({item:b,page:c,pageStateID:d,position:a});return babelHelpers["extends"]({},b,{type:"rectangle"})}function u(a){var b=a.item,c=a.page,d=a.pageStateID;a=a.position;return b.type==="group"?s({group:b,page:c,pageStateID:d,position:a}):t({item:b,page:c,pageStateID:d,position:a})}function c(a){__p&&__p();var c=0,d=0,e=new Map(),f=new Map(),g=!1;a.forEach(function(a){a.length>1&&(g=!0)});a.forEach(function(a){__p&&__p();function n(c){__p&&__p();var d=c.item,g=c.page;c=c.parentGroup;var h=a.findIndex(function(a){return a.pageWithStateChanges===g});h=a[h];var l=h.measuredPositionByInstancePath;h=h.pageStateID;var m=k({page:g,measuredPositionByInstancePath:l,item:d,parentInstancePath:b("ProtonInstancePath").create(g.id)});l=c?j({page:g,measuredPositionByInstancePath:l,itemOrID:c.id,parentInstancePath:b("ProtonInstancePath").create(g.id)}):{left:0,top:0};m=babelHelpers["extends"]({},m,{left:m.left-l.left,top:m.top-l.top});l=u({item:d,page:g,pageStateID:h,position:m});d.type==="group"&&f.set(d.id,l);if(!c){m=b("nullthrows")(e.get(i(g.id,h)));m.layers=[].concat(m.layers,[l])}else{d=b("nullthrows")(f.get(c.id));d.type==="group"&&d.layers.push(l)}}var o=a.map(function(a){return a.pageWithStateChanges}),r=0;p(o,{onPage:function(b){__p&&__p();var f=b.page;b=b.pageIndex;b=a[b];var g=b.measuredPositionByInstancePath;b=b.pageStateID;var j=i(f.id,b);g=l(f,g);f=h(f,b);e.set(j,q(f,g,j,c,d));g.height>r&&(r=g.height);c+=g.width+m},onBeforeGroup:function(a){var b=a.group,c=a.page;a=a.parentGroup;return n({item:b,page:c,parentGroup:a})},onElement:function(a){var b=a.element,c=a.page;a=a.parentGroup;return n({item:b,page:c,parentGroup:a})},onCymbal:function(a){var b=a.cymbal,c=a.page;a=a.parentGroup;return n({item:b,page:c,parentGroup:a})}});g&&(c=0,d+=r+m)});a=Array.from(e.values());var n=a[0].frame;a={version:11,layers:a,images:[],density:1,metadata:{artboard:{width:n.width,height:n.height}}};return a}function v(a){a=a.frame;var b=a.x,c=a.y,d=a.width;a=a.height;return{top:c,left:b,right:b+d,bottom:c+a}}function d(a){return typeof a.version==="number"&&Array.isArray(a.layers)}function f(a){return((a=a.fill)==null?void 0:a.type)==="image"}function w(a){return a.visible===!1}function x(a,b){return a.images.find(function(a){return a.id===b})}function y(a){var b=z(a);return Boolean(b)||((b=a.fill)==null?void 0:b.type)==="image"||((b=a.fill)==null?void 0:b.type)==="gradient"}function z(a){return(a=(a=a.metadata)==null?void 0:(a=a.layout)==null?void 0:a.boundsOpacity)!=null?a:null}e.exports={createSemaphoreDocumentFromScreenshots:c,findImageInSemaphoreDocument:x,generateSemaphoreArtboardFromPage:q,generateSemaphoreGroup:s,generateSemaphoreRectangleLayer:t,getBoundingLayerOpacity:z,isImageLayer:f,isLayerHidden:w,isSemaphoreDocument:d,moveLayersToNearestArtboard:a,needsBackgroundLayer:y}}),null);
__d("ProtonSemaphoreConvertGroup",["ProtonClientIDs","ProtonConstants","ProtonProjectPlatformUtils","ProtonSemaphoreBorderUtils","ProtonSemaphoreColorUtils","ProtonSemaphoreConstants","ProtonSemaphoreFillUtils","ProtonSemaphoreHelpers","ProtonSemaphoreMeasurementUtils","ProtonSemaphoreShadowUtils","ProtonSemaphoreUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY,h=b("ProtonConstants").EMPTY_BORDER_RADIUS,i=b("ProtonConstants").EMPTY_GROUP,j=b("ProtonConstants").EMPTY_SPACING,k=b("ProtonProjectPlatformUtils").forPlatform,l=b("ProtonSemaphoreBorderUtils").adjustPositionForBorder,m=b("ProtonSemaphoreBorderUtils").borderRadiusToCSS,n=b("ProtonSemaphoreBorderUtils").getSemaphoreBorderWidth,o=b("ProtonSemaphoreBorderUtils").semaphoreBorderToBorderProps,p=b("ProtonSemaphoreColorUtils").getLayerOpacity,q=b("ProtonSemaphoreConstants").IMPORT_METADATA,r=b("ProtonSemaphoreConstants").LAYOUT_DIRECTION_BY_LAYOUT_KIT_DIRECTION,s=b("ProtonSemaphoreConstants").LAYOUT_KIT_EMOJI,t=b("ProtonSemaphoreConstants").SIZE_BEHAVIOR_BY_LAYOUT_KIT_SIZE_BEHAVIOR,u=b("ProtonSemaphoreFillUtils").fillToCSSBackground,v=b("ProtonSemaphoreHelpers").arrayToSpacing,w=b("ProtonSemaphoreHelpers").hasAnyItems,x=b("ProtonSemaphoreHelpers").hasAnyKeys,y=b("ProtonSemaphoreMeasurementUtils").correctAutoGrowNesting,z=b("ProtonSemaphoreMeasurementUtils").getChildCoordOffset,A=b("ProtonSemaphoreMeasurementUtils").getPositionWithOffset,B=b("ProtonSemaphoreShadowUtils").getBoxShadow,C=b("ProtonSemaphoreUtils").getBoundingLayerOpacity,D=b("ProtonSemaphoreUtils").isLayerHidden,E=b("ProtonSemaphoreUtils").needsBackgroundLayer;function a(a,c){__p&&__p();var d=c.semaphoreDocument,e=c.parentGroup,f=c.parentGroupID,F=c.coordOffset,G=c.convertLayers;c=c.semaphoreLogger;var H=a.border,I=a.name,J=a.fill,K=a.frame,L=[],M=z(F,a,d.version);if(E(a)){var N;N={border:a.border,cornerRadii:a.cornerRadii,cornerRadius:a.cornerRadius,fill:J,frame:babelHelpers["extends"]({},K,{x:0,y:0}),isVisible:!0,name:"Background",opacity:(N=C(a))!=null?N:1,type:"rectangle",layout:{isEnabled:!1}};a.layers=[N].concat(a.layers);N=n(H);M={x:M.x+N,y:M.y+N}}N=b("ProtonClientIDs").create("group");G=G({semaphoreDocument:d,layers:a.layers,parentGroupID:N,parentGroup:a,coordOffset:M,semaphoreLogger:c});M=G.items;c=G.elementByID;G=G.groupByID;var O=a.clip===!0?B(a,e):"";L.push({type:"group",groupID:N});F=A(K,F);var P=F.top;F=F.left;J=babelHelpers["extends"]({},i,{backgroundColor:u(K,J),borderRadius:h,boxShadow:O,heightSizeBehavior:"fixed",id:N,importMetadata:q,isFlippedHorizontally:!!a.isFlippedHorizontal,isFlippedVertically:!!a.isFlippedVertical,isHidden:D(a),items:M,layout:"static",name:I,opacity:p(a),overflow:k({web:"hidden",vr:"visible"}),parentGroupID:f,position:{height:0,left:F,top:P,width:0},widthSizeBehavior:"fixed"});O=m(a);N=o(H,a);M=w(N)||x(O);if(d.version>=11&&M){f=babelHelpers["extends"]({},J.position,{width:K.width,height:K.height});F=g;E(a)||(f=l(f,H),F=o(H,a));J=babelHelpers["extends"]({},J,{border:F,borderRadius:m(a),layout:k({web:"masking",vr:"static"}),position:f})}P=a.layers.some(function(a){return a.visible!==!1&&((a=a.layout)==null?void 0:a.position)==="absolute"});N=E(a)||P;d=(O=a.metadata)==null?void 0:O.layout;if(d&&d.IsEnabled){M=s.has(I.codePointAt(0))?I.substr(2):I;H=!J.border&&t.get(d.width)||"fixed";F=!J.border&&t.get(d.height)||"fixed";J=babelHelpers["extends"]({},J,{name:M,layout:N?"static":"dynamic",alignment:{x:d.alignmentX,y:d.alignmentY},layoutDirection:r.get(d.direction)||"horizontal",widthSizeBehavior:H,heightSizeBehavior:F,spacingX:{isSpaceBetween:d.spaceBetweenX,value:d.spacingX||0},spacingY:{isSpaceBetween:d.spaceBetweenY,value:d.spacingY||0},padding:N?j:v(d.padding),margin:P?j:v(d.margin)});e&&e.type==="group"&&(J=y(e,J));J.widthSizeBehavior==="fixed"&&(J=babelHelpers["extends"]({},J,{position:babelHelpers["extends"]({},J.position,{width:K.width})}));J.heightSizeBehavior==="fixed"&&(J=babelHelpers["extends"]({},J,{position:babelHelpers["extends"]({},J.position,{height:K.height})}))}G.set(J.id,J);return{newItems:L,newElementByID:c,newGroupByID:G}}e.exports={convertGroup:a}}),null);
__d("ProtonVRSemaphoreUtils",["ProtonProjectPlatformUtils","ProtonSemaphoreColorUtils","ProtonSemaphoreGradientUtils","ProtonVRComponentConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonProjectPlatformUtils").forPlatform,h=b("ProtonSemaphoreColorUtils").colorToCSS,i=b("ProtonSemaphoreGradientUtils").getAngleAndPercentageForLinearGradient,j=b("ProtonVRComponentConfigConstants").DEFAULT_BACKGROUND;function a(a,b){__p&&__p();var c=j;if(!b)return c;if(b.type==="color")return babelHelpers["extends"]({},c,{color:h(b.color)});else if(b.type==="gradient"&&b.gradient.type==="linear"){a=i(b.gradient.startPosition,b.gradient.endPosition,a.height,a.width);a=a.angleInDegrees;return babelHelpers["extends"]({},c,{gradientAngle:a,gradientColorA:h(b.gradient.startColor),gradientColorB:h(b.gradient.endColor),type:"gradient"})}return c}function c(a){switch(a){case"Ellipse":return g({web:"Ellipse",vr:"RectangleVR"});case"FBIcon":return g({web:"FBIcon",vr:"OCIcon"});case"Image":return g({web:"Image",vr:"ImageVR"});case"Path":return g({web:"Path",vr:"RectangleVR"});case"Rectangle":return g({web:"Rectangle",vr:"RectangleVR"});case"RichText":return g({web:"RichText",vr:"TextVR"})}return a}e.exports={fillToBackground:a,getComponentNameForPlatform:c}}),null);
__d("ProtonSemaphoreConvertRectangle",["ProtonBorderUtils","ProtonClientIDs","ProtonConstants","ProtonGlyphConfig","ProtonProjectPlatformUtils","ProtonSemaphoreBorderUtils","ProtonSemaphoreColorUtils","ProtonSemaphoreConstants","ProtonSemaphoreFillUtils","ProtonSemaphoreHelpers","ProtonSemaphoreMeasurementUtils","ProtonSemaphoreShadowUtils","ProtonSemaphoreUtils","ProtonVRSemaphoreUtils","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").convertCSStoBorder,h=b("ProtonConstants").EMPTY_ELEMENT,i=b("ProtonConstants").EMPTY_GROUP,j=b("ProtonProjectPlatformUtils").forPlatform,k=b("ProtonSemaphoreBorderUtils").borderRadiusToCSS,l=b("ProtonSemaphoreBorderUtils").getAdjustedBorderWidth,m=b("ProtonSemaphoreBorderUtils").getBorderColor,n=b("ProtonSemaphoreBorderUtils").getBorderStyle,o=b("ProtonSemaphoreBorderUtils").getSemaphoreBorderWidth,p=b("ProtonSemaphoreBorderUtils").semaphoreBorderToBorderProps,q=b("ProtonSemaphoreColorUtils").getLayerOpacity,r=b("ProtonSemaphoreColorUtils").glyphColorToCSS,s=b("ProtonSemaphoreConstants").IMPORT_METADATA,t=b("ProtonSemaphoreFillUtils").fillToCSSBackground,u=b("ProtonSemaphoreFillUtils").imageToSrc,v=b("ProtonSemaphoreHelpers").arrayToSpacing,w=b("ProtonSemaphoreMeasurementUtils").calculatePosition,x=b("ProtonSemaphoreMeasurementUtils").getChildCoordOffset,y=b("ProtonSemaphoreShadowUtils").getBoxShadow,z=b("ProtonSemaphoreUtils").findImageInSemaphoreDocument,A=b("ProtonSemaphoreUtils").isLayerHidden,B=b("ProtonSemaphoreUtils").needsBackgroundLayer,C=b("ProtonVRSemaphoreUtils").fillToBackground,D=b("ProtonVRSemaphoreUtils").getComponentNameForPlatform;function a(a,c){__p&&__p();var d,e=c.semaphoreDocument,f=c.layers,g=c.coordOffset,l=c.parentGroupID,m=c.parentGroup,n=c.convertLayers;c=c.semaphoreLogger;var o=a.border,u=a.name,C=a.fill,G=a.frame;d=(d=a.metadata)==null?void 0:d.layout;var H=[],I=new Map(),J=new Map(),K=b("ProtonClientIDs").create("element");d=babelHelpers["extends"]({},h,{aspectRatio:G.width/G.height,id:K,isAspectRatioLocked:!0,importMetadata:s,isFlippedHorizontally:!!a.isFlippedHorizontal,isFlippedVertically:!!a.isFlippedVertical,isHidden:A(a),margin:v(d==null?void 0:d.margin),name:u,parentGroupID:l,position:w(G,g)});if(a.mask!==void 0){var L;f[0];f=f.slice(1);var M=x(g,a,e.version);if(B(a))if(C&&C.type==="image"){var N=z(e,C.image);N!=null&&N.data!=null&&(L=babelHelpers["extends"]({},d,{componentName:D("Image"),importMetadata:babelHelpers["extends"]({},s,{fromGlyphKit:"image"}),props:F(a,N,m)}))}else L=babelHelpers["extends"]({},d,{componentName:D(a.type==="ellipse"?"Ellipse":"Rectangle"),position:w(G,g,o),props:E(a,m)});L&&(H.push({type:"element",elementID:K}),I.set(K,L));N=b("ProtonClientIDs").create("group");n=n({semaphoreDocument:e,layers:f,parentGroupID:N,parentGroup:null,coordOffset:M,semaphoreLogger:c});f=n.items;M=n.elementByID;c=n.groupByID;H.push({type:"group",groupID:N});n=babelHelpers["extends"]({},i,{id:N,border:p(o,a),borderRadius:k(a),boxShadow:y(a,m),importMetadata:s,isHidden:A(a),items:f,layout:j({web:"masking",vr:"static"}),name:u,backgroundColor:(C==null?void 0:C.type)==="color"?t(a.frame,a.fill):"",overflow:j({web:"hidden",vr:"visible"}),parentGroupID:l,position:w(G,g)});n&&J.set(n.id,n);L&&I.set(L.id,L);return{newItems:H,newElementByID:b("mergeMaps")(I,M),newGroupByID:b("mergeMaps")(J,c),isLayerComplete:!0}}if(C&&C.type==="image"){N=C.behavior;var O=C.image;f=e.images.find(function(a){return a.id===O});l=a.type==="rectangle"?(u=a.metadata)==null?void 0:u.glyph:null;n=l&&r(l);M=(l==null?void 0:l.set)==="fb_glyphs"&&G.height===G.width&&b("ProtonGlyphConfig").sizes.includes(G.height.toString())&&Boolean(n);c=(l==null?void 0:l.set)==="facebook_icons"&&G.height===G.width&&G.height===(l==null?void 0:l.size)&&Boolean(n);C=(l==null?void 0:l.set)==="oculus_icons";e=c||C;if(f&&l&&!M&&!e){H.push({type:"element",elementID:K});u=babelHelpers["extends"]({},d,{componentName:"Image Mask",importMetadata:babelHelpers["extends"]({},s,{fromGlyphKit:l.set==null?"image":l==null?void 0:l.set}),props:babelHelpers["extends"]({},F(a,f,m),{behavior:N,color:t(G,l.fill)})});I.set(u.id,u);return{newItems:H,newElementByID:I,newGroupByID:J}}else if(f&&!M&&!e){H.push({type:"element",elementID:K});c=babelHelpers["extends"]({},d,{componentName:D("Image"),importMetadata:babelHelpers["extends"]({},s,{fromGlyphKit:"image"}),props:babelHelpers["extends"]({},F(a,f,m),{behavior:N})});I.set(c.id,c);return{newItems:H,newElementByID:I,newGroupByID:J}}else if(l&&M){H.push({type:"element",elementID:K});C=babelHelpers["extends"]({},d,{componentName:"Glyph",importMetadata:s,props:{color:n,name:l.name,opacity:q(a),size:G.height}});I.set(C.id,C);return{newItems:H,newElementByID:I,newGroupByID:J}}else if(l&&e){H.push({type:"element",elementID:K});u=babelHelpers["extends"]({},d,{componentName:D("FBIcon"),importMetadata:s,props:{color:n,name:l.name,opacity:q(a),size:l.size,variant:l.style||"outline"}});I.set(u.id,u);return{newItems:H,newElementByID:I,newGroupByID:J}}}H.push({type:"element",elementID:K});f=babelHelpers["extends"]({},d,{id:K,isAspectRatioLocked:!1,componentName:D(a.type==="ellipse"?"Ellipse":"Rectangle"),position:w(G,g,o),props:E(a,m)});I.set(f.id,f);return{newItems:H,newElementByID:I,newGroupByID:J}}var E=function(a,b){return babelHelpers["extends"]({},G(a,b),{background:j({web:t(a.frame,a.fill),vr:C(a.frame,a.fill)}),rotation:a.rotation})},F=function(a,b,c){return babelHelpers["extends"]({},G(a,c),{rotation:a.rotation,src:u(b)})},G=function(a,b){return{border:g({color:m(a.border),style:n(a.border),width:j({web:l(a.type,a.frame,a.border),vr:o(a.border)})}),borderRadius:j({web:a.type==="ellipse"?"50%":k(a),vr:k(a)}),boxShadow:y(a,b),opacity:q(a)}};e.exports=a}),null);
__d("ProtonSemaphorePathUtils",["ProtonSemaphoreHelpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonSemaphoreHelpers").round;function a(a,b){return b.map(function(b){switch(b.type){case"moveTo":return"M"+h(a,b.point);case"lineTo":return"L"+h(a,b.point);case"curveTo":return"C"+h(a,b.curveFrom)+", "+h(a,b.curveTo)+", "+h(a,b.point);case"closePath":return"Z"}return""}).join(" ")}function h(a,b){return g(b.x*a.width)+" "+g(b.y*a.height)}function c(a,b,c){if(a.length!==2)return null;var d=a[0];a=a[1];if(d.type!=="moveTo"||a.type!=="lineTo")return null;if(g(d.point.y)===g(a.point.y))return{borderSide:"top",position:{height:c,left:g(b.left),top:g(b.top+a.point.y*b.height-c/2),width:g(b.width)}};return g(d.point.x)===g(a.point.x)?{borderSide:"left",position:{height:g(b.height),left:g(b.left+a.point.x*b.width-c/2),top:g(b.top),width:c}}:null}e.exports={pathToSVG:a,getLineAsRectangleFromPath:c,pointToSVG:h}}),null);
__d("ProtonSemaphoreConvertShape",["ProtonBorderConstants","ProtonClientIDs","ProtonConstants","ProtonSemaphoreBorderUtils","ProtonSemaphoreColorUtils","ProtonSemaphoreConstants","ProtonSemaphoreGradientUtils","ProtonSemaphoreHelpers","ProtonSemaphoreMeasurementUtils","ProtonSemaphorePathUtils","ProtonSemaphoreShadowUtils","ProtonSemaphoreUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderConstants").DEFAULT_COMPOUND_BORDER,h=b("ProtonConstants").EMPTY_ELEMENT,i=b("ProtonConstants").EMPTY_MAP,j=b("ProtonSemaphoreBorderUtils").getBorderColor,k=b("ProtonSemaphoreBorderUtils").getBorderStyle,l=b("ProtonSemaphoreBorderUtils").getSemaphoreBorderWidth,m=b("ProtonSemaphoreColorUtils").colorToCSS,n=b("ProtonSemaphoreColorUtils").getLayerOpacity,o=b("ProtonSemaphoreConstants").IMPORT_METADATA,p=b("ProtonSemaphoreGradientUtils").linearGradientToSVGBackground,q=b("ProtonSemaphoreHelpers").round,r=b("ProtonSemaphoreMeasurementUtils").calculatePosition,s=b("ProtonSemaphorePathUtils").getLineAsRectangleFromPath,t=b("ProtonSemaphorePathUtils").pathToSVG,u=b("ProtonSemaphoreShadowUtils").getBoxShadow,v=b("ProtonSemaphoreUtils").isLayerHidden,w=1.1,x=1.5,y=.4,z=.5;function a(a,c){__p&&__p();var d=c.coordOffset,e=c.parentGroupID;c=c.parentGroup;var f=a.border,B=a.name,C=a.fill,D=a.frame,E=[],F=new Map(),G=i,H=b("ProtonClientIDs").create("element");E.push({type:"element",elementID:H});B=babelHelpers["extends"]({},h,{id:H,importMetadata:o,isFlippedHorizontally:!!a.isFlippedHorizontal,isFlippedVertically:!!a.isFlippedVertical,isHidden:v(a),name:B,parentGroupID:e,position:r(D,d),props:{boxShadow:u(a,c),opacity:n(a),rotation:a.rotation}});e=l(f);d=s(a.path,B.position,e);if(d){c=k(f);e=j(f);B=babelHelpers["extends"]({},B,{componentName:"Rectangle",position:d.position,props:babelHelpers["extends"]({},B.props,c==="solid"?{background:e,border:[]}:{background:"rgba(0, 0, 0, 0)",border:[babelHelpers["extends"]({},g,{sides:[!0,!1,!1,!1],color:e,style:c})]})})}else B=babelHelpers["extends"]({},B,{componentName:"Path",props:babelHelpers["extends"]({},B.props,{fill:C&&C.type==="color"?m(C.color):"transparent",opacity:n(a),gradient:C&&C.type==="gradient"?p(D,C.gradient):null,shadows:A(a.shadows,w,y),innerShadows:A(a.innerShadows,x,z),path:t(D,a.path),stroke:j(f),strokeWidth:l(f),viewBox:"0 0 "+q(D.width)+" "+q(D.height)})});F.set(H,B);return{newItems:E,newElementByID:F,newGroupByID:G}}function A(a,b,c){if(a==null)return null;a=a.map(function(a){var d=a.color,e=a.blur;d=babelHelpers["extends"]({},d,{a:q(Math.min(d.a*b,1))});return babelHelpers["extends"]({},a,{blur:q(e*c),color:m(d)})});return a}e.exports=a}),null);
__d("ProtonFontPostscriptName",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();switch(a){case"ArialMT":return{fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal"};case"Arial-BoldMT":return{fontFamily:"Arial",fontWeight:"bold",fontStyle:"normal"};case"Arial-ItalicMT":return{fontFamily:"Arial",fontWeight:"normal",fontStyle:"italic"};case"Arial-BoldItalicMT":return{fontFamily:"Arial",fontWeight:"bold",fontStyle:"italic"};case"SFUIDisplay-Thin":return{fontFamily:"System Font",fontWeight:"100",fontStyle:"normal"};case"SFUIDisplay-Ultralight":return{fontFamily:"System Font",fontWeight:"200",fontStyle:"normal"};case"SFUIDisplay-Light":case"SFUIText-Light":return{fontFamily:"System Font",fontWeight:"300",fontStyle:"normal"};case"SFUIText-LightItalic":return{fontFamily:"System Font",fontWeight:"300",fontStyle:"italic"};case"SFUIDisplay-Regular":case"SFUIText-Regular":return{fontFamily:"System Font",fontWeight:"normal",fontStyle:"normal"};case"SFUIText-RegularItalic":return{fontFamily:"System Font",fontWeight:"normal",fontStyle:"italic"};case"SFUIDisplay-Medium":case"SFUIText-Medium":return{fontFamily:"System Font",fontWeight:"500",fontStyle:"normal"};case"SFUIText-MediumItalic":return{fontFamily:"System Font",fontWeight:"500",fontStyle:"italic"};case"SFUIDisplay-Semibold":case"SFUIText-Semibold":return{fontFamily:"System Font",fontWeight:"600",fontStyle:"normal"};case"SFUIText-SemiboldItalic":return{fontFamily:"System Font",fontWeight:"600",fontStyle:"italic"};case"SFUIDisplay-Bold":case"SFUIText-Bold":return{fontFamily:"System Font",fontWeight:"bold",fontStyle:"normal"};case"SFUIText-BoldItalic":return{fontFamily:"System Font",fontWeight:"bold",fontStyle:"italic"};case"SFUIDisplay-Black":case"SFUIDisplay-Heavy":case"SFUIText-Heavy":return{fontFamily:"System Font",fontWeight:"900",fontStyle:"normal"};case"SFUIText-HeavyItalic":return{fontFamily:"System Font",fontWeight:"900",fontStyle:"italic"};case"Helvetica-Light":return{fontFamily:"Helvetica",fontWeight:"300",fontStyle:"normal"};case"Helvetica-LightOblique":return{fontFamily:"Helvetica",fontWeight:"300",fontStyle:"oblique"};case"Helvetica-Oblique":return{fontFamily:"Helvetica",fontWeight:"normal",fontStyle:"oblique"};case"Helvetica-Bold":return{fontFamily:"Helvetica",fontWeight:"bold",fontStyle:"normal"};case"Helvetica-BoldOblique":return{fontFamily:"Helvetica",fontWeight:"bold",fontStyle:"oblique"};case"HelveticaNeue-Thin":return{fontFamily:"Helvetica Neue",fontWeight:"100",fontStyle:"normal"};case"HelveticaNeue-ThinItalic":return{fontFamily:"Helvetica Neue",fontWeight:"100",fontStyle:"italic"};case"HelveticaNeue-UltraLight":return{fontFamily:"Helvetica Neue",fontWeight:"200",fontStyle:"normal"};case"HelveticaNeue-UltraLightItalic":return{fontFamily:"Helvetica Neue",fontWeight:"200",fontStyle:"italic"};case"HelveticaNeue-Light":return{fontFamily:"Helvetica Neue",fontWeight:"300",fontStyle:"normal"};case"HelveticaNeue-LightItalic":return{fontFamily:"Helvetica Neue",fontWeight:"300",fontStyle:"italic"};case"HelveticaNeue":return{fontFamily:"Helvetica Neue",fontWeight:"normal",fontStyle:"normal"};case"HelveticaNeue-Italic":return{fontFamily:"Helvetica Neue",fontWeight:"normal",fontStyle:"italic"};case"HelveticaNeue-Medium":return{fontFamily:"Helvetica Neue",fontWeight:"500",fontStyle:"normal"};case"HelveticaNeue-MediumItalic":return{fontFamily:"Helvetica Neue",fontWeight:"500",fontStyle:"italic"};case"HelveticaNeue-Bold":return{fontFamily:"Helvetica Neue",fontWeight:"bold",fontStyle:"normal"};case"HelveticaNeue-BoldItalic":return{fontFamily:"Helvetica Neue",fontWeight:"bold",fontStyle:"italic"};case"Effra-Light":return{fontFamily:"Effra",fontWeight:"300",fontStyle:"normal"};case"Effra-Medium":return{fontFamily:"Effra",fontWeight:"500",fontStyle:"normal"};case"Roboto-Regular":return{fontFamily:"Roboto",fontWeight:"400",fontStyle:"normal"};case"Roboto-Italic":return{fontFamily:"Roboto",fontWeight:"400",fontStyle:"italic"};case"Roboto-Light":return{fontFamily:"Roboto",fontWeight:"300",fontStyle:"normal"};case"Roboto-LightItalic":return{fontFamily:"Roboto",fontWeight:"300",fontStyle:"italic"};case"Roboto-Medium":return{fontFamily:"Roboto",fontWeight:"500",fontStyle:"normal"};case"Roboto-MediumItalic":return{fontFamily:"Roboto",fontWeight:"500",fontStyle:"italic"};case"Roboto-Bold":return{fontFamily:"Roboto",fontWeight:"700",fontStyle:"normal"};case"Roboto-BoldItalic":return{fontFamily:"Roboto",fontWeight:"700",fontStyle:"italic"};case"Roboto-Black":return{fontFamily:"Roboto",fontWeight:"900",fontStyle:"normal"};case"Roboto-BlackItalic":return{fontFamily:"Roboto",fontWeight:"900",fontStyle:"italic"};case"Roboto-Thin":return{fontFamily:"Roboto",fontWeight:"200",fontStyle:"normal"};case"Roboto-ThinItalic":return{fontFamily:"Roboto",fontWeight:"200",fontStyle:"italic"};case"SFProText-Regular":return{fontFamily:"SF Pro Text",fontWeight:"400",fontStyle:"normal"};case"SFProText-Italic":return{fontFamily:"SF Pro Text",fontWeight:"400",fontStyle:"italic"};case"SFProText-Light":return{fontFamily:"SF Pro Text",fontWeight:"300",fontStyle:"normal"};case"SFProText-LightItalic":return{fontFamily:"SF Pro Text",fontWeight:"300",fontStyle:"italic"};case"SFProText-Medium":return{fontFamily:"SF Pro Text",fontWeight:"500",fontStyle:"normal"};case"SFProText-MediumItalic":return{fontFamily:"SF Pro Text",fontWeight:"500",fontStyle:"italic"};case"SFProText-Bold":return{fontFamily:"SF Pro Text",fontWeight:"700",fontStyle:"normal"};case"SFProText-BoldItalic":return{fontFamily:"SF Pro Text",fontWeight:"700",fontStyle:"italic"};case"SFProText-Heavy":return{fontFamily:"SF Pro Text",fontWeight:"900",fontStyle:"normal"};case"SFProText-HeavyItalic":return{fontFamily:"SF Pro Text",fontWeight:"900",fontStyle:"italic"};case"SFProText-Semibold":return{fontFamily:"SF Pro Text",fontWeight:"600",fontStyle:"normal"};case"SFProText-SemiboldItalic":return{fontFamily:"SF Pro Text",fontWeight:"600",fontStyle:"italic"}}return{fontFamily:a,fontWeight:"normal",fontStyle:"normal"}}e.exports={toFontProperties:a}}),null);
__d("ProtonSemaphoreTextUtils",["invariant","ContentState","EditorState","ProtonFontPostscriptName","ProtonRichTextUtils","ProtonSemaphoreColorUtils","ProtonSemaphoreConstants","ProtonSemaphoreFillUtils","ProtonSemaphoreHelpers","firstx","lastx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonRichTextUtils").applyInlineStyle,i=b("ProtonRichTextUtils").applyInlineStylesToAll,j=b("ProtonRichTextUtils").getNameFromRecord,k=b("ProtonRichTextUtils").getRangeToBlockMapping,l=b("ProtonRichTextUtils").getSelectionStateForSemaphoreRange,m=b("ProtonRichTextUtils").selectNothing,n=b("ProtonSemaphoreColorUtils").colorToCSS,o=b("ProtonSemaphoreConstants").DEFAULT_CHARACTER_SPACING,p=b("ProtonSemaphoreFillUtils").fillToCSSBackground,q=b("ProtonSemaphoreHelpers").round;function a(a){__p&&__p();a.type==="text"||g(0,3520);var c=b("ContentState").createFromText(a.value),d=a.fill&&a.fill.type==="color"?p(a.frame,a.fill):null,e=r(a,d);c=i(c,new Set(e));var f=k(c),j=b("EditorState").createWithContent(c);a.attributeRuns&&a.attributeRuns.forEach(function(a){var c=s(a,d);a=l(f,a.range.location,a.range.location+a.range.length);j=b("EditorState").forceSelection(j,a);j=c.reduce(function(a,b){return h(a,b)},j)});return{inlineStyleOverride:null,paragraphSpacing:a.paragraphSpacing,state:m(j),textAlign:a.textAlignment==="justified"?"left":a.textAlignment}}function r(a,c){a.type==="text"||g(0,3521);var d=b("ProtonFontPostscriptName").toFontProperties(a.fontPostscriptName),e=q(a.fontSize);return[{propName:"color",value:(c=c)!=null?c:n(a.textColor)},{propName:"fontFamily",value:d.fontFamily},{propName:"fontSize",value:e+"px"},{propName:"fontWeight",value:d.fontWeight},{propName:"fontStyle",value:d.fontStyle},{propName:"lineHeight",value:a.lineSpacing+"px"},{propName:"fontKerning",value:"normal"},{propName:"letterSpacing",value:u(d.fontFamily,e,a.characterSpacing)}].map(function(a){return j(a)})}function s(a,c){var d=b("ProtonFontPostscriptName").toFontProperties(a.fontPostscriptName),e=q(a.fontSize);return[{propName:"fontFamily",value:d.fontFamily},{propName:"fontKerning",value:"normal"},{propName:"fontSize",value:e+"px"},{propName:"fontWeight",value:d.fontWeight},{propName:"letterSpacing",value:u(d.fontFamily,e,a.characterSpacing)},{propName:"color",value:(d=c)!=null?d:n(a.textColor)},a.underline&&a.underline!=="none"?{propName:"textDecoration",value:"underline"}:null,a.strikethrough&&a.strikethrough!=="none"?{propName:"textDecoration",value:"line-through"}:null,a.textTransform?{propName:"textTransform",value:a.textTransform}:null].filter(Boolean)}function c(a){return babelHelpers["extends"]({},a,{attributeRuns:a.attributeRuns?a.attributeRuns.map(function(a){return babelHelpers["extends"]({},a,{fontSize:Math.floor(a.fontSize)})}):[]})}var t=[[24,-.25],[20,-.3],[16,-.35],[14,-.4],[13,-.45],[12,-.5]];function u(a,c,d){__p&&__p();a=a==="System Font"||a.startsWith("SFPro")||a.startsWith("SFDisplay")||a.startsWith("SFText");if(!a||Number(d)>0)return d!=null?d:o;a=b("lastx")(b("firstx")(t));t.some(function(b){var d=b[0];b=b[1];if(d<c)return!0;a=b});return a}e.exports={adjustTracking:u,convertLayerToEditorState:a,correctFractionalFontProperties:c}}),null);
__d("ProtonSemaphoreConvertText",["ProtonClientIDs","ProtonConstants","ProtonFontPostscriptName","ProtonProjectPlatformUtils","ProtonSemaphoreColorUtils","ProtonSemaphoreConstants","ProtonSemaphoreFillUtils","ProtonSemaphoreHelpers","ProtonSemaphoreMeasurementUtils","ProtonSemaphoreShadowUtils","ProtonSemaphoreTextUtils","ProtonSemaphoreUtils","ProtonVRSemaphoreUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ELEMENT,h=b("ProtonConstants").EMPTY_MAP,i=b("ProtonProjectPlatformUtils").forPlatform,j=b("ProtonSemaphoreColorUtils").colorToCSS,k=b("ProtonSemaphoreColorUtils").getLayerOpacity,l=b("ProtonSemaphoreConstants").IMPORT_METADATA,m=b("ProtonSemaphoreFillUtils").fillToCSSBackground,n=b("ProtonSemaphoreHelpers").arrayToSpacing,o=b("ProtonSemaphoreHelpers").round,p=b("ProtonSemaphoreMeasurementUtils").getPositionWithOffset,q=b("ProtonSemaphoreMeasurementUtils").measureBaseline,r=b("ProtonSemaphoreShadowUtils").getBoxShadow,s=b("ProtonSemaphoreTextUtils").convertLayerToEditorState,t=b("ProtonSemaphoreTextUtils").correctFractionalFontProperties,u=b("ProtonSemaphoreUtils").isLayerHidden,v=b("ProtonVRSemaphoreUtils").getComponentNameForPlatform,w=8;function a(a,c){__p&&__p();var d,e;a=t(a);var f=c.parentGroup,x=c.parentGroupID;c=c.coordOffset;var y=a.name,z=a.fill,A=a.frame;d=(d=a.metadata)==null?void 0:d.layout;var B=[],C=new Map(),D=h,E=b("ProtonFontPostscriptName").toFontProperties(a.fontPostscriptName);E=q(E.fontFamily,a.fontSize,E.fontWeight,E.fontStyle,a.lineSpacing);E=E-a.baseline;e=a==null?void 0:(e=a.metadata)==null?void 0:(e=e.Sketch)==null?void 0:e.textBehaviour;e=e===1;var F=e?o(A.width):0;e=e?"fixed":"fit to children";var G=(z==null?void 0:z.type)==="gradient",H=b("ProtonClientIDs").create("element");B.push({type:"element",elementID:H});c=p(A,c);var I=c.top;c=c.left;C.set(H,babelHelpers["extends"]({},g,{componentName:v("RichText"),heightSizeBehavior:"fit to children",id:H,importMetadata:l,isFlippedHorizontally:!!a.isFlippedHorizontal,isFlippedVertically:!!a.isFlippedVertical,isHidden:u(a),margin:n(d==null?void 0:d.margin),name:y,parentGroupID:x},i({web:{position:{height:0,width:F,top:o(I+E),left:o(c)},props:{children:s(a),fill:G&&m(A,z),opacity:k(a),rotation:a.rotation,textShadow:r(a,f),collapseLineHeight:!0}},vr:{position:{height:o(A.height),width:o(A.width)+w,top:o(I+E),left:o(c)},props:{color:j(a.textColor),fontSize:a.fontSize,opacity:k(a),rotation:a.rotation,value:a.value}}}),{widthSizeBehavior:e}));return{newItems:B,newElementByID:C,newGroupByID:D}}e.exports=a}),null);
__d("ProtonLoggerSelectors",["ProtonPageSelectors","ProtonSelectorCreators","ProtonSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("ProtonPageSelectors").getActivePageID;var g=b("ProtonPageSelectors").getActivePageStateIDForEditMode,h=b("ProtonPageSelectors").getRawActivePage;d=b("ProtonPageSelectors").selectPageByID;f=b("ProtonSelectorCreators").createProtonSelector;var i=b("ProtonSelectors").getPageState;function j(a,b,c){__p&&__p();var d=c.get(b);if(typeof d==="number")return d;d=a.get(b);if(!d)return 0;var e=d.elementByID.size+d.groupByID.size+d.cymbalByID.size;d.cymbalByID.forEach(function(b){e+=j(a,b.cymbalPageID,c)});c.set(b,e);return e}b=f.logged("selectItemCountForActivePage",d,c,function(a,b){return j(a,b,new Map())});function k(a){a=h(a);return Boolean(a.expressionsByItemID.size)}function l(a){var b=h(a);b=i(b,g(a));return Boolean(b&&b.expressionDiffsByItemID.size)}function a(a){return k(a)||l(a)}e.exports={selectItemCountForActivePage:b,getAreExpressionsActive:a}}),null);
__d("ProtonLogger",["ProtonConfig","ProtonLoggerSelectors","ProtonTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonLoggerSelectors").getAreExpressionsActive,h=b("ProtonLoggerSelectors").selectItemCountForActivePage,i=new Map();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.setLastAction=function(a){c.lastAction=a};c.setStore=function(a){c.store=a};function c(d){__p&&__p();var e;e=a.call(this)||this;e.setEvent(d);e.setManualSessionID(b("ProtonConfig").sessionID).setIsPageVisible(!document.hidden).setIsPageFocused(document.hasFocus());d=(d=window.performance)==null?void 0:(d=d.memory)==null?void 0:d.usedJSHeapSize;typeof d==="number"&&e.setJsMemoryUsageMb(Math.round(d/1024/1024));d=c.store;d=d?d.getState().currentAppState:null;if(d){d.project.id&&(e.setProjectID(d.project.id),e.setPageID(d.selection.activePageID),e.setPageItemCount(h(d)),e.setProjectPageCount(d.project.pages.length),e.setProjectPlatform(d.project.platform));d.project.owner.id&&e.setProjectOwnerID(d.project.owner.id);d=g(d);e.setIsPageUsingData(d)}d=c.lastAction;d&&e.setActionType(d.type);return e}c.logPreviewFeature=function(a,b){__p&&__p();var d=c.store;if(!d)return;d=d.getState().currentAppState;var e=d.project.id;if(d.mode!=="preview"||!e)return;d=i.get(e)||new Set();if(d.has(a))return;d.add(a);i.set(e,d);e=new c("feature_usage").setFeatureName(a).setActionType("preview used "+a);b&&b(e);e.log()};c.createFeatureLogger=function(a){function b(b,d){b=new c("feature_usage").setFeatureName(a).setFeatureEvent(b);d&&d(b);b.log()}return b};return c}(b("ProtonTypedLogger"));a.lastAction=null;a.store=null;e.exports=a}),null);
__d("ProtonSemaphoreLogger",["ProtonConstants","ProtonFontPostscriptName","ProtonLogger","ProtonSemaphoreConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").SUPPORTED_FONT_FAMILIES,h=b("ProtonFontPostscriptName").toFontProperties,i=b("ProtonSemaphoreConstants").LAYOUT_DIRECTION_BY_LAYOUT_KIT_DIRECTION,j=b("ProtonSemaphoreConstants").SIZE_BEHAVIOR_BY_LAYOUT_KIT_SIZE_BEHAVIOR,k=b("ProtonSemaphoreConstants").VALID_FILL_TYPES,l=b("ProtonSemaphoreConstants").VALID_SVG_COMMANDs,m={"border position":"unsupported","border type":"unsupported","font postscript name":"unsupported","gradient type":"unsupported","innerShadow spread":"unsupported","layout position":"unsupported","shadow spread":"unsupported",margin:"unsupported","document version":"invalid","fill type":"invalid","glyph set":"invalid","layout direction":"invalid","layout size":"invalid","path type":"invalid","text behaviour":"invalid"};a=function(){__p&&__p();function a(){this.logIssueInScuba=!0,this.unsupportedFeatures=[],this.invalidFeatures=[]}var c=a.prototype;c.$1=function(a,c,d){var e=m[c];if(this.logIssueInScuba){var f=new(b("ProtonLogger"))("semaphore_issue_detected").setSemaphoreIssueType(c).setSemaphoreIssueValue(JSON.stringify(d)).setSemaphoreIssueStatus(e);f.log()}e==="invalid"?this.invalidFeatures.push({layer:a,type:c,value:d}):e==="unsupported"&&this.unsupportedFeatures.push({layer:a,type:c,value:d})};c.validateSemaphoreLayer=function(a,b){a.opacity!=null&&typeof a.opacity!=="number"&&this.$1(a,"layer opacity",a.opacity),this.validateSemaphoreBorder(a),this.validateSemaphoreShadows(a,b),this.validateSemaphoreFill(a),this.validateSemaphoreMargin(a)};c.validateSemaphoreDocument=function(a){if(a.version<10||a.version>11){this.$1(a,"document version",a.version);return!1}return!0};c.validateSemaphoreArtboard=function(a){if(a.type!=="artboard")return};c.validateSemaphoreGroupLayer=function(a){__p&&__p();var b;if(a.type!=="group")return;b=(b=a.metadata)==null?void 0:b.layout;if(b&&b.IsEnabled){i.get(b.direction)==null&&this.$1(a,"layout direction",b.direction);j.get(b.width)==null&&this.$1(a,"layout size",b.width);j.get(b.height)==null&&this.$1(a,"layout size",b.height);for(var b=a.layers,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;d.layout&&d.layout.position==="absolute"&&this.$1(d,"layout position","absolute")}}};c.validateSemaphoreRectangleLayer=function(a){if(a.type!=="rectangle"&&a.type!=="ellipse")return;var b=a.fill,c=a.type;if(b&&c==="rectangle"&&b.type==="image"){b=(c=a.metadata)==null?void 0:c.glyph;b&&b.set!=="fb_glyphs"&&b.set!=="facebook_icons"&&b.set!=="oculus_icons"&&this.$1(a,"glyph set",b.set)}};c.validateSemaphoreShapeLayer=function(a){__p&&__p();if(a.type!=="shape")return;for(var b=a.path,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;l.has(e.type)||this.$1(a,"path type",e.type)}};c.validateSemaphoreTextLayer=function(a){var b;if(a.type!=="text")return;b=a==null?void 0:(b=a.metadata)==null?void 0:(b=b.Sketch)==null?void 0:b.textBehaviour;b!=null&&(b<0||b>2)&&this.$1(a,"text behaviour",b);b=a.fontPostscriptName;var c=h(a.fontPostscriptName);c=c.fontFamily;g.has(c)||this.$1(a,"font postscript name",b)};c.validateSemaphoreBorder=function(a){var b=a.border;if(b==null)return;var c=b==null?void 0:b.position,d=c==="center",e=c==="inside";(d||e)&&this.$1(a,"border position",c);(b==null?void 0:b.type)==="gradient"&&this.$1(a,"border type",b.type)};c.validateSemaphoreShadows=function(a,b){if(a.type!=="shape")return;b=(a.shadows||[]).map(function(a){return a.spread?a:null}).filter(Boolean);var c=(a.innerShadows||[]).map(function(a){return a.spread?a:null}).filter(Boolean);b.length&&this.$1(a,"shadow spread",b);c.length&&this.$1(a,"innerShadow spread",c)};c.validateSemaphoreFill=function(a){var b=a.fill;b&&!k.has(b.type)&&this.$1(a,"fill type",b)};c.validateSemaphoreMargin=function(a){var b=a.layout;if(b==null)return;(Number(b.marginTop)<0||Number(b.marginRight)<0||Number(b.marginBottom)<0||Number(b.marginLeft)<0)&&this.$1(a,"margin",b)};return a}();e.exports={SemaphoreLogger:a}}),null);
__d("ProtonSemaphore",["ProtonSemaphoreConvertArtboard","ProtonSemaphoreConvertGroup","ProtonSemaphoreConvertRectangle","ProtonSemaphoreConvertShape","ProtonSemaphoreConvertText","ProtonSemaphoreLogger","ProtonSemaphoreUtils","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonSemaphoreConvertArtboard").convertArtboard,h=b("ProtonSemaphoreConvertGroup").convertGroup,i=b("ProtonSemaphoreLogger").SemaphoreLogger,j=b("ProtonSemaphoreUtils").moveLayersToNearestArtboard;function a(a){var b=new i();if(!b.validateSemaphoreDocument(a))return null;a.images&&a.images.forEach(function(a,b){a.id=b});a=j(a);return k({semaphoreDocument:a,layers:a.layers,parentGroupID:null,parentGroup:null,coordOffset:{x:0,y:0},semaphoreLogger:b})}function k(a){__p&&__p();var c=a.semaphoreDocument,d=a.layers,e=a.parentGroupID,f=a.parentGroup,i=a.coordOffset,j=a.semaphoreLogger,l=[],m=new Map(),n=new Map(),o=[];function p(a){var c=a.newItems,d=a.newElementByID;a=a.newGroupByID;m=b("mergeMaps")(m,d);n=b("mergeMaps")(n,a);l=l.concat(c)}d.some(function(a,l){__p&&__p();l=null;var m={semaphoreDocument:c,layers:d,parentGroup:f,parentGroupID:e,coordOffset:i,convertLayers:k,semaphoreLogger:j};j.validateSemaphoreLayer(a,f);switch(a.type){case"artboard":j.validateSemaphoreArtboard(a);l=g(a,m);var n=l;n=n.newPage;n&&o.push(n);break;case"group":j.validateSemaphoreGroupLayer(a);l=h(a,m);break;case"ellipse":case"rectangle":j.validateSemaphoreRectangleLayer(a);l=b("ProtonSemaphoreConvertRectangle")(a,m);break;case"shape":j.validateSemaphoreShapeLayer(a);l=b("ProtonSemaphoreConvertShape")(a,m);break;case"text":j.validateSemaphoreTextLayer(a);l=b("ProtonSemaphoreConvertText")(a,m);break}l&&p(l);return Boolean((n=l)==null?void 0:n.isLayerComplete)});return{items:l,elementByID:m,groupByID:n,pages:o}}e.exports={convert:a}}),null);
__d("ProtonProjectTranslator",["regeneratorRuntime","ProtonConstants","ProtonHistoryConstants","ProtonMigrations","ProtonPageTranslator","ProtonReducerUtils","ProtonSemaphore","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").BLANK_PROJECT,h=b("ProtonConstants").CURRENT_PROJECT_SCHEMA_VERSION,i=b("ProtonConstants").DEFAULT_GRID,j=b("ProtonConstants").DEFAULT_PLATFORM,k=b("ProtonConstants").DEFAULT_PREVIEW_OPTIONS,l=b("ProtonConstants").EMPTY_SET,m=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,n=b("ProtonReducerUtils").createPage;function a(a){__p&&__p();var c,d,e,f,n,o;return b("regeneratorRuntime").async(function(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:f={id:a.id,historyID:(c=a.historyID)!=null?c:m,lastModifiedTime:a.lastModifiedTime,name:a.name,ignoredLintIssueIDs:new Set(a.data.ignoredLintIssueIDs)||l,isDeleted:a.isDeleted,isUnlistedFromSearch:a.isUnlistedFromSearch,lastSeenCommentsAt:a.data.lastSeenCommentsAt,owner:a.owner,pages:a.data.pages,pixelcloudPostID:a.pixelcloudPostID,pixelcloudShadowPostID:a.pixelcloudShadowPostID,previewOptions:babelHelpers["extends"]({},k,a.data.previewOptions),projectSchemaVersion:a.projectSchemaVersion||0,silvertailThemeName:a.data.silvertailThemeName,version:a.version,grid:(d=a.data.grid)!=null?d:i,dataSources:a.data.dataSources,previewImage:a.previewImage,platform:(e=a.data.platform)!=null?e:j,environmentURI:a.data.environmentURI};p.next=3;return b("regeneratorRuntime").awrap(b("ProtonMigrations").getMigrationsToRun(f.projectSchemaVersion));case 3:n=p.sent;o=n.reduce(function(a,b){return b.translateProject(a)},f);return p.abrupt("return",babelHelpers["extends"]({},g,o,{dataSources:babelHelpers["extends"]({},o.dataSources,{variables:new Map(o.dataSources.variables)}),pages:o.pages.map(b("ProtonPageTranslator").deserializeFromAPI),platform:o.platform,projectSchemaVersion:h}));case 6:case"end":return p.stop()}},null,this)}function c(a,c,d,e){a=b("nullthrows")(b("ProtonSemaphore").convert(a));var f=a.pages,i=a.items,j=a.elementByID;a=a.groupByID;f=f.length>0?f:[{items:i,elementByID:j,groupByID:a}];var k=[];f.forEach(function(a){k.push(n(k,null,a))});return babelHelpers["extends"]({},g,{id:c,name:d,owner:e,pages:k,projectSchemaVersion:h})}function d(a){return babelHelpers["extends"]({},a,{ignoredLintIssueIDs:Array.from(a.ignoredLintIssueIDs),dataSources:babelHelpers["extends"]({},a.dataSources,{variables:Array.from(a.dataSources.variables)}),pages:a.pages.map(b("ProtonPageTranslator").toAPI)})}e.exports={fromAPI:a,toAPI:d,fromSemaphore:c}}),null);
__d("ProtonUserSettingsTranslator",["ProtonConstants","spread"],(function(a,b,c,d,e,f){"use strict";var g=b("ProtonConstants").DEFAULT_USER_SETTINGS;function a(a){var c=a&&Number.isInteger(a.defaultImageScaleRatio)&&a.defaultImageScaleRatio<=2?a.defaultImageScaleRatio:g.defaultImageScaleRatio,d=a&&a.seenOneTimeToastIDs?new Set(a.seenOneTimeToastIDs):g.seenOneTimeToastIDs,e=a&&a.lastSeenCommentsAtByProjectID?new Map(a.lastSeenCommentsAtByProjectID):g.lastSeenCommentsAtByProjectID;return b("spread")(g,(a=a)!=null?a:{},{seenOneTimeToastIDs:d,defaultImageScaleRatio:c,lastSeenCommentsAtByProjectID:e})}function c(a){return babelHelpers["extends"]({},a,{seenOneTimeToastIDs:Array.from(a.seenOneTimeToastIDs),lastSeenCommentsAtByProjectID:Array.from(a.lastSeenCommentsAtByProjectID)})}e.exports={fromAPI:a,toAPI:c}}),null);
__d("ProtonElementTranslator__DEPRECATED",["IconConfig.atlas","ProtonBorderConstants","ProtonComponentConfigUtils","ProtonComponents","ProtonRichTextUtils","ProtonRichTextTranslator","ProtonUtils","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderConstants").SIDES,h=b("ProtonComponentConfigUtils").addIDToArrayProps,i=b("ProtonComponentConfigUtils").parseDelimited,j=b("ProtonComponentConfigUtils").isPageFunction,k=b("ProtonComponents").getComponentConfig,l=b("ProtonRichTextUtils").convertTextToRichText,m=b("ProtonUtils").parse4ValueCSSShorthand;function n(a,c){__p&&__p();return b("mapObject")(a,function(a,d){__p&&__p();d=c[d];if(!d||!a)return a;if(j(d)){if(typeof a==="string")return{type:"page",pageID:a};else if(a.isOverlay)return babelHelpers["extends"]({},a,{type:"page as overlay"})}else if(d.type==="richText")return b("ProtonRichTextTranslator").rehydratePropFromJSON(a);else if(d.type==="glyph"){if(a.isVisible===!1)return{type:"none"};if(!a.type)return a.name==="None"?{type:"none"}:babelHelpers["extends"]({},a,{type:"fbglyph"})}else if(d.type==="array"&&d.arrayPropTypes){var e=d.arrayPropTypes;return h(a,e).map(function(a){return n(a,e)})}return a})}function o(a){__p&&__p();var c=a.componentName,d=a.props;if(["Ellipse","Rectangle"].includes(a.componentName)){var e=d,f=e.backgroundColor,g=e.border,h=e.borderColor,j=e.borderRadius,k=e.borderStyle,m=e.borderWidth;e=babelHelpers.objectWithoutPropertiesLoose(e,["backgroundColor","border","borderColor","borderRadius","borderStyle","borderWidth"]);f=f?{background:f}:null;g=g;var n=m!==void 0||h!==void 0||j!==void 0||k!==void 0,o=!!g&&Number(g.version||1)<2;o=!g&&n||g&&o;o&&(g=q({width:m,color:h,style:k,radius:j&&String(j),isEllipse:a.componentName==="Ellipse"}));o={};n&&(h!==void 0&&(o.borderColor=h),j!==void 0&&(o.borderRadius=j),k!==void 0&&(o.borderStyle=k),m!==void 0&&(o.borderWidth=m));d=babelHelpers["extends"]({},e,f,{border:g},o)}else if(a.componentName==="SUISelector"){n=d;h=n.data;j=n.entries;k=babelHelpers.objectWithoutPropertiesLoose(n,["data","entries"]);h&&!j&&(d=babelHelpers["extends"]({},k,{entries:String(h).split("\n").map(function(a){return a.trim()}).filter(Boolean).map(function(a){return{value:a}})}))}else if(a.componentName==="SUIButtonGroup"||a.componentName==="SUIToggleButtonGroup"){m=d;e=m.data;f=m.buttons;g=babelHelpers.objectWithoutPropertiesLoose(m,["data","buttons"]);e&&!f&&(d=babelHelpers["extends"]({},g,{buttons:String(e).split("\n").map(function(a){return a.trim()}).filter(Boolean).map(function(a){return{label:a}})}))}else if(a.componentName==="SUIRadioList"||a.componentName==="XUIRadioList"){o=d;n=o.options;j=o.entries;k=babelHelpers.objectWithoutPropertiesLoose(o,["options","entries"]);n&&!j&&(d=babelHelpers["extends"]({},k,{entries:String(n).split("\n").map(function(a){return a.trim()}).filter(Boolean).map(function(a){return{value:a}})}))}else if(a.componentName==="SUISearchableSelector"||a.componentName==="SUIRemovableSearchableSelector"||a.componentName==="SUITokenizer"){h=d;m=h.data;f=h.entries;g=babelHelpers.objectWithoutPropertiesLoose(h,["data","entries"]);m&&!f&&(d=babelHelpers["extends"]({},g,{entries:String(m).split("\n").map(function(a){return a.trim()}).filter(Boolean).map(function(a){a=a.split(",");var b=a[0];a=a.slice(1);a=a.join(",");return{value:b,description:a}})}))}else if(a.componentName==="SideNavigation.atlas"){e=d;o=e.data;j=e.topItems;k=e.bottomItems;var p=e.selectedIndex,r=e.onClick;n=babelHelpers.objectWithoutPropertiesLoose(e,["data","topItems","bottomItems","selectedIndex","onClick"]);if(o&&!j&&!k){var s=0;h=String(o).split(/-+/).map(function(a){__p&&__p();return a.split("\n").map(function(a){return a.trim()}).filter(function(a){return a}).map(function(a){a=a.split(",");var c=a[0].trim();c=b("IconConfig.atlas")[c]?c:"atlasLogo";a=a[1];var d=s===p;s++;return{iconName:c,tooltip:a,isSelected:d,onClick:r}})});d=babelHelpers["extends"]({},n,{topItems:h[0],bottomItems:h[1]||[]})}}else if(a.componentName==="BUIPresetFilters"){f=d;g=f.data;m=f.entries;var t=f.onChange;e=babelHelpers.objectWithoutPropertiesLoose(f,["data","entries","onChange"]);if(g&&!m){var u=[];j=i(String(g));j.forEach(function(a){__p&&__p();var b=a[0],c=a[1];a=a[2];if(!b)return;if(b.endsWith(":")){var d={};d.category=b.slice(0,-1);d.onChange=t;d.subcategories=[];u.push(d)}else{d=u[u.length-1];d&&d.subcategories.push({title:b,isSelected:c==="true",isDisabled:a==="true"})}});d=babelHelpers["extends"]({},e,{entries:u})}}else if(a.componentName==="SUITabGroup"){k=d;o=k.tabs;typeof o==="string"&&(d=babelHelpers["extends"]({},d,{tabs:o.split("\n").map(function(a){return{label:a,onSelected:null,subItems:[]}})}))}else if(a.componentName==="Text")d=l(d),c="RichText";else if(a.componentName==="AdsCFHelpLink"||a.componentName==="AdsHelpLink"){n=d;h=n.children;f=babelHelpers.objectWithoutPropertiesLoose(n,["children"]);d=babelHelpers["extends"]({},f,{children:null,popover:h});c="AdsPopoverLink_DEPRECATED"}else if(a.componentName==="Hotspot"||a.componentName==="RichNuxTour"||a.componentName==="LoadingDialog"){m=d;g=m.cursorType;j=m.useDefaultCursor;e=babelHelpers.objectWithoutPropertiesLoose(m,["cursorType","useDefaultCursor"]);!g&&j!==void 0&&(d=babelHelpers["extends"]({cursorType:j?"default":"pointer"},e))}return babelHelpers["extends"]({},a,{componentName:c,props:d})}function a(a){var b=k(a.componentName),c=a.props;b&&(c=n(a.props,b.propTypes));return o(babelHelpers["extends"]({},a,{props:c}))}function p(a,c){return b("ProtonRichTextTranslator").dehydrateForJSON(a,c)}function c(a){var b=k(a.componentName);return!b?a:babelHelpers["extends"]({},a,{props:p(a.props,b)})}function q(a){__p&&__p();var b=m(String(a.width||"0")),c=m(String(a.style||"solid")),d=m(String(a.color||"rgb(0, 0, 0)"));e={top:e(g[0]),right:e(g[1]),bottom:e(g[2]),left:e(g[3]),radius:a.radius||"0"};function e(a){a=g.indexOf(a);return{isActive:h(b[a],c[a]),width:parseInt(b[a],10),style:f(c[a]),color:d[a]}}function f(a){switch(a){case"solid":return"solid";case"dashed":return"dashed";case"dotted":return"dotted";default:return"solid"}}function h(a,b){return!!(parseInt(a,10)&&b!=="none")}return e}e.exports={elementToAPI:c,getElementFromAPI:a,translatePropsToAPI:p,translatePropsFromAPI:n}}),null);
__d("ProtonDataAdapterUtils",["ProtonComponents","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig;function h(a,b){return a.find(function(a){return b===a.id})||null}function i(a){var b;return((b=a)!=null?(b=b.dataAdapterConfig)!=null?b.activeDataAdapterID:b:b)||((b=g(a.componentName))!=null?(b=b.dataAdapters)!=null?(b=b[0])!=null?b.id:b:b:b)}function a(a){return a.dataAdapterConfig||{activeDataAdapterID:i(a)||"",dataAdapterConfig:{}}}function c(a,c){__p&&__p();var d=null;if(!c.dataAdapters)return null;var e=a.dataAdapterConfig;c=c.dataAdapters;var f=e&&e.activeDataAdapterID,g,i;e&&f&&(g=h(c,f),i=e[f]);g||(g=b("first")(c),i=e&&g?e[g.id]:null);g&&(d=g.getDataProps(i,a.props));return d}e.exports={getActiveDataAdapterID:i,getDataAdapterConfig:a,getDataAdapterProps:c,getDataAdapterByID:h}}),null);
__d("ProtonComponent.react",["cssVar","ProtonComponentConfigUtils","ProtonComponents","ProtonDataAdapterUtils","ProtonFBIcon.react","ProtonGlyph.react","ProtonIcon.react","ProtonImageUtils","ProtonLogger","ProtonPropUtils","React","SUIThemeContainer.react","emptyFunction","filterObject","mapObject","memoizeWithArgsWeak","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonComponentConfigUtils").isPageFunction,i=b("ProtonComponents").getComponentConfig,j=b("ProtonDataAdapterUtils").getDataAdapterProps,k=b("ProtonImageUtils").convertImageURLForEnvironment,l=b("ProtonPropUtils").getDefaultProps,m=b("ProtonPropUtils").normalizeHoverInteraction,n=b("ProtonPropUtils").normalizeInteraction;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=i(this.props.element.componentName);if(!a)return;a.category!=="Primitives"&&b("ProtonLogger").logPreviewFeature("code component",function(b){b.setComponentName(a.componentName)});var c=j(this.props.element,a);c&&Object.keys(c).length&&b("ProtonLogger").logPreviewFeature("data",function(b){b.setComponentName(a.componentName)})};d.componentDidCatch=function(a){new(b("ProtonLogger"))("component_render_error").setComponentName(this.props.element.componentName).setErrorMessage(a.message).log(),this.setState({error:a})};d.$1=function(){return this.props.positionOverride?this.props.positionOverride.width:this.props.element.position.width};d.$2=function(){return this.props.positionOverride?this.props.positionOverride.height:this.props.element.position.height};d.render=function(){if(this.state.error)return b("React").createElement(o,null,b("React").createElement("b",null,this.props.element.componentName),": Error during render:",this.state.error.message);var a=i(this.props.element.componentName);if(!a)return b("React").createElement(o,null,"Cannot find componentConfig for component"," ",b("React").createElement("b",null,this.props.element.componentName),".");var c=j(this.props.element,a),d=this.$1(),e=this.$2(),f=p(a.propTypes,a.inlineEditPropName,b("nullthrows")(a.defaultProps),this.props.element.props,this.props.onExecuteInteraction,d,e);a=a.component;a=b("React").createElement(a,babelHelpers["extends"]({},f,this.props.propOverrides,c,{protonHeight:e,protonIsLive:this.props.isLive,protonWidth:d}));return this.props.theme?b("React").createElement(b("SUIThemeContainer.react"),{theme:this.props.theme},a):a};return c}(b("React").PureComponent);a.defaultProps={onExecuteInteraction:b("emptyFunction")};var o=function(a){a=a.children;return b("React").createElement("div",{style:{color:"#FFFFFF",background:"#BA092D",padding:"8px"}},a)},p=b("memoizeWithArgsWeak")(function(a,c,d,e,f,g,i){__p&&__p();var j=babelHelpers["extends"]({},d,e);j=b("filterObject")(j,function(b,c){return!!a[c]});j=m(a,j);return b("mapObject")(j,function(d,m){__p&&__p();var o=a[m];if(h(o)){if(d){var r=n(d).filter(function(a){return a.type!=="none"});r.length>0?d=function(a){r.forEach(function(b){b=q(b,a),f(b)})}:d=null}!d&&o.type==="pageFunction"&&(d=b("emptyFunction"))}else if(m===c)d&&o.type!=="richText"&&(d=b("React").createElement("span",{style:{whiteSpace:o.type==="long string"?"pre-wrap":"pre"}},d));else if(o.type==="glyph"){m=e[m];if(!m)d=null;else switch(m.type){case"fbglyph":m.type;var s=babelHelpers.objectWithoutPropertiesLoose(m,["type"]);d=b("React").createElement(b("ProtonGlyph.react"),babelHelpers["extends"]({},s,{style:{display:"inline-block",verticalAlign:"middle"}}));break;case"fbicon":d=b("React").createElement(b("ProtonFBIcon.react"),{color:m.color,name:m.name,size:m.size,style:{display:"inline-block",verticalAlign:"middle"},variant:m.variant});break;case"protonicon":d=b("React").createElement(b("ProtonIcon.react"),babelHelpers["extends"]({},m,{display:"inline-block"}));break;case"none":d=null;break;default:m.type;d=null;break}}else if(o.type==="array"){var t=b("nullthrows")(o.arrayPropTypes);d=(d||[]).map(function(a){return p(t,"",l(t),a,f,g,i)})}else if(o.type==="object"){if(o.isEditable){s=b("nullthrows")(o.objectPropTypes);d=p(s,"",l(s),d,f,g,i)}}else o.type==="imageUrl"&&typeof d==="string"&&(d=k(d));return o.transform?o.transform(d,babelHelpers["extends"]({},j,{protonWidth:g,protonHeight:i})):d})}),q=function(a,b){b=a.type==="set a variable"?babelHelpers["extends"]({},a,{newValue:b}):a;return b};e.exports=a}),null);
__d("ProtonEditableText.react",["KeyBindingUtil","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("KeyBindingUtil").hasCommandModifier;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.props.onChange(a.target.innerText||"")},d.$3=function(a){if(a.key==="Escape"||a.key==="Enter"&&g(a)){var c=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));c instanceof HTMLElement&&c.blur()}else a.key==="Enter"?d.props.onEnter&&d.props.onEnter(a):a.key===" "&&a.stopPropagation()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this);a instanceof HTMLElement&&(a.focus(),document.execCommand("selectAll",!1,null))};d.shouldComponentUpdate=function(a,b){return!1};d.componentWillUnmount=function(){window.getSelection().empty()};d.$1=function(a){a.stopPropagation()};d.$4=function(a){a.key===" "&&a.preventDefault()};d.render=function(){var a={whiteSpace:"pre-wrap"};this.props.style&&(a=babelHelpers["extends"]({},a,this.props.style));return b("React").createElement("div",{className:this.props.className,contentEditable:!0,onBlur:this.props.onBlur,onClick:this.$1,onInput:this.$2,onKeyDown:this.$3,onKeyUp:this.$4,role:"presentation",style:a},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("DebouncedOnChange.react",["useDebouncedOnChange"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("useDebouncedOnChange")(a.value,a.onChange,a.wait),d=c[0],e=c[1];c=c[2];return a.children({value:d,onChange:e,flushOnChange:c})}e.exports=a}),null);
__d("withDisplayName",["getReactComponentDisplayName"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(c){var d=a(c),e=a.name;c=b("getReactComponentDisplayName")(c);d.displayName=e+"("+c+")";return d}}e.exports=a}),null);
__d("withDebouncedOnChange",["DebouncedOnChange.react","React","withDisplayName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();function c(c){__p&&__p();return function(d){__p&&__p();babelHelpers.inheritsLoose(e,d);function e(){return d.apply(this,arguments)||this}var f=e.prototype;f.render=function(){var d=this.props,e=d.onChange,f=d.value,g=babelHelpers.objectWithoutPropertiesLoose(d,["onChange","value"]);return b("React").createElement(b("DebouncedOnChange.react"),{onChange:e,value:f,wait:a},function(d){var a=d.onChange;d=d.value;return b("React").createElement(c,babelHelpers["extends"]({},g,{onChange:a,value:d}))})};return e}(b("React").PureComponent)}return b("withDisplayName")(c)}e.exports=a}),null);
__d("ProtonDebouncedEditableText.react",["ProtonEditableText.react","React","withDebouncedOnChange"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("ProtonEditableText.react"),{onBlur:this.props.onBlur,onChange:this.props.onChange},this.props.value)};return c}(b("React").PureComponent);e.exports=b("withDebouncedOnChange")(1e3)(a)}),null);
__d("ProtonAnimatedItemsContext",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){var a=new Map();return{register:function(b,c){a.set(b,c);return function(){a["delete"](b)}},getAll:function(){return a}}}c=b("React").createContext(a());e.exports={createAnimatedItemsContext:a,ProtonAnimatedItemsContext:c}}),null);
__d("ProtonAnimatedCanvasItem.react",["ProtonAnimatedItemsContext","ProtonInstancePath","React","animated-react-dom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimatedItemsContext").ProtonAnimatedItemsContext;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=b("React").createRef(),d.$1=null,c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&(this.$1(),this.$1=null)};d.applyStyle=function(a){var b=this.$2.current;b!=null&&b.attachProps({style:a})};d.render=function(){var a=this,c=this.props,d=c.cymbalPath;c=c.itemID;var e=b("ProtonInstancePath").add(d,c);return b("React").createElement(g.Consumer,null,function(c){a.$1=c.register(e,a);return b("React").createElement(b("animated-react-dom").div,{"data-itemid":a.props.itemID,ref:a.$2,style:a.props.style},a.props.children)})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProtonArtboardUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return babelHelpers["extends"]({},b,{duplicatedFrom:{source:a,sourceType:c}})}e.exports={getCopyOfArtboardMetadata:a}}),null);
__d("ProtonResizeNotifier",["EventEmitter","debounce","memoizeByReference"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=50,h=function(){__p&&__p();function a(){this.$1=new(b("EventEmitter"))()}var c=a.prototype;c.subscribe=function(a,c,d){a=i(a,c);return this.$1.addListener(a,b("debounce")(d,g))};c.childResized=function(a,b){a=i(a,b);this.$1.emit(a)};return a}();h.get=b("memoizeByReference")(function(a){return new h()});function i(a,b){return a+"_"+b}e.exports=h}),null);
__d("ProtonResponsiveBlock.react",["React","ReactDOM","first","resize-observer-polyfill"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={height:null,width:null},c.$5=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.shouldObserveSize&&this.$2()};d.componentDidUpdate=function(a){var b=this.props.shouldObserveSize;if(a.shouldObserveSize!==b){b?this.$2():this.$3();return}this.$4()};d.componentWillUnmount=function(){this.$3()};d.$2=function(){this.$3();var a=b("ReactDOM").findDOMNode(this);if(!(a instanceof HTMLElement))return;this.$1=this.$6();this.$1.observe(a);this.$5=a};d.$3=function(){this.$1&&(this.$1.disconnect(),this.$1=null,this.$5=null)};d.$4=function(){if(!this.props.shouldObserveSize)return;var a=b("ReactDOM").findDOMNode(this);this.$5!==a&&this.$2()};d.$6=function(){__p&&__p();var a=this;return new(b("resize-observer-polyfill"))(function(c){__p&&__p();c=b("first")(c);if(!c)return;c=c.contentRect;var d=c.width;c=c.height;var e=a.props,f=e.children;e=e.onResize;e&&e({width:d,height:c});typeof f==="function"&&a.setState({width:d,height:c})})};d.render=function(){var a=this.props.children;return typeof a==="function"?a({width:this.state.width,height:this.state.height}):a};return c}(b("React").PureComponent);a.defaultProps={shouldObserveSize:!0};e.exports=a}),null);
__d("ProtonPageItemMeasurer.react",["ProtonAnimatedCanvasItem.react","ProtonResizeNotifier","ProtonResponsiveBlock.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$5=function(a){__p&&__p();var c=a.height;a=a.width;c=Math.ceil(c);a=Math.ceil(a);if(d.props.isDragging){d.$4=a;d.$3=c;return}if(c===d.$1&&a===d.$2)return;d.$1=c;d.$2=a;d.$3=null;d.$4=null;var e=d.props,f=e.cymbalPath,g=e.dispatch;e=e.parentGroupID;e!=null&&b("ProtonResizeNotifier").get(g).childResized(f,e);d.props.dispatch({type:"measured item",position:{height:c,width:a},itemID:d.props.itemID,pageID:d.props.pageID,cymbalPath:d.props.cymbalPath});d.props.onResize&&d.props.onResize({height:c,width:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.pageID!==this.props.pageID&&(this.$1=null,this.$2=null,this.$3=null,this.$4=null),a.isDragging===!0&&this.props.isDragging===!1&&this.$3!=null&&this.$3!=null&&this.$5({width:Number(this.$4),height:Number(this.$3)})};d.render=function(){var a=this.props,c=a.cymbalPath,d=a.itemID,e=a.style;a=a.children;var f=(!this.props.isHeightSpecified||!this.props.isWidthSpecified)&&!this.props.isAnimating;return b("React").createElement(b("ProtonResponsiveBlock.react"),{onResize:this.$5,shouldObserveSize:f},b("React").createElement(b("ProtonAnimatedCanvasItem.react"),{cymbalPath:c,itemID:d,style:e},a))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProtonCanvasCymbal.react",["ProtonCanvasSelectors","ProtonCanvasUtils","ProtonConstants","ProtonInstancePath","ProtonItemUtils","ProtonLogger","ProtonPageItemMeasurer.react","ProtonPageItemSelectors","ProtonPositionSelectors","ProtonPositionUtils","ProtonSelectors","ProtonUtils","React","ReactDOM","gkx","protonConnect"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectCymbalForInstancePath,h=b("ProtonCanvasUtils").getPositionStyles,i=b("ProtonConstants").CONTAIN_FIXED_ELEMENTS,j=b("ProtonConstants").EMPTY_CYMBAL,k=b("ProtonConstants").ITEMS_CONTAINER_CSS_GRID_STYLE,l=b("ProtonItemUtils").isItemHorizontallyResizable,m=b("ProtonItemUtils").isItemVerticallyResizable,n=b("ProtonPageItemSelectors").getRootItems,o=b("ProtonPositionSelectors").selectCymbalPageSize,p=b("ProtonPositionUtils").getUpdatedPosition,q=b("ProtonSelectors").selectTransformedPageForInstancePath,r=b("ProtonUtils").getColorValue;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){return b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("ProtonLogger").logPreviewFeature("custom component");var a=this.props,c=a.cymbal,d=a.cymbalPage,e=a.cymbalPath;a=a.onExecuteInteraction;d=d==null?void 0:d.interactions.onLoad;d&&a(d,b("ProtonInstancePath").add(e,c.id))};d.render=function(){var a=this.props,c=a.animationStyles,d=a.cymbal,e=a.cymbalPage,f=a.cymbalPageSize,g=a.cymbalPath,j=a.dispatch,l=a.isFixed,m=a.isInDynamicGroup,o=a.isLive,q=a.isHorizontallyResizable,s=a.isVerticallyResizable,t=a.itemID,u=a.onExecuteInteraction,v=a.pageID,w=a.pageRelativePosition,x=a.parentAlignment,y=a.parentLayoutDirection,z=a.positionDelta;a=a.protonCanvasPageItems;q=p({isHorizontallyResizable:q,isInDynamicGroup:m,isVerticallyResizable:s,item:d,pageRelativePosition:w,parentAlignment:x,positionDelta:z,type:"cymbal"});s=h({hasParentGroup:!!d.parentGroupID,isFixed:l,isInDynamicGroup:m,isLive:o,item:d,pageSize:this.props.pageSize,parentLayoutDirection:b("gkx")("852488")?y:null,positionDelta:z,positionWithDeltas:q});w=babelHelpers["extends"]({},this.props.layoutMargins,s,c,{backgroundColor:e?r(e.backgroundColor):"transparent"},b("gkx")("852488")?{}:{height:f?f.height:"auto",width:f?f.width:"auto"},{overflow:b("gkx")("852488")?"":"hidden",pointerEvents:o?"auto":"none",transform:[].concat(s.transform!=null?s.transform:[],[d.isFlippedVertically?{rotateX:"180deg"}:null,d.isFlippedHorizontally?{rotateY:"180deg"}:null,d.rotation!==0?{rotateZ:d.rotation+"deg"}:null]).filter(Boolean)});return b("React").createElement(b("ProtonPageItemMeasurer.react"),{cymbalPath:g,dispatch:j,isAnimating:this.props.isAnimating,isDragging:this.props.isParentDragging||this.props.positionDelta!=null,isHeightSpecified:!1,isWidthSpecified:!1,itemID:t,pageID:v,parentGroupID:d.parentGroupID,style:w},b("React").createElement("div",{style:babelHelpers["extends"]({},i,{height:b("gkx")("852488")?"100%":f&&f.height||null,left:0,pointerEvents:"none",position:"absolute",top:0},b("gkx")("837344")?babelHelpers["extends"]({},k,{width:"100%"}):{width:1e4})},e?b("React").createElement(a,{cymbalPath:b("ProtonInstancePath").add(this.props.cymbalPath,d.id),isInDynamicGroup:!1,isLive:o,isParentDragging:b("gkx")("852488")?this.props.isParentDragging:!1,items:n(e),onExecuteInteraction:u,parentLayoutDirection:null}):"Custom Component not found. Perhaps the component was deleted?"))};return c}(b("React").PureComponent);e.exports=b("protonConnect")({mapStateToProps:function(a,c){var d=c.cymbalPath;c=c.itemID;var e=b("ProtonInstancePath").add(d,c);c=g(a,{itemID:c,instancePath:d})||j;return{cymbalPage:q(a,{instancePath:e}),cymbalPageSize:o(a,{instancePath:e}),cymbal:c,isVerticallyResizable:m(c),isHorizontallyResizable:l(c)}},mapDispatchToProps:function(){return{}},component:a})}),null);
__d("addToSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.has(b))return a;a=new Set(a);a.add(b);return a}e.exports=a}),null);
__d("ProtonCymbalSelectors",["ProtonCanvasSelectors","ProtonConstants","ProtonCymbalComponentConfigs","ProtonCymbalVisitor","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPropPath","ProtonSelectorCreators","ProtonSelectors","addToSet","findIterable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectCymbalForInstancePath,h=b("ProtonCanvasSelectors").selectItemForInstancePath,i=b("ProtonConstants").EMPTY_OBJECT,j=b("ProtonCymbalComponentConfigs").getCymbalComponentConfig,k=b("ProtonCymbalVisitor").visitCymbalPath,l=b("ProtonItemUtils").getActualItem,m=b("ProtonItemUtils").getCymbal,n=b("ProtonItemUtils").getItem,o=b("ProtonItemUtils").isCymbal,p=b("ProtonPageSelectors").getRawActivePage,q=b("ProtonPageSelectors").selectPageByID,r=b("ProtonPropPath").createItemIDAndPropPathKey,s=b("ProtonSelectorCreators").createProtonSelector,t=b("ProtonSelectors").getSelectedItemIDs,u=b("ProtonSelectors").selectActivePage;function a(a,c,d){return b("findIterable")(a.propMetadataByID.values(),function(a){return a.itemID===c&&a.propPath===d})}function c(a){__p&&__p();var b=new Map();for(var a=a.propMetadataByID.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=r(e.itemID,e.propPath);b.set(f,e)}return b}p=s.logged("selectActivePropMetadataByItemIDAndPropPath",p,c);c=s.logged("selectCymbalComponentConfig",q,function(a,b){a=b.cymbalPageID;return a},function(a){return a.computedExpressionsByItemID},function(a){return null},j);function v(a,c,d,e){__p&&__p();c=a.get(c);if(!c)return;d=c.propMetadataByID.get(d);if(!d)return;var f=n(c,d.itemID);if(!f)return;e(f,c,d);if(f.type==="cymbal"){c=m(c,f.cymbalID);if(!c)return;f=b("ProtonPropPath").getPropPathParts(d.propPath);f[0];d=f[1];v(a,c.cymbalPageID,d,e)}}function d(a,c,d,e){__p&&__p();if(!c)return{instancePath:e,itemID:null};var f,g=b("ProtonInstancePath").add(e,c.id);v(a,c.cymbalPageID,d,function(a){switch(a.type){case"element":f=a.elementID;break;case"group":f=a.groupID;break;case"cymbal":g=b("ProtonInstancePath").add(g,a.cymbalID);break;default:a.type}});return{instancePath:g,itemID:f}}var w=s.logged("selectInstancePathAndItemIDForPropMetadataChain",q,g,function(a,b){a=b.propMetadataID;return a},function(a,b){a=b.instancePath;return a},d);function f(a,b){__p&&__p();b=w(a,{instancePath:b.rootInstancePath,itemID:b.rootItemID,propMetadataID:b.propMetadataID});var c=b.instancePath;b=b.itemID;if(b==null)return i;a=h(a,{instancePath:c,itemID:b});if(!a)return i;if(a.type==="element")return a.props;return a.type==="group"?a:i}j=s.logged("selectCymbalPathForTargetPage",q,function(a,b,c){return b},function(a,b,c){return c},x);function x(a,b,c){if(c==null)return b;var d=null;k(a,b,function(a,b,e){if(!a)return!1;d=e;return a.id===c?!1:!0});return d||b}function y(a,c){var d=new Map();a.project.pages.forEach(function(a){Array.from(a.cymbalByID.values()).forEach(function(e){if(e.cymbalPageID===c){var f=d.get(a.id);d.set(a.id,f?b("addToSet")(f,e.id):new Set([e.id]))}})});return d}g=s.logged("selectCymbalPageIDsForPropMetadataChain",q,u,t,function(a,b){return b},function(a,c,d,e){__p&&__p();var f=null,g=[c.id];for(var d=d,h=Array.isArray(d),i=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;j=l(c,j);if(!j||!o(j))return g;if(f==null)f=j.cymbalPageID;else if(f!==j.cymbalPageID)return g}if(f==null)return g;j=b("ProtonPropPath").getPropPathParts(e);j[0];i=j[1];v(a,f,i,function(b,a){g.push(a.id)});return g});e.exports={getCymbalIDsByPageIDForCymbalPageID:y,getPropMetadata:a,selectActivePropMetadataByItemIDAndPropPath:p,selectCymbalComponentConfig:c,selectCymbalPageIDsForPropMetadataChain:g,selectCymbalPathForTargetPage:j,selectCymbalPropDefaultsForPropMetadataChain:f,visitPageItemInPropMetadataChain:v}}),null);
__d("ProtonPreviewSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.mode==="preview"}e.exports={selectIsPreviewMode:a}}),null);
__d("ProtonDataSelectors",["ProtonPreviewSelectors","ProtonSelectorCreators","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPreviewSelectors").selectIsPreviewMode,h=b("ProtonSelectorCreators").createProtonSelector;function i(a){return a.preview.dataSources}function j(a){return i(a).variables}function a(a){return a.preview.pagesVisibilityToggled}function c(a){return a.preview.environmentURI}function k(a){return a.project.dataSources}function l(a){return k(a).variables}var m=h.logged("selectProjectDataSources",function(a){return a.dataSourceByVariableID},function(a){return a.project.dataSources.variables},function(a,b){__p&&__p();b=new Map(b);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];var g=b.get(f);if(g==null||g.type!=="dataSource")continue;g=babelHelpers["extends"]({},g,{value:babelHelpers["extends"]({},g.value,{data:e})});b.set(f,g)}return{variables:b}});function d(a,b){return l(a).get(b)}var n=h.logged("selectProjectVariablesAsArray",l,function(a){return Array.from(a.values())}),o=h.logged("selectDataSourcesForActiveMode",g,m,i,function(a,c,d){if(a){a=babelHelpers["extends"]({},c,{variables:b("mergeMaps")(c.variables,d.variables)});return a}return c});function f(a){return g(a)?j(a):l(a)}function p(a){return o(a).variables}e.exports={getActiveModeVariablesMap:f,getAllVariablesForActiveMode:p,getPreviewEnvironmentURI:c,getPreviewPagesVisibilityToggled:a,getPreviewVariables:j,getProjectVariables:l,getProjectVariableByID:d,selectProjectDataSources:m,selectProjectVariablesAsArray:n}}),null);
__d("mergeSets",["unionSets"],(function(a,b,c,d,e,f){function a(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("unionSets").apply(null,c.filter(Boolean))}e.exports=a}),null);
__d("graph",["mergeSets"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(b){__p&&__p();var c=this;this.$1=new Map();this.$2=new Map();if(b instanceof a)for(var d=b.$1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=g,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;this.add(h,k)}}else this.$1=new Map(),(b||[]).forEach(function(a){var b=a[0];a=a[1];return c.add(b,a)})}var c=a.prototype;c.add=function(a,b){this.$3(this.$1,a,b),this.$3(this.$2,b,a)};c.remove=function(a,b){this.$4(this.$1,a,b),this.$4(this.$2,b,a)};c.contains=function(a,b){a=this.$1.get(a);return!!(a&&a.has(b))};c.getAdjacentNodes=function(a){var c=this.$1.get(a);a=this.$2.get(a);return b("mergeSets")(c,a)};c.getChildNodes=function(a){return new Set(this.$1.get(a)||[])};c.getParentNodes=function(a){return new Set(this.$2.get(a)||[])};c.toArray=function(){__p&&__p();var a=[];for(var b=this.$1,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];for(var e=e,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;a.push([f,i])}}return a};c.visitChildren=function(a,b){this.$5(a,b,"children")};c.visitParents=function(a,b){this.$5(a,b,"parents")};c.$5=function(a,b,c){__p&&__p();a=c==="children"?this.getChildNodes(a):this.getParentNodes(a);var d=!0;for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;d=b(g);if(d===!1)break;d=this.$5(g,b,c)}return d};c.$3=function(a,b,c){var d=a.get(b);d||(d=new Set(),a.set(b,d));d.add(c)};c.$4=function(a,b,c){var d=a.get(b)||new Set();c=d["delete"](c);d.size||a["delete"](b);return c};return a}();e.exports=a}),null);
__d("ProtonExpressionSelectors",["AdsCurrencyFormatter","ProtonCanvasSelectors","ProtonComponents","ProtonConstants","ProtonCymbalSelectors","ProtonDataSelectors","ProtonDataSources","ProtonExpressionUtils","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPropPath","ProtonSelectorCreators","ProtonSelectors","graph","intlNumUtils","intlSummarizeNumber","mapObject","memoize","memoize-one","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCurrencyFormatter").formatCurrencyWithNumberDelimiters;d=b("ProtonCanvasSelectors").selectElementForInstancePath;var h=b("ProtonComponents").getComponentConfig,i=b("ProtonConstants").EMPTY_OBJECT,j=b("ProtonCymbalSelectors").visitPageItemInPropMetadataChain;f=b("ProtonDataSelectors").getAllVariablesForActiveMode;var k=b("ProtonDataSelectors").getProjectVariables,l=b("ProtonDataSources").getDataSource,m=b("ProtonDataSources").getDataSources,n=b("ProtonExpressionUtils").convertToVariableName,o=b("ProtonExpressionUtils").getAllExpressionVertices,p=b("ProtonExpressionUtils").getDependencyVertex,q=b("ProtonExpressionUtils").getFullyQualifiedDependency,r=b("ProtonExpressionUtils").getPageAndItemIDs,s=b("ProtonExpressionUtils").getVertexInstancePath,t=b("ProtonExpressionUtils").getVertexKeyForDependency,u=b("ProtonExpressionUtils").getVertexKeyForExpression,v=b("ProtonExpressionUtils").isItemVertex,w=b("ProtonItemUtils").getActualItem,x=b("ProtonPageSelectors").getPageByID,y=b("ProtonPropPath").createPropPath,z=b("ProtonSelectorCreators").createProtonSelector,A=b("ProtonSelectors").selectActivePage,B=b("ProtonSelectors").selectTransformedPageForInstancePath,C=b("intlNumUtils").formatNumberWithThousandDelimiters,D=null,E="",F={expression:null,actualPageID:E,actualPageName:E,actualItemID:E,actualItemName:E,actualPropPath:y(E)};E=z.logged("selectExpressionContext",function(a,b){return b?B(a,{instancePath:b}):A(a)},f,k,function(a,c,d){__p&&__p();var e={};for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;h[0];h=h[1];e[h.name]=h.type==="dataSource"?h.value.data:h.value}h=a?G(a):i;g={identifiers:babelHelpers["extends"]({activePage:a,layers:h,data:H()},e,{console:console,"boolean":Boolean,ceil:Math.ceil,currency:K,"float":parseFloat,floor:Math.floor,"int":parseInt,number:C,percent:L,random:function(a,b){return Math.random()*(b-a)+a},shortNumber:b("intlSummarizeNumber"),string:String}),variablesDefinitions:d};return g});function G(a){__p&&__p();var b={};for(var c=a.elementByID,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];b[n(f.name)]=f}for(var f=a.cymbalByID,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;a[0];c=a[1];b[n(c.name)]=c}return b}var H=b("memoize")(function(){__p&&__p();var a=m(),b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=l(e),g=f.getColumns();f=f.getRows();e=e.charAt(0).toLowerCase()+e.substring(1);var h=e+"s";b[e]=I(g,f,0);b[h]=[];for(var e=0;e<f.length;e++){var i=I(g,f,e);b[h][e]=i}}return b});function I(a,c,d){return b("mapObject")(a,function(a){return a.getValue(c[d])})}f=b("memoize-one")(a,b("shallowArrayEqual"));function a(a){__p&&__p();var c=new(b("graph"))(),d=o(a),e=x(a);for(var f=d,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i[0];var k=i[1];i=k.expression;if(i&&i.dependencies.length){i=i.dependencies;for(var i=i,l=Array.isArray(i),m=0,i=l?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(l){if(m>=i.length)break;r=i[m++]}else{m=i.next();if(m.done)break;r=m.value}r=r;r=q(k,r);var v=p(d,s(k),r);if(!v){v=J(a,k,r);r=t(s(k),r);d.set(r,v)}c.add(v,k)}}else c.add(D,k);k.type==="cymbal"&&(function(){__p&&__p();var a=k,f=b("ProtonInstancePath").add(a.instancePath,a.itemID);j(e,a.actualPageID,a.propMetadataID,function(g,h,i){var j=i.propPath;g=w(h,g);if(!g)return;var k=u(f,h.name,g.name,j,g.id),e=d.get(k);e||(g.type==="cymbal"?e=babelHelpers["extends"]({},F,{type:"cymbal",instancePath:f,pageID:h.id,pageName:n(h.name),itemID:g.id,itemName:n(g.name),propPath:j,propMetadataID:i.id}):e={type:"element",instancePath:f,pageID:h.id,pageName:n(h.name),itemID:g.id,itemName:n(g.name),propPath:j,expression:null},d.set(k,e));c.add(a,e);g.type==="cymbal"&&(a=e,f=b("ProtonInstancePath").add(f,g.id))})})()}return c}function J(a,b,c){if(v(b)){a=r(a,b,c);if(a){b=babelHelpers["extends"]({type:"element",instancePath:b.instancePath,expression:null},a);return b}}return{type:"variable",expression:null,name:c}}function K(a,b){return g((b=b)!=null?b:"USD",a*100)}function L(a,b){b=b==null?0:b;return C(a*100,b)+"%"}function c(a){__p&&__p();for(var a=a.pages,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.expressionsByItemID.size)return!0;for(var d=d.pageStateByID.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g.expressionDiffsByItemID.size)return!0}}return!1}k=z.logged("selectIsUsingExpressions",function(a){return a.project},c);a=z.logged("selectIsInlineEditPropDataBound",d,function(a,c){return a.computedExpressionsByItemID.get(b("ProtonInstancePath").add(c.instancePath,c.itemID))},function(a,b){__p&&__p();if(!a||!b)return!1;a=h(a.componentName);if(!a)return!1;var c=a.inlineEditPropName;if(c){a=a.propTypes[c];a=a&&a.type==="richText";if(a){a=y("props","value");a=b&&b.get(a);return!!a}a=y("props",c);c=b.get(a);return!!c}return!1});e.exports={ROOT_NODE:D,getCustomerData:H,getExpressionGraph:f,getItemsByLayerName:G,selectExpressionContext:E,selectIsInlineEditPropDataBound:a,selectIsUsingExpressions:k}}),null);
__d("ProtonNativeSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.project.platform==="ios"||a.project.platform==="android"}e.exports={getIsNative:a}}),null);
__d("ProtonCanvasElement.react",["cssVar","cx","ProtonCanvasSelectors","ProtonCanvasUtils","ProtonComponent.react","ProtonComponentConfigUtils","ProtonComponents","ProtonConstants","ProtonCSS","ProtonDebouncedEditableText.react","ProtonExpressionSelectors","ProtonInstancePath","ProtonItemUtils","ProtonNativeSelectors","ProtonPageItemMeasurer.react","ProtonPositionSelectors","ProtonPositionUtils","ProtonPropPath","ProtonPropUtils","ProtonResizeNotifier","ProtonRichText.react","ProtonRichTextUtils","React","ReactDOM","forEachObject","joinClasses","nullthrows","protonConnect","withDebouncedOnChange"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["\n              height: 100%;\n              isolation: isolate;\n              width: 100%;\n              transform: ",";\n            "]);i=function(){return a};return a}var j=b("ProtonCanvasSelectors").selectElementForInstancePath,k=b("ProtonCanvasUtils").getPositionStyles,l=b("ProtonCanvasUtils").getTransformForItem,m=b("ProtonComponentConfigUtils").isPageFunction,n=b("ProtonComponents").getComponentConfig,o=b("ProtonConstants").EMPTY_ELEMENT,p=b("ProtonCSS").GRAYSCALE_CLASSNAME,q=b("ProtonCSS").css,r=b("ProtonExpressionSelectors").selectIsInlineEditPropDataBound,s=b("ProtonItemUtils").isHorizontallyResizableElement,t=b("ProtonItemUtils").isVerticallyResizableElement,u=b("ProtonNativeSelectors").getIsNative,v=b("ProtonPositionSelectors").isItemHeightSpecified,w=b("ProtonPositionSelectors").isItemWidthSpecified,x=b("ProtonPositionUtils").getUpdatedPosition,y=b("ProtonPropPath").createPropPath,z=b("ProtonPropUtils").handlePropChange,A=b("ProtonRichTextUtils").replaceAllText,B=b("withDebouncedOnChange")(1e3)(b("ProtonRichText.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=d.props,c=b.element;b=b.pageID;var e=n(c.componentName);if(!e||e.inlineEditPropName==null)return;d.props.dispatch({type:"update element",elementID:c.id,pageID:b,updates:{props:babelHelpers["extends"]({},c.props,(b={},b[e.inlineEditPropName]=a,b))}})},d.$2=function(a){var b,c=d.props,e=c.element;c=c.pageID;var f=n(e.componentName);if(!f||f.inlineEditPropName==null)return;a=z((b={},b[f.inlineEditPropName]=a,b),e.props,f.propTypes);d.props.dispatch({type:"update element",pageID:c,elementID:e.id,updates:{props:babelHelpers["extends"]({},e.props,a)}})},d.$3=function(){d.props.dispatch({type:"end inline edit element"})},d.$4=function(){return b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))},d.$6=function(a){d.props.onExecuteInteraction(a,d.props.cymbalPath)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){__p&&__p();var c=this.props,d=c.cymbalPath,e=c.dispatch,f=c.element,g=c.isInDynamicGroup;c=c.isNative;if(c)return;if(!g)return;if(a.element.position===f.position)return;c=f.parentGroupID;if(c==null)return;g=n(f.componentName);if(!g)return;a=v(f,g);f=w(f,g);if(!a&&!f)return;b("ProtonResizeNotifier").get(e).childResized(d,c)};d.$5=function(){__p&&__p();var a=this.props,c=a.computedProps,d=a.element;a=a.isEditing;var e=n(d.componentName),f={};if(e){var g=e.inlineEditPropName;if(g!=null){var h=e.propTypes[g];h=h&&h.type==="richText";d=d.props[g]||b("nullthrows")(e.defaultProps)[g];if(h){if(this.props.isInlineEditPropDataBound&&c){e=y("props","value");h=c.get(e);h!=null&&(d=A(d,h))}f[g]=b("React").createElement(B,{dispatch:this.props.dispatch,isEditing:a,onChange:this.$2,onEditingComplete:this.$3,value:d})}else a&&(f[g]=b("React").createElement(b("ProtonDebouncedEditableText.react"),{onBlur:this.$3,onChange:this.$1,value:d}))}}return Object.keys(f).length>0?f:null};d.render=function(){__p&&__p();var a=this.props,c=a.animationStyles,d=a.cymbalPath,e=a.dispatch,f=a.element,g=a.isEditing,h=a.isFixed,j=a.isGrayscaleActive,o=a.isInDynamicGroup,r=a.isLive,u=a.isNative,y=a.itemID,z=a.pageID,A=a.pageRelativePosition,B=a.parentAlignment,C=a.parentLayoutDirection;a=a.positionDelta;var D=n(f.componentName),E=s(D),F=t(D);E=x({isHorizontallyResizable:E,isHotkeyReposition:!1,isInDynamicGroup:o,isVerticallyResizable:F,item:f,pageRelativePosition:A,parentAlignment:B,positionDelta:a,type:"element"});F=k({hasParentGroup:!!f.parentGroupID,isFixed:h,isInDynamicGroup:o,isLive:r,item:f,pageSize:this.props.pageSize,parentLayoutDirection:C,positionDelta:a,positionWithDeltas:E,isNative:u});A=babelHelpers["extends"]({},this.props.layoutMargins,{pointerEvents:r||g?"auto":"none",zIndex:g?"196":null},F,c);var G;B=this.$5();D&&(this.props.isLive&&this.props.isHighlightingVisible&&b("forEachObject")(D.propTypes,function(a,c){c=f.props[c];m(a)&&c&&c.type!=="none"&&(G=b("React").createElement("div",{className:"_2rdp"}))}));return b("React").createElement(b("ProtonPageItemMeasurer.react"),{cymbalPath:d,dispatch:e,isAnimating:this.props.isAnimating,isDragging:this.props.isParentDragging||this.props.positionDelta!=null,isHeightSpecified:v(f,D),isWidthSpecified:w(f,D),itemID:y,pageID:z,parentGroupID:f.parentGroupID,style:A},b("React").createElement("div",{className:b("joinClasses")(j?p:null,q(i(),l(f)))},u?null:b("React").createElement(b("ProtonComponent.react"),{element:f,isLive:r,onExecuteInteraction:this.$6,positionOverride:a||f.widthSizeBehavior==="grow to parent"||f.heightSizeBehavior==="grow to parent"?E:null,propOverrides:B})),G)};return c}(b("React").PureComponent);e.exports=b("protonConnect")({mapStateToProps:function(a,c){var d=c.itemID;c=c.cymbalPath;var e=j(a,{itemID:d,instancePath:c})||o;return{computedProps:a.computedExpressionsByItemID.get(b("ProtonInstancePath").add(c,d)),isEditing:Boolean(e.id===a.selection.editingElementID),isInlineEditPropDataBound:r(a,{itemID:d,instancePath:c}),element:e,isNative:u(a)}},mapDispatchToProps:function(a){return{dispatch:a}},component:a})}),null);
__d("ProtonColorUtils",["ProtonConstants","ProtonUtils","color","sortBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY,h=b("ProtonUtils").parseColor;function i(a){return a instanceof b("color")?a.red():a.rgba.r}function j(a){return a instanceof b("color")?a.green():a.rgba.g}function k(a){return a instanceof b("color")?a.blue():a.rgba.b}function l(a){return a instanceof b("color")?a.alpha():typeof a.rgba.a==="number"?a.rgba.a:1}function m(a,b){return i(a)===i(b)&&j(a)===j(b)&&k(a)===k(b)&&l(a)===l(b)}function n(a){if(a instanceof b("color"))return a;a=a.rgba;var c=a.r,d=a.g,e=a.b;a=a.a;a=a===void 0?1:a;return b("color").rgb(c,d,e).alpha(a)}function o(a,b){return m(b,a)||!!a.variants&&a.variants.some(function(a){return m(b,a)})}function a(a,b){__p&&__p();for(var a=a.groups,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;for(var e=e.colors,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(o(h,b))return h}}return null}function c(a,b){return a.name+" - "+b.name}function d(a){if(!a.variants||!a.variants.length)return g;var c=a.variants;c.some(function(b){return b.identifier===a.identifier})||(c=c.concat(a));return b("sortBy")(c,function(a){a=n(a);return a.alpha()*1e3+a.lightness()})}function f(a){a=n(a);return a.alpha()===1?a.hex():a.rgb().string()}function p(a){if(a==null||a==="")return!0;a=h(a);return!a?!1:a.alpha()<=0}e.exports={areColorsEqual:m,formatColor:f,getColor:n,getSelectedColor:a,getVariantFullName:c,getVariants:d,isColorSelected:o,isTransparent:p}}),null);
__d("ProtonSneezeGuardSelectors",["ProtonBorderUtils","ProtonColorUtils","ProtonItemUtils","ProtonPageItemSelectors","ProtonPositionSelectors","ProtonPositionUtils","ProtonSelectorCreators","ProtonSelectors","ProtonUtils","ProtonVisitor","addToSet","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").getBorderFromCompoundBorder,h=b("ProtonBorderUtils").hasBorderSet,i=b("ProtonColorUtils").isTransparent,j=b("ProtonItemUtils").getActualItem,k=b("ProtonItemUtils").getGroup,l=b("ProtonPageItemSelectors").getRootItems;d=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath;var m=b("ProtonPositionSelectors").getPosition,n=b("ProtonPositionUtils").clipPosition;f=b("ProtonSelectorCreators").createProtonSelector;var o=b("ProtonSelectors").getSelectedItemIDs,p=b("ProtonSelectors").selectActivePage,q=b("ProtonSelectors").visitAncestors,r=b("ProtonUtils").areRectanglesIntersecting;function s(a){var b=g(a.border);return!i(a.backgroundColor)||h(b)}function t(a){return b("gkx")("802544")?!0:s(a)}function a(a){return a.canvas.heldKeys.isMetaKeyDown}a=f.logged("selectHoverableItems",p,a,o,d,function(a,b){a=b.instancePath;return a},function(a,b,c,d,e){c=u(a,c);b=v(a,b,c);return w({page:a,measuredPositionByInstancePath:d,parentInstancePath:e,groupIDsWithChildrenSelected:c,itemIDs:b})});function u(a,c){var d=new Set();b("ProtonVisitor").visitItems(a,l(a),{activePageID:a.id,selectedItemIDs:c,onAfterGroup:function(a){var b=a.group;a=a.isAnyChildSelected;a&&d.add(b.id)}});return d}function v(a,c,d){__p&&__p();var e=[];b("ProtonVisitor").visitItems(a,l(a),{onItem:function(a){__p&&__p();var b=a.actualItem,f=a.item,g=a.itemID;a=a.parentGroupID;if(f.type==="group")return;if(!b)return;if(b.isLocked||b.isHidden)return;if(a!=null&&!c&&!d.has(a))return;e.push(g)},onBeforeGroup:function(a){__p&&__p();var b=a.group;a.item;a.parentGroupID;if(b.isLocked||b.isHidden)return!1;if(!t(b))return!0;if(!c&&!d.has(b.id))return!0;e.push(b.id);return!0},onAfterGroup:function(a){__p&&__p();var b=a.group;a.item;a=a.parentGroupID;if(b.isLocked||b.isHidden)return;if(d.has(b.id))return;if(c)return;if(a!=null&&!d.has(a))return;e.push(b.id)}});return e}function w(a){__p&&__p();var b=a.measuredPositionByInstancePath,c=a.page,d=a.groupIDsWithChildrenSelected,e=a.parentInstancePath;a=a.itemIDs;return a.map(function(a){var f=m({page:c,measuredPositionByInstancePath:b,itemOrID:a,parentInstancePath:e}),g=f;q(c,a,function(a){if(d.has(a))return!1;a=m({page:c,measuredPositionByInstancePath:b,itemOrID:a,parentInstancePath:e});a!=null&&(g=n(a,g));return!0});return!g.width&&!g.height?null:{itemID:a,position:g}}).filter(Boolean)}function c(a,b,c){for(var d=b.length-1;d>=0;d--){var e=b[d],f=e.itemID;e=e.position;if(r(e,a))return!c.has(f)?f:null}return null}d=f.logged("selectItemIDsWithSelectionOverlay",p,o,function(a){return a.selection.hoveredItem},function(a,c,d){__p&&__p();c=c;d!=null&&d.type==="item"&&(c=b("addToSet")(c,d.id));return Array.from(c).filter(function(b){__p&&__p();b=j(a,b);if(!b)return!1;do{if(b.isLocked)return!1;if(b.isHidden)return!1;b=b.parentGroupID!=null?k(a,b.parentGroupID):null}while(b!=null);return!0})});e.exports={doesGroupLookSelectable:s,getHoveredItemID:c,selectHoverableItems:a,selectItemIDsWithSelectionOverlay:d}}),null);
__d("ProtonCanvasGroup.react",["cssVar","DOMEventListener","FBScrollbars.react","ProtonBorderUtils","ProtonCanvasSelectors","ProtonCanvasUtils","ProtonConstants","ProtonCSSShorthandUtils","ProtonGroupUtils","ProtonLogger","ProtonPageItemMeasurer.react","ProtonPositionSelectors","ProtonPositionUtils","ProtonResizeNotifier","ProtonSneezeGuardSelectors","ProtonThemeableComponent","ProtonUtils","React","ReactDOM","gkx","protonConnect"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonBorderUtils").convertBorderToCSS,i=b("ProtonBorderUtils").getBorderFromCompoundBorder,j=b("ProtonBorderUtils").getBorderWidth,k=b("ProtonBorderUtils").hasBorderRadiusSet,l=b("ProtonBorderUtils").hasBorderSet,m=b("ProtonCanvasSelectors").selectGroupBoundingPosition,n=b("ProtonCanvasSelectors").selectGroupForInstancePath,o=b("ProtonCanvasUtils").getPositionStyles,p=b("ProtonCanvasUtils").getTransformForItem,q=b("ProtonConstants").EMPTY_GROUP,r=b("ProtonConstants").EMPTY_POSITION,s=b("ProtonConstants").ITEMS_CONTAINER_CSS_GRID_STYLE,t=b("ProtonCSSShorthandUtils").convertBorderRadiusToCSS,u=b("ProtonCSSShorthandUtils").convertPaddingToCSS,v=b("ProtonCSSShorthandUtils").getInferredSpacing,w=b("ProtonGroupUtils").canScrollHorizontally,x=b("ProtonGroupUtils").canScrollVertically,y=b("ProtonGroupUtils").getFlexStyles,z=b("ProtonGroupUtils").getOverflowStyles,A=b("ProtonGroupUtils").hasInteractions,B=b("ProtonPositionSelectors").getGroupScrollPositionForItem,C=b("ProtonPositionSelectors").isItemHeightSpecified,aa=b("ProtonPositionSelectors").isItemWidthSpecified,ba=b("ProtonPositionUtils").getUpdatedPosition,ca=b("ProtonSneezeGuardSelectors").doesGroupLookSelectable;a=b("ProtonThemeableComponent").withTheme;var da=b("ProtonUtils").convertOpacityToDecimal,ea=b("ProtonUtils").desaturateRGBColor,D=b("ProtonUtils").isInteractionActive,E=["alignment","border","items","layout","layoutDirection","padding","position","spacingX","spacingY"];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=b("React").createRef(),d.$7=b("React").createRef(),d.$3=function(){__p&&__p();var a=d.props.group;if(a.layout!=="dynamic")return;var c=b("ReactDOM").findDOMNode(d.$6.current);if(!(c instanceof HTMLElement))return;var e=[],f=0,g=0;a.layoutDirection==="wrap"&&(f=a.spacingX.isSpaceBetween?0:a.spacingX.value,g=a.spacingY.isSpaceBetween?0:a.spacingY.value);Array.from(c.children).forEach(function(a){var b=a.dataset.itemid;if(!b)return;e.push({itemID:b,left:a.offsetLeft-f,top:a.offsetTop-g})});d.props.dispatch({type:"measured child coords",measurements:e,pageID:d.props.pageID,cymbalPath:d.props.cymbalPath})},d.$9=function(){var a=d.props.group.onClick;a&&d.props.onExecuteInteraction(a,d.props.cymbalPath)},d.$10=function(){var a=d.props.group.onMouseOut;a&&d.props.onExecuteInteraction(a,d.props.cymbalPath)},d.$11=function(){var a=d.props.group.onMouseOver;a&&d.props.onExecuteInteraction(a,d.props.cymbalPath)},d.$12=function(){var a=d.props.group.onMouseDown;a&&d.props.onExecuteInteraction(a,d.props.cymbalPath);D(d.props.group.onMouseUp)&&(d.$1=b("DOMEventListener").add(window,"mouseup",d.$13))},d.$13=function(){var a=d.props.group.onMouseUp;a&&d.props.onExecuteInteraction(a,d.props.cymbalPath);d.$5()},d.$14=new Map(),d.$8=function(){__p&&__p();var a=d.props.group.onScrollToPoint,b=d.$7.current;if(Array.isArray(a)&&b){var c=b.scrollTop,e=b.scrollLeft;b=a.map(function(a){if(a.type!=="toggle state")return null;var b=a.scrollDirection==="vertical"?c:e;b=b>a.scrollPoint;var f=d.$14.get(a);f=f!==b;d.$14.set(a,b);return f?babelHelpers["extends"]({},a,{shouldApplyState:b}):null}).filter(Boolean);d.props.onExecuteInteraction(b,d.props.cymbalPath)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.props,c=a.cymbalPath,d=a.dispatch;a=a.group;this.$3();this.$2=b("ProtonResizeNotifier").get(d).subscribe(c,a.id,this.$3);a.layout==="dynamic"&&(b("ProtonLogger").logPreviewFeature("dynamic layout"),a.overflow!=="hidden"&&b("ProtonLogger").logPreviewFeature("dynamic layout with scrolling"));this.$4()};d.componentDidUpdate=function(a){var b=this;this.props.group!==a.group&&(E.some(function(c){return b.props.group[c]!==a.group[c]})&&this.$3());this.props.group.shouldScrollAutomatically&&(this.props.group.initialScrollTop!==a.group.initialScrollTop||this.props.group.initialScrollLeft!==a.group.initialScrollLeft)&&this.$4()};d.componentWillUnmount=function(){this.$5(),this.$2&&(this.$2.remove(),this.$2=null)};d.$4=function(){__p&&__p();var a=this.props,b=a.group,c=a.isLive;a=a.scrollPosition;var d=this.$7.current;if(c&&d){c=w(b);b=x(b);d.scrollLeft=c?a.left:0;d.scrollTop=b?a.top:0;this.$8()}};d.$5=function(){this.$1&&(this.$1.remove(),this.$1=null)};d.render=function(){__p&&__p();var a=this.props,c=a.animationStyles,d=a.boundingPosition,e=a.colorMapping,f=a.cymbalPath,g=a.dispatch,m=a.group,n=a.isAnyChildSelected,q=a.isDirectChildSelected,r=a.isFixed,B=a.isGrayscaleActive,E=a.isInDynamicGroup,F=a.isLive,fa=a.itemID,G=a.layoutMargins,ga=a.pageID,H=a.pageRelativePosition,I=a.parentAlignment,J=a.positionDelta,ha=a.protonCanvasPageItems;a=a.scrollPosition;var K=i(m.border),L=j(K.top)+j(K.bottom),M=j(K.left)+j(K.right),N=v(m.padding),O=N.top+N.bottom,P=N.left+N.right,Q=m.layout==="dynamic",R=m.layout==="static"||m.layout==="masking"||m.layout==="scrolling",S=ca(m);I=ba({isHorizontallyResizable:!0,isInDynamicGroup:E,isVerticallyResizable:!0,item:m,pageRelativePosition:H,parentAlignment:I,positionDelta:J,type:"group"});r=o({hasParentGroup:!!m.parentGroupID,isFixed:r,isInDynamicGroup:E,isLive:F,item:m,pageSize:this.props.pageSize,parentLayoutDirection:this.props.parentLayoutDirection,positionDelta:J,positionWithDeltas:I});E=I.height;J=I.width;var T=I.height-L-O;I=I.width-M-P;var U=H.top+j(K.top)+N.top;H=H.left+j(K.left)+N.left;U=R?d.top-U:0;H=R?d.left-H:0;U=d.height+U;d=d.width+H;H=U+L+O;L=d+M+P;M=U>T;T=d>I;I=x(m);var V=w(m),W=V||I,X=l(K)||k(m.borderRadius),Y=X||M&&!I;X=X||T&&!V;var Z=X||Y;M=I&&M;T=V&&T;var $=T||M;X=X||Y||T||M;Y=!F&&m.overflow!=="visible"&&q&&($||Z);q=this.props.positionDelta!=null;$=F&&(A(m)||W)?"auto":"none";G=babelHelpers["extends"]({display:"flex"},r,G,b("gkx")("837344")?{marginTop:((Z=r.marginTop)!=null?Z:0)+((Z=G==null?void 0:G.marginTop)!=null?Z:0),marginLeft:((Z=r.marginLeft)!=null?Z:0)+((Z=G==null?void 0:G.marginLeft)!=null?Z:0)}:{},c,{pointerEvents:$,zIndex:!F&&n&&X?"191":r.zIndex});Z=!F&&m.items.length===0&&!S&&E&&J&&!m.boxShadow?{background:e.accentTransparent,border:"dashed 1px "+e.accentDefault,boxSizing:"border-box"}:null;c=babelHelpers["extends"]({},h(K),t(m.borderRadius),Z,z(m,F,n),{alignItems:I?"flex-start":"stretch",backgroundColor:B?ea(m.backgroundColor):m.backgroundColor,boxShadow:m.boxShadow,boxSizing:"border-box",cursor:D(m.onClick)?"pointer":null,display:"flex",isolation:"isolate",position:"relative",opacity:da(m.opacity),transform:p(m),width:"100%"});$=!F&&(a.left||a.top)?"translate3d("+a.left*-1+"px, "+a.top*-1+"px, 0)":null;X=babelHelpers["extends"]({},u(N),{boxSizing:"border-box"},b("gkx")("837344")&&R?s:{height:R?U+O:"auto",width:R?d+P:"auto"},Q?y(m):{},{flexShrink:V?0:1,position:"relative",transform:$,minHeight:"100%",minWidth:"100%"});r=m.items;Q&&(r=r.slice().reverse());S=Q?m.layoutDirection:null;K=b("React").createElement(ha,{cymbalPath:f,isInDynamicGroup:Q,isLive:F,isParentDragging:b("gkx")("845754")?this.props.isParentDragging||q:!1,items:r,onExecuteInteraction:this.props.onExecuteInteraction,parentLayoutDirection:S});Z=Y?b("React").createElement("div",{style:{border:"1px dashed "+e.canvasSelectionBorder,boxSizing:"border-box",height:M?Math.max(H,E):E,left:0,position:"absolute",top:0,width:T?Math.max(L,J):J}}):null;n=b("React").createElement("div",{ref:this.$6,style:X},K);I=b("React").createElement("div",{onClick:this.$9,onMouseDown:this.$12,onMouseEnter:this.$11,onMouseLeave:this.$10,onScroll:this.$8,ref:this.$7,style:c},n);return b("React").createElement(b("ProtonPageItemMeasurer.react"),{cymbalPath:f,dispatch:g,isAnimating:this.props.isAnimating,isDragging:this.props.isParentDragging||q,isHeightSpecified:C(m),isWidthSpecified:aa(m),itemID:fa,onResize:this.$3,pageID:ga,parentGroupID:m.parentGroupID,style:G},F&&W?b("React").createElement(b("FBScrollbars.react"),{isHorizontalScrollbarHidden:m.isHorizontalScrollbarHidden,isVerticalScrollbarHidden:m.isVerticalScrollbarHidden},I):I,Z)};return c}(b("React").PureComponent);d=a(b("protonConnect")({mapStateToProps:function(a,b){var c=b.cymbalPath;b=b.itemID;return{boundingPosition:m(a,{itemID:b,instancePath:c})||r,shouldShowGroupOverlays:!a.canvas.heldKeys.isMetaKeyDown,group:n(a,{itemID:b,instancePath:c})||q,scrollPosition:B({state:a,itemID:b,parentInstancePath:c})}},mapDispatchToProps:function(){return{}},component:c}));e.exports=d}),null);
__d("ProtonAnimationUtils",["animated-easing","memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("animated-easing").bezier,h=[0,1];a=b("memoizeWithArgsWeak")(function(a,b,c,d){if(a===b)return b;a=[a,b];b=c.x1;var e=c.y1,f=c.x2;c=c.y2;return d.interpolate({inputRange:h,outputRange:a,easing:g(b,e,f,c)})});e.exports={createInterpolation:a}}),null);
__d("ProtonPreviewUtils",["ProtonIDTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,h=50;function a(a,b,c){a=a.overlayPosition||{};var d=Math.round((b.height-c.height)/2);typeof a.top==="number"?d=a.top:typeof a.bottom==="number"?d=b.height-c.height-a.bottom:d<0&&(d=h);var e=Math.round((b.width-c.width)/2);typeof a.left==="number"?e=a.left:typeof a.right==="number"?e=b.width-c.width-a.right:e<0&&(e=0);return{left:e,top:d}}function c(a,b,c){a=a.linkData.overlayPosition;return Boolean(a&&Object.values(a).some(function(a){return!!a}))||b.width>=c.width||b.height>=c.height}function d(a,b){__p&&__p();a=a;if(a.type==="toggle state"){var c=a.shouldApplyState===!0?"apply state":"unapply state";a=babelHelpers["extends"]({},a,{type:c})}switch(a.type){case"page":return{type:"activate page",pageID:a.pageID||"",pageStateID:a.pageStateID};case"next page in series":return{type:"activate next page in series"};case"previous page in series":return{type:"activate previous page in series"};case"last page":case"last page visited":return{type:"activate last page visited"};case"hide page":return{type:"hide page for vr preview",pageID:a.pageID||""};case"unhide page":return{type:"unhide page for vr preview",pageID:a.pageID||""};case"apply state":c=a;var d=c.pageStateID,e=c.targetPageID;c=c.animation;if(d!=null)return{type:"apply page state",pageStateID:d,cymbalPath:b,targetPageID:e,animation:c};break;case"unapply state":d=a;e=d.pageStateID;c=d.targetPageID;d=d.animation;if(e!=null)return{type:"unapply page state",pageStateID:e,cymbalPath:b,targetPageID:c,animation:d};break;case"change environment":return{type:"change environment for vr preview",environmentURI:a.environmentURI};case"change state":e=a;c=e.pageStateID;d=e.targetPageID;e=e.animation;return{type:"change page state for preview",pageStateID:(c=c)!=null?c:g,cymbalPath:b,targetPageID:d,animation:e};case"next state":c=a;d=c.animation;e=c.targetPageID;return{type:"next page state for preview",animation:d,cymbalPath:b,targetPageID:e};case"previous state":c=a;d=c.animation;e=c.targetPageID;return{type:"previous page state for preview",animation:d,cymbalPath:b,targetPageID:e};case"set a variable":return{type:"update preview variable by id",id:a.id,newValue:a.newValue,expressionText:a.expressionText}}return null}e.exports={OVERLAY_MARGIN:h,getOverlayPosition:a,shouldOverlayBeBoundToPage:c,getActionForLinkData:d}}),null);
__d("ProtonItemSelectors",["ProtonCanvasSelectors","ProtonComponentConfigUtils","ProtonComponents","ProtonConstants","ProtonCymbalSelectors","ProtonGroupComponentConfig","ProtonItemUtils","ProtonPositionSelectors","ProtonPreviewUtils","ProtonPropUtils","ProtonSelectorCreators","ProtonSelectors","first","memoizeWithArgsWeak","objectEntries"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectItemForInstancePath,h=b("ProtonComponentConfigUtils").isPageFunction,i=b("ProtonComponents").getComponentConfig,j=b("ProtonConstants").EMPTY_OBJECT,k=b("ProtonCymbalSelectors").selectCymbalComponentConfig,l=b("ProtonItemUtils").getActualItem,m=b("ProtonPositionSelectors").getParentRelativePositionForItemID,n=b("ProtonPreviewUtils").getActionForLinkData,o=b("ProtonPropUtils").normalizeInteraction;f=b("ProtonSelectorCreators").createProtonSelector;var p=b("ProtonSelectors").selectActivePage;function a(a){return new Set([].concat(Array.from(a.cymbalByID.keys()),Array.from(a.elementByID.keys()),Array.from(a.groupByID.keys())))}function q(a,c){__p&&__p();var d=p(a);d=l(d,c);if(!d)return null;switch(d.type){case"element":return i(d.componentName);case"group":return b("ProtonGroupComponentConfig");case"cymbal":return k(a,{cymbalPageID:d.cymbalPageID});default:d.type}return null}var r=b("memoizeWithArgsWeak")(function(a,b){return{item:a,position:b}});function c(a,b){var c=g(a,b);a=m(a,b);return!c?null:r(c,a)}f=f.logged("selectDefaultActionForItemInteractions",g,function(a,b){b=b.itemID;return q(a,b)},function(a,b){a=b.instancePath;return a},d);function d(a,c,d){__p&&__p();if(!a||!c)return null;a=s(a);var e=null;for(var c=b("objectEntries")(c.propTypes),f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=c.length)break;i=c[g++]}else{g=c.next();if(g.done)break;i=g.value}i=i;var j=i[0];i=i[1];if(!h(i))continue;i=b("first")(o(a[j]));if(!i)continue;e=n(i,d);if(e)break}return e}function s(a){switch(a.type){case"group":return a;case"cymbal":return a.props;case"element":return a.props;default:a.type}return j}e.exports={getAllItemIDs:a,getItemComponentConfig:q,getItemAnimatableProps:c,selectDefaultActionForItemInteractions:f}}),null);
__d("ProtonAnimationSelectors",["ProtonAnimationUtils","ProtonCanvasSelectors","ProtonConstants","ProtonInstancePath","ProtonItemSelectors","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateSelectors","ProtonSelectorCreators","ProtonSelectors","memoizeWithArgs","memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationUtils").createInterpolation,h=b("ProtonCanvasSelectors").selectItemForInstancePath,i=b("ProtonConstants").EMPTY_MAP,j=b("ProtonConstants").EMPTY_OBJECT,k=b("ProtonConstants").MASTER_STATE_NAME,l=b("ProtonItemSelectors").getItemAnimatableProps,m=b("ProtonItemUtils").isItemHorizontallyResizable,n=b("ProtonItemUtils").isItemInDynamicGroup,o=b("ProtonItemUtils").isItemVerticallyResizable,p=b("ProtonPageSelectors").getActivePageID,q=b("ProtonPageSelectors").getActivePageStateIDForEditMode,r=b("ProtonPageStateSelectors").selectPageStateNameByID,s=b("ProtonSelectorCreators").createProtonSelector,t=b("ProtonSelectors").selectTransformedPageForInstancePath,u=[a,c,d].filter(Boolean);function a(a){var b=a.animatedStyle,c=a.animatedValue,d=a.easing,e=a.nextProps,f=a.prevProps;a=a.itemFlags;f=f.position;e=e.position;b=b;a.isHorizontallyResizable&&f.width!==e.width&&(b=babelHelpers["extends"]({},b,{width:g(f.width,e.width,d,c)}));a.isVerticallyResizable&&f.height!==e.height&&(b=babelHelpers["extends"]({},b,{height:g(f.height,e.height,d,c)}));return b}function c(a){var b=a.animatedStyle,c=a.animatedValue,d=a.easing,e=a.nextProps,f=a.prevProps;a=a.itemFlags;f=f.position;e=e.position;if(f.left===e.left&&f.top===e.top)return b;return a.isInDynamicGroup?b:babelHelpers["extends"]({},b,{top:0,left:0,transform:[{translateX:g(f.left,e.left,d,c)},{translateY:g(f.top,e.top,d,c)},{translateZ:0}]})}function d(a){var b=a.animatedStyle,c=a.animatedValue,d=a.easing,e=a.nextProps;a=a.prevProps;a=a.item.isHidden;e=e.item.isHidden;if(a===e)return b;a=a?0:1;e=e?0:1;return babelHelpers["extends"]({},b,{opacity:g(a,e,d,c)})}function f(a,b){var c=a.animation.animationByInstancePath.get(b.instancePath),d=w(a,b);a=h(a,b);return!c||c.animationStatus==="inactive"||!d||!a?!1:a.isHidden!==d.item.isHidden}a=b("memoizeWithArgsWeak")(function(a,b,c,d,e,f,g,h){if(!a||a.animationStatus==="inactive"||!d||!b||!c)return j;var i=a.easing,k={isInDynamicGroup:e,isHorizontallyResizable:f,isVerticallyResizable:g};return u.reduce(function(a,d){return d({animatedStyle:a,animatedValue:h,easing:i,nextProps:c,prevProps:b,itemFlags:k})},j)});function v(a,b,c){var d=t(a,b);a=h(a,b);return c(a,d)}c=s.logged("selectAnimationStyles",function(a,b){b=b.instancePath;return a.animation.animationByInstancePath.get(b)},w,l,function(a,b){var c=b.itemID;b=b.instancePath;a=a.animation.animatingItemIDsByInstancePath.get(b);return a?a.has(c):!1},function(a,b){return v(a,b,function(a,b){return n(b,a)})},function(a,b){return v(a,b,function(a){return a?m(a):!1})},function(a,b){return v(a,b,function(a){return a?o(a):!1})},function(a){return a.animation.animatedValue},a);function w(a,c){var d=c.instancePath;c=c.itemID;d=b("ProtonInstancePath").add(d,c);return a.animation.previousAnimatablePropsByInstancePath.get(d)}function x(a){__p&&__p();var b=a.animationEditor;if(!b)return;var c=r(a);b=b.previousPageStateID;a=q(a);b=y(c,b);c=y(c,a);if(b==null||c==null)return;return b+" to "+c}function y(a,b){return b!=null?a.get(b):k}var z=b("memoizeWithArgs")(function(a){return a},function(a){return Array.from(a).join()});function A(a){__p&&__p();var c=b("ProtonInstancePath").createFromPageID(p(a)),d=a.animation.animatingItemIDsByInstancePath.get(c);if(!d)return i;var e=new Map();d.forEach(function(b){__p&&__p();var d=w(a,{instancePath:c,itemID:b}),f=l(a,{instancePath:c,itemID:b});if(!d||!f)return;var g=new Set(),h=d.position,i=f.position;h.top!==i.top&&g.add("top");h.left!==i.left&&g.add("left");h.width!==i.width&&g.add("width");h.height!==i.height&&g.add("height");h=d.item.isHidden;i=f.item.isHidden;h!==i&&g.add("opacity");if(g.size===0)return;e.set(b,z(g))});return e}function B(a){return a.animationEditor!=null}e.exports={getAnimatingPropNamesByItemID:A,getAnimationTitle:x,getIsItemFading:f,getIsEditingAnimation:B,selectAnimationStyles:c}}),null);
__d("ProtonCanvasSnapGuideUtils",["ProtonPageItemSelectors","ProtonSelectorCreators","ProtonSelectors","ProtonUtils","ProtonVisitor","addToSet","distinctArray","flatMapArray","maxBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPageItemSelectors").getRootItems;d=b("ProtonSelectorCreators").createProtonSelector;f=b("ProtonSelectors").getSelectedItemIDs;var h=b("ProtonSelectors").selectActivePage,i=b("ProtonUtils").areRectanglesIntersecting,j={start:3,end:2,middle:1},k=10,l=1,m=.5;function a(a,b,c,d,e,f){var g=i(b,d),h=e.filter(function(a){return a.source==="grid"||i(a,d)===g});f&&h.unshift(d);e=["horizontal","vertical"].map(function(d){return n({originalPosition:a,proposedPosition:b,positionDeltas:c,elementPositionsToSnap:h,direction:d})}).filter(Boolean);f={snapGuides:e.map(function(a){return a.snapGuide}),newPosition:e.reduce(function(a,b){return babelHelpers["extends"]({},a,b.snapPositionUpdates)},b)};return f}function n(a){var c=b("flatMapArray")(a.elementPositionsToSnap,function(b){return p(babelHelpers["extends"]({},a,{snappingPosition:b}))});return b("maxBy")(c,o)}function o(a){var b=a.source==="grid"||a.source==="page";b=1e3*(b?l:m);var c=100*-a.delta;a=1*j[a.snapLocation];return b+c+a}function p(a){__p&&__p();var c=a.originalPosition,d=a.proposedPosition,e=a.positionDeltas,f=a.snappingPosition,g=a.direction,h=g==="horizontal"?{heightOrWidth:"height",leftOrTop:"left",topOrLeft:"top",widthOrHeight:"width"}:{heightOrWidth:"width",leftOrTop:"top",topOrLeft:"left",widthOrHeight:"height"};a=f[h.topOrLeft];var i=a+f[h.heightOrWidth]/2,j=a+f[h.heightOrWidth];a=f.source==="grid"?b("distinctArray")([a,j]):b("distinctArray")([a,i,j]);i=b("flatMapArray")(a,function(a){return[q(h,d,e,a,f),r(h,d,e,a,f),s(h,c,d,e,a,f)]}).filter(Boolean);var k=Math.min(d[h.leftOrTop],f[h.leftOrTop]),l=Math.max(d[h.leftOrTop]+d[h.widthOrHeight],f[h.leftOrTop]+f[h.widthOrHeight]);return i.map(function(a){var b;return{delta:a.delta,snapLocation:a.snapLocation,snapPositionUpdates:a.snapPositionUpdates,snapGuide:(b={},b[h.heightOrWidth]=1,b.direction=g,b[h.leftOrTop]=k,b[h.topOrLeft]=a.snapValue,b[h.widthOrHeight]=l-k,b),source:a.source}})}function q(a,b,c,d,e){__p&&__p();var f,g=a.heightOrWidth;a=a.topOrLeft;if(!c[a])return null;var h=Math.abs(d-b[a]);if(h>k)return null;f=(f={},f[a]=d,f);c[g]&&(f[g]=b[g]+(b[a]-d));return e.source==="grid"&&i(babelHelpers["extends"]({},b,f),e)?null:{delta:h,snapLocation:"start",snapPositionUpdates:f,snapValue:d,source:e.source}}function r(a,b,c,d,e){__p&&__p();var f=a.heightOrWidth;a=a.topOrLeft;if(e.source==="grid")return null;if(!c[a]&&!c[f])return null;var g=b[a]+b[f]/2,h=Math.abs(d-g);if(h>k)return null;var i={};if(c[f]){g=(g-d)*2;c[a]?(i[a]=b[a]-g,i[f]=b[f]+g):i[f]=b[f]-g}else i[a]=d-b[f]/2;return{delta:h,snapLocation:"middle",snapPositionUpdates:i,snapValue:d,source:e.source}}function s(a,b,c,d,e,f){__p&&__p();var g,h=a.heightOrWidth;a=a.topOrLeft;if(b[a]+b[h]===c[a]+c[h])return null;var j=c[a]+c[h];j=Math.abs(e-j);if(j>k)return null;b=(g={},g[a]=d[h]?b[a]:e-c[h],g);d[h]&&(b[h]=e-c[a]);return f.source==="grid"&&i(babelHelpers["extends"]({},c,b),f)?null:{delta:j,snapLocation:"end",snapPositionUpdates:b,snapValue:e,source:f.source}}function c(a,c,d){c=b("addToSet")(c,d);var e=[];b("ProtonVisitor").visitItems(a,g(a),{activePageID:a.id,selectedItemIDs:c,onItem:function(a){var b=a.actualItem,c=a.isAncestorHidden,d=a.isAncestorSelected,f=a.isSelected;a=a.itemID;if(b==null||b.isHidden||c||d||f)return;e.push(a)}});return e}d=d.logged("selectSnappableItemIDs",h,f,function(a,b){return b.draggingItemID},c);e.exports={selectSnappableItemIDs:d,snapToOtherPositions:a}}),null);
__d("ProtonComponentWithStoreAccess",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c,d,e=(d=c=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.getCurrentAppState=function(){return b.context.store.getState().currentAppState},a)||babelHelpers.assertThisInitialized(b)}var e=d.prototype;e.render=function(){return b("React").createElement(a,babelHelpers["extends"]({},this.props,{dispatch:this.context.store.dispatch,getState:this.getCurrentAppState,ref:this.props.forwardedRef}))};return d}(b("React").PureComponent),c.contextTypes={store:b("prop-types").object},d);return b("React").forwardRef(function(a,c){return b("React").createElement(e,babelHelpers["extends"]({},a,{forwardedRef:c}))})}e.exports={createComponentWithStoreAccess:a}}),null);
__d("ProtonGridSelectors",["ProtonPositionSelectors","ProtonSelectorCreators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("ProtonPositionSelectors").selectPageSize;d=b("ProtonSelectorCreators").createProtonSelector;function a(a,b){var c=a.outsideMargin*2,d=a.gutter*(a.columnCount+1);c=(b.width-c-d)/a.columnCount;d=[];var e=a.outsideMargin;for(var f=0;f<=a.columnCount;f++)d.push({bottom:0+b.height,height:b.height,left:Math.round(e),right:Math.round(e+a.gutter),source:"grid",top:0,width:a.gutter}),e+=c+a.gutter;return d}f=d.logged("selectGridPositions",function(a){return a.project.grid},c,a);e.exports={selectGridPositions:f}}),null);
__d("ProtonDeltaStore",["ProtonCanvasSelectors","ProtonCanvasSnapGuideUtils","ProtonCanvasUtils","ProtonComponentWithStoreAccess","ProtonConstants","ProtonGridSelectors","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPositionSelectors","ProtonSelectors","ProtonUtils","ProtonViewSelectors","React","emptyFunction","protonConnect"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectEntryForItem,h=b("ProtonCanvasSnapGuideUtils").selectSnappableItemIDs,i=b("ProtonCanvasSnapGuideUtils").snapToOtherPositions,j=b("ProtonCanvasUtils").scalePositionKeepProportions,k=b("ProtonCanvasUtils").scalePositionSymmetrically;f=b("ProtonComponentWithStoreAccess").createComponentWithStoreAccess;var l=b("ProtonConstants").EMPTY_ARRAY,m=b("ProtonGridSelectors").selectGridPositions,n=b("ProtonItemUtils").getActualItem,o=b("ProtonItemUtils").getGroup,p=b("ProtonItemUtils").getItems,q=b("ProtonPageSelectors").getActivePageID,r=b("ProtonPositionSelectors").getBoundingPosition,s=b("ProtonPositionSelectors").getPosition,t=b("ProtonPositionSelectors").selectPageSize,u=b("ProtonSelectors").getSelectedItemIDs,v=b("ProtonSelectors").selectActivePage,w=b("ProtonUtils").blurActiveElement,x=b("ProtonViewSelectors").getZoom,y={top:0,left:0},z=function(){return y};z=b("React").createContext({isDragging:!1,onDragChange:b("emptyFunction"),onDragEnd:b("emptyFunction"),onDragStart:b("emptyFunction"),getCanvasRelativePosition:z,getCanvasRootNode:b("emptyFunction"),positionDelta:null,snapGuides:l});var A=z.Provider,B=z.Consumer;z=f(function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isDragging:!1,selectedPositionDelta:null,snapGuides:l,dragItemID:null,dragResizeHandleLocation:null},c.$4=function(a,b){var d=c.props.getState(),e=d.canvas.heldKeys,f=u(d);d=v(d);e.isAltKeyDown&&!b&&c.props.dispatch({type:"duplicate items for drag",itemIDs:f.has(a)?f:new Set([a]),pageID:d.id});c.setState({isDragging:!0,dragResizeHandleLocation:b})},c.$1=function(a,b,d){__p&&__p();var e=c.props.getState(),f=e.canvas.heldKeys,g=x(e),p=u(e),q=v(e),r=n(q,a),s=t(e),w=e.project.grid.snapToGrid,y=e.project.grid.snapToPage,z=m(e);if(!r)return;var A=c.$2(a);b={height:b.height/g,left:b.left/g,top:b.top/g,width:b.width/g};p.has(a)||c.props.dispatch({type:"select items",itemIDs:[a],pageID:q.id,selectionType:"single"});var B={height:A.height+b.height,left:A.left+b.left,top:A.top+b.top,width:A.width+b.width};f.isShiftKeyDown&&!b.height&&!b.width&&(B=C(A,B));g=l;if(!f.isMetaKeyDown){p=h(e,{draggingItemID:a});e={bottom:s.height,height:s.height,left:0,right:s.width,source:"page",top:0,width:s.width};s=p.map(function(a){return c.$2(a)}).concat(w?z:[]);p=i(A,B,b,e,s,y);g=p.snapGuides;B=p.newPosition}f.isShiftKeyDown&&!b.height&&!b.width&&(B=C(A,B));if((b.height||b.width)&&d){f.isShiftKeyDown&&(B=j(A,B,d));z=((w=o(q,r.parentGroupID))==null?void 0:w.layout)==="dynamic";f.isAltKeyDown&&!z&&(B=k(A,B))}e=g.filter(function(a){return[B.left,B.left+B.width,B.left+B.width/2].some(function(b){return a.direction==="vertical"&&a.left===b})||[B.top,B.top+B.height,B.top+B.height/2].some(function(b){return a.direction==="horizontal"&&a.top===b})});s={height:B.height-A.height,left:B.left-A.left,top:B.top-A.top,width:B.width-A.width};c.setState({dragItemID:a,dragResizeHandleLocation:d,selectedPositionDelta:s,snapGuides:e})},c.$5=function(){__p&&__p();var a=c.props.getState(),b=q(a);a=a.selection;var d=a.editingElementID;a=a.selectedItemIDs;d==null&&w();d=c.state.selectedPositionDelta;if(!d)return;c.props.dispatch({type:"reposition items",itemIDs:a,pageID:b,positionDelta:d});c.setState({isDragging:!1,selectedPositionDelta:null,snapGuides:l})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.refreshScaling=function(){this.state.isDragging&&this.state.dragItemID!=null&&this.state.selectedPositionDelta&&this.$1(this.state.dragItemID,this.state.selectedPositionDelta,this.state.dragResizeHandleLocation)};d.$2=function(a){var c=this.props.getState(),d=v(c);c=c.measuredPositionByInstancePath;return babelHelpers["extends"]({},s({page:d,measuredPositionByInstancePath:c,itemOrID:a,parentInstancePath:b("ProtonInstancePath").create(d.id)}),{source:"item"})};d.$3=function(){__p&&__p();var a=this.props.getState(),c=a.canvas.heldKeys,d=a.selection.hoveredItem,e=u(a),f=v(a),g=a.measuredPositionByInstancePath;a=t(a);if(!c.isAltKeyDown)return null;c=Array.from(e);e=p(f,e);if(!e.length)return null;e=r({items:e,measuredPositionByInstancePath:g,page:f,parentInstancePath:b("ProtonInstancePath").create(f.id)});g=(d==null?void 0:d.type)==="item"?d==null?void 0:d.id:null;f=g!=null?this.$2(g):null;return{selectedPosition:e,targetPosition:f==null||c.includes(g)?{height:a.height,left:0,top:0,width:a.width}:f}};d.render=function(){return b("React").createElement(A,{value:{isDragging:this.state.isDragging,onDragStart:this.$4,onDragEnd:this.$5,onDragChange:this.$1,getCanvasRelativePosition:this.props.getCanvasRelativePosition,getCanvasRootNode:this.props.getCanvasRootNode,positionDelta:this.state.selectedPositionDelta,snapGuides:this.state.snapGuides}},this.props.children)};return c}(b("React").PureComponent));function C(a,b){var c=Math.abs(a.left-b.left),d=Math.abs(a.top-b.top);return c<d?babelHelpers["extends"]({},b,{left:a.left}):babelHelpers["extends"]({},b,{top:a.top})}function a(a){__p&&__p();return function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){return c.apply(this,arguments)||this}var e=d.prototype;e.render=function(){var c=this;return b("React").createElement(B,null,function(d){var e=d.onDragStart,f=d.onDragChange,g=d.onDragEnd;d=d.positionDelta;return b("React").createElement(a,babelHelpers["extends"]({},c.props,{onDragChange:f,onDragEnd:g,onDragStart:e,positionDelta:d}))})};return d}(b("React").PureComponent)}function c(a){__p&&__p();return function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){return c.apply(this,arguments)||this}var e=d.prototype;e.render=function(){var c=this;return b("React").createElement(B,null,function(d){d=d.snapGuides;return b("React").createElement(a,babelHelpers["extends"]({},c.props,{snapGuides:d}))})};return d}(b("React").PureComponent)}function d(a){__p&&__p();return b("protonConnect")({mapStateToProps:function(c,d){var e=c.selection,f=e.shouldShowSelectionChrome;e=e.selectedItemIDs;var h=v(c);h=n(h,d.itemID);var i=b("ProtonInstancePath").toObject(d.cymbalPath);i=i.cymbalInstanceIDs;i=i.length===0&&h&&(h.parentGroupID==null||c.canvas.heldKeys.isMetaKeyDown);return babelHelpers["extends"]({},a.mapStateToProps(c,d),{entry:g(c,{instancePath:d.cymbalPath,itemID:d.itemID}),isSelected:f&&e.has(d.itemID),isSelectable:i})},mapDispatchToProps:a.mapDispatchToProps,component:function(c){var d=c.entry;c.isSelectable;var e=c.isSelected,f=babelHelpers.objectWithoutPropertiesLoose(c,["entry","isSelectable","isSelected"]);return b("React").createElement(B,null,function(c){var g=c.onDragStart,h=c.onDragChange,i=c.onDragEnd;c=c.positionDelta;return b("React").createElement(a.component,babelHelpers["extends"]({},f,{isAnyChildSelected:d.isAnyChildSelected,isDirectChildSelected:d.isDirectChildSelected,isFixed:d.isFixed,isLocked:d.isLocked,isSelected:e,onDragChange:h,onDragEnd:i,onDragStart:g,pageRelativePosition:d.position,positionDelta:e?c:null}))})}})}e.exports={withDelta:a,withSnapGuides:c,DeltaProvider:z,protonConnectWithDelta:d,DeltaConsumer:B}}),null);
__d("ProtonCanvasPageItem.react",["ProtonAnimationSelectors","ProtonCanvasCymbal.react","ProtonCanvasElement.react","ProtonCanvasGroup.react","ProtonCanvasSelectors","ProtonDeltaStore","ProtonPageSelectors","ProtonPositionSelectors","ProtonResizeNotifier","ProtonSelectors","React","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationSelectors").getIsItemFading,h=b("ProtonAnimationSelectors").selectAnimationStyles,i=b("ProtonCanvasSelectors").getParentGroupAlignment,j=b("ProtonCanvasSelectors").selectItemForInstancePath,k=b("ProtonCanvasSelectors").selectItemMargins;a=b("ProtonDeltaStore").protonConnectWithDelta;var l=b("ProtonPageSelectors").getActivePageID,m=b("ProtonPositionSelectors").selectPageSize,n=b("ProtonSelectors").getParentGroupID,o=b("ProtonSelectors").selectTransformedPageForInstancePath;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){var c=this.props,d=c.cymbalPath,e=c.dispatch,f=c.isInDynamicGroup;c=c.parentGroupID;var g=a.isHidden!==this.props.isHidden&&!this.props.isFading||a.isFading&&!this.props.isFading;a=a.layoutMargins!==this.props.layoutMargins;if(!f||c==null||!g&&!a)return;b("ProtonResizeNotifier").get(e).childResized(d,c)};d.render=function(){if(this.props.isHidden&&!this.props.isFading)return null;switch(this.props.type){case"element":return b("React").createElement(b("ProtonCanvasElement.react"),{animationStyles:this.props.animationStyles,cymbalPath:this.props.cymbalPath,hasDragHandles:this.props.hasDragHandles,isAnimating:this.props.isAnimating,isAnyChildSelected:this.props.isAnyChildSelected,isDirectChildSelected:this.props.isDirectChildSelected,isFixed:this.props.isFixed,isGrayscaleActive:this.props.isGrayscaleActive,isHighlightingVisible:this.props.isHighlightingVisible,isInDynamicGroup:this.props.isInDynamicGroup,isLive:this.props.isLive,isParentDragging:this.props.isParentDragging,itemID:this.props.itemID,layoutMargins:this.props.layoutMargins,onExecuteInteraction:this.props.onExecuteInteraction,pageID:this.props.pageID,pageRelativePosition:this.props.pageRelativePosition,pageSize:this.props.pageSize,parentAlignment:this.props.parentAlignment,parentLayoutDirection:this.props.parentLayoutDirection,positionDelta:this.props.positionDelta});case"group":return b("React").createElement(b("ProtonCanvasGroup.react"),{animationStyles:this.props.animationStyles,cymbalPath:this.props.cymbalPath,dispatch:this.props.dispatch,hasDragHandles:this.props.hasDragHandles,isAnimating:this.props.isAnimating,isAnyChildSelected:this.props.isAnyChildSelected,isDirectChildSelected:this.props.isDirectChildSelected,isFixed:this.props.isFixed,isGrayscaleActive:this.props.isGrayscaleActive,isInDynamicGroup:this.props.isInDynamicGroup,isLive:this.props.isLive,isParentDragging:this.props.isParentDragging,itemID:this.props.itemID,layoutMargins:this.props.layoutMargins,onExecuteInteraction:this.props.onExecuteInteraction,pageID:this.props.pageID,pageRelativePosition:this.props.pageRelativePosition,pageSize:this.props.pageSize,parentAlignment:this.props.parentAlignment,parentLayoutDirection:this.props.parentLayoutDirection,positionDelta:this.props.positionDelta,protonCanvasPageItems:this.props.protonCanvasPageItems});case"cymbal":return b("React").createElement(b("ProtonCanvasCymbal.react"),{animationStyles:this.props.animationStyles,cymbalPath:this.props.cymbalPath,dispatch:this.props.dispatch,isAnimating:this.props.isAnimating,isAnyChildSelected:this.props.isAnyChildSelected,isDirectChildSelected:this.props.isDirectChildSelected,isFixed:this.props.isFixed,isInDynamicGroup:this.props.isInDynamicGroup,isLive:this.props.isLive,isParentDragging:this.props.isParentDragging,itemID:this.props.itemID,layoutMargins:this.props.layoutMargins,onExecuteInteraction:this.props.onExecuteInteraction,pageID:this.props.pageID,pageRelativePosition:this.props.pageRelativePosition,pageSize:this.props.pageSize,parentAlignment:this.props.parentAlignment,parentLayoutDirection:this.props.parentLayoutDirection,positionDelta:this.props.positionDelta,protonCanvasPageItems:this.props.protonCanvasPageItems});default:this.props.type}return null};return c}(b("React").PureComponent);d=a({mapStateToProps:function(a,c){var d=a.selection,e=d.shouldShowSelectionChrome;d=d.selectedItemIDs;var f=o(a,{instancePath:c.cymbalPath}),p=f&&f.id||l(a),q=c.itemID,r=c.cymbalPath,s={itemID:q,instancePath:r};return{animationStyles:h(a,s),isAnimating:(r=((r=a.animation.animationByInstancePath.get(r))==null?void 0:r.animationStatus)==="playing")!=null?r:!1,hasDragHandles:e&&b("first")(d)===q,isFading:g(a,s),isGrayscaleActive:a.view.isGrayscaleActive,isHidden:(e=(r=j(a,s))==null?void 0:r.isHidden)!=null?e:!1,isHighlightingVisible:a.canvas.isHighlightingVisible,pageID:p,pageSize:m(a),parentAlignment:i(a,s),parentGroupID:f?n(f,q):null,layoutMargins:k(a,{instancePath:c.cymbalPath,itemID:q})}},mapDispatchToProps:function(a){return{dispatch:a}},component:c});e.exports=d}),null);
__d("ProtonCanvasPageItems.react",["ProtonCanvasPageItem.react","ProtonItemUtils","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemUtils").getItemID;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").createElement(b("React").Fragment,null,this.props.items.map(function(d){var e;return b("React").createElement(b("ProtonCanvasPageItem.react"),{cymbalPath:a.props.cymbalPath,isInDynamicGroup:a.props.isInDynamicGroup,isLive:a.props.isLive,isParentDragging:(e=a.props.isParentDragging)!=null?e:!1,itemID:g(d),key:g(d),onExecuteInteraction:a.props.onExecuteInteraction,parentLayoutDirection:a.props.parentLayoutDirection,protonCanvasPageItems:c,type:d.type})}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProtonVRRendererLazy.react",["FDSSpinner.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("ProtonVRRenderer.react").__setRef("ProtonVRRendererLazy.react"));a=function(a){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("FDSSpinner.react"),{size:"small"})},b("React").createElement(g,a))};e.exports=a}),null);
__d("addTimerProps",["React","cancelAnimationFrame","cancelIdleCallback","clearImmediate","clearInterval","clearTimeout","requestAnimationFrame","requestIdleCallback","setImmediate","setInterval","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c){c===void 0&&(c=!1);return function(d){for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];var h=a.apply(void 0,[function(){!c&&b.has(h)&&b["delete"](h),d.apply(void 0,arguments)}].concat(f));b.add(h);return h}}function h(a,b){return function(c){b.has(c)&&(a(c),b["delete"](c))}}function a(a){__p&&__p();return function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){var a,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=new Set(),d.$2=new Set(),d.$3=new Set(),d.$4=new Set(),d.$5=new Set(),d.$6=h(b("clearTimeout"),d.$1),d.$11=g(b("setTimeout"),d.$1),d.$7=h(b("clearInterval"),d.$2),d.$12=g(b("setInterval"),d.$2,!0),d.$8=h(b("clearImmediate"),d.$5),d.$13=g(b("setImmediate"),d.$5),d.$9=h(b("cancelAnimationFrame"),d.$3),d.$14=g(b("requestAnimationFrame"),d.$3),d.$10=h(b("cancelIdleCallback"),d.$4),d.$15=g(b("requestIdleCallback"),d.$4),a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.componentWillUnmount=function(){this.$1.forEach(this.$6),this.$2.forEach(this.$7),this.$5.forEach(this.$8),this.$3.forEach(this.$9),this.$4.forEach(this.$10)};e.render=function(){return b("React").createElement(a,babelHelpers["extends"]({setTimeout:this.$11,clearTimeout:this.$6,setInterval:this.$12,clearInterval:this.$7,setImmediate:this.$13,clearImmediate:this.$8,requestAnimationFrame:this.$14,cancelAnimationFrame:this.$9,requestIdleCallback:this.$15,cancelIdleCallback:this.$10},this.props))};return d}(b("React").PureComponent)}e.exports=a}),null);
__d("ProtonPreviewPage.react",["cx","ProtonCanvasPageItems.react","ProtonConstants","ProtonInstancePath","ProtonLogger","ProtonPageItemSelectors","ProtonPositionSelectors","ProtonSelectors","ProtonUtils","React","addTimerProps","gkx","protonConnect"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonConstants").CONTAIN_FIXED_ELEMENTS,i=b("ProtonConstants").ITEMS_CONTAINER_CSS_GRID_STYLE,j=b("ProtonPageItemSelectors").getRootItems,k=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,l=b("ProtonPositionSelectors").selectPageSizeForPageID,m=b("ProtonSelectors").selectTransformedPageForPageID,n=b("ProtonUtils").getColorValue,o=b("React").Profiler;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a,b){var d=c.props.page;if(!d)return;c.props.onExecuteInteraction(d,a,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.page;a&&a.fromTemplateMetadata&&b("ProtonLogger").logPreviewFeature("template");this.$1()};d.componentDidUpdate=function(a){var b;((b=this.props.page)==null?void 0:b.id)!==((b=a.page)==null?void 0:b.id)&&this.$1()};d.$1=function(){var a=this,c=this.props.page,d=c==null?void 0:c.interactions.onLoad;if(c&&d){if(d.pageID===c.id)return;if(this.props.isAnimating===!0)return;this.props.setImmediate(function(){a.$2(d,b("ProtonInstancePath").createFromPageID(c.id))})}};d.$3=function(a,c,d,e,f,g,h){a=c==="mount"?"perf_preview_initial_render":"perf_preview_switch_page_render";new(b("ProtonLogger"))(a).setElapsedMs(d).log()};d.render=function(){var a=this.props.page;return!a?null:b("React").createElement(o,{id:"proton-preview",onRender:this.$3},b("React").createElement("div",{className:"_10l4",name:"proton-screenshot-container",style:babelHelpers["extends"]({WebkitFontSmoothing:"subpixel-antialiased",background:n(a.backgroundColor),filter:this.props.isGrayscaleActive?"grayscale(100%)":null,height:Math.floor(this.props.pageSize.height),pointerEvents:"auto"},this.props.isAnimating===!0?h:null,{width:Math.floor(this.props.pageSize.width)},this.props.style)},b("React").createElement("div",{className:"_10l5","data-proton-elements":!0,style:b("gkx")("837344")?babelHelpers["extends"]({},i,{position:"static",width:"100%",height:"100%"}):{}},b("React").createElement(b("ProtonCanvasPageItems.react"),{cymbalPath:b("ProtonInstancePath").createFromPageID(a.id),isInDynamicGroup:!1,isLive:!0,items:j(a),onExecuteInteraction:this.$2,parentLayoutDirection:null}))))};return c}(b("React").PureComponent);e.exports=b("protonConnect")({mapStateToProps:function(a,b){b={pageID:b.pageID};return{isGrayscaleActive:a.view.isGrayscaleActive,page:m(a,b),pageSize:l(a,b),measuredPositionByInstancePath:k(a)}},mapDispatchToProps:function(){return{}},component:b("addTimerProps")(a)})}),null);
__d("ProtonCommentsConstants",["ProtonConstants","ProtonLogger"],(function(a,b,c,d,e,f){"use strict";a=b("ProtonConstants").EMPTY_MAP;c=Object.freeze({annotatingTargetID:null,annotationsByTargetID:a,hasCommentPreparationError:!1,hasCommentsPanelPreparationError:!1,isLeavingAnnotation:!1,isPreparingCommentsPanel:!1,isPreparingForComment:!1,latestAttachmentID:null,latestProjectVersionFromHistory:null});e.exports={INITIAL_COMMENTS_STATE:c,BADGE_SIZE:24,PILL_SIZE:28,commentsFeatureLogger:b("ProtonLogger").createFeatureLogger("Comments")}}),null);
__d("ProtonInitialStateConstants",["CurrentUser","ProtonCommentsConstants","ProtonConstants","ProtonHistoryConstants","ProtonVRConstants","animated","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ProtonCommentsConstants").INITIAL_COMMENTS_STATE;c=b("ProtonConstants").ANIMATION_EDITOR_PANEL_HEIGHT;d=b("ProtonConstants").BLANK_PROJECT;f=b("ProtonConstants").BOTTOM_PANEL_MIN_HEIGHT;var g=b("ProtonConstants").COMPONENT_PICKER_WIDTH,h=b("ProtonConstants").DEFAULT_DATA_SOURCES,i=b("ProtonConstants").DEFAULT_USER_SETTINGS,j=b("ProtonConstants").DEVTOOLS_PANEL_HEIGHT,k=b("ProtonConstants").EMPTY_ARRAY,l=b("ProtonConstants").EMPTY_MAP,m=b("ProtonConstants").EMPTY_SET,n=b("ProtonConstants").LEFT_PANEL_MIN_WIDTH,o=b("ProtonConstants").RIGHT_PANEL_MIN_WIDTH,p=b("ProtonHistoryConstants").INITIAL_HISTORY_STATE,q=b("ProtonVRConstants").DEFAULT_ENV_URI,r=b("ProtonVRConstants").INITIAL_PAGES_VISIBILITY_TOGGLED,s=Object.freeze({activePageID:d.pages[0].id,activePageIDAfterLoading:null,activePageStateIDsByCymbalPath:l,activeProjectID:d.id,addedSinceStateChangeItemIDs:m,editingElementID:null,editingNameItemID:null,editingNameItemType:null,expandedItemIDs:m,firstCymbalIndexInLastActivePageIDs:null,hoveredItem:null,isCanvasContextMenuShown:!1,isDraggingInReorderableList:!1,isScrollPointEditorShown:!1,isShowingPageResizeHandles:!1,lastActivePageIDs:k,lastSelectedElementID:null,lastSelectedPageID:null,lastSelectedPageStateIDByPageID:l,selectedItemIDs:m,selectedPageIDs:m,shouldShowSelectionChrome:!0,temporarilyCollapsedItemIDs:m,wasArtboardSelectedFromCanvasClick:!1});f=Object.freeze({bottomPanelMaxHeight:f,bottomPanelMode:null,canvasViewMode:"normal",contentStrategyStatusFilter:null,contentStrategyCollapsedSections:m,devicePixelRatio:1,heightByPanelMode:{animationEditor:c,devtools:j},isGrayscaleActive:!1,rightPanelMode:"properties",isScrollZooming:!1,isShowingGlobalNav:!0,isShowingLeftPanel:!0,isShowingRightPanel:!0,isShowingTopbar:!0,pageListHeight:400,pageStatePopoverPageID:null,leftPanelMaxWidth:n,leftPanelMode:"pages",leftPanelTab:"layers",rightPanelMaxWidth:o,widthByPanelMode:{componentPicker:g,lintIssues:n,pages:n,history:o,properties:o,comments:o},windowInnerHeight:768,windowInnerWidth:1024});c=Object.freeze({isAltKeyDown:!1,isMetaKeyDown:!1,isShiftKeyDown:!1,isSpaceKeyDown:!1,isZKeyDown:!1});j=Object.freeze({birdviewZoom:null,centerCanvasAtPositionOnNextRender:null,heldKeys:c,initialScrollLeft:0,initialScrollTop:0,insertingItem:null,isHighlightingVisible:!1,isCanvasScrolling:!1,metadataByArtboardID:b("immutable").Map(),mousePositionOnZoom:null,scrollLeft:0,scrollPositionOnNextRender:null,scrollTop:0,windowRelativePosition:{top:0,left:0,width:0,height:0},zoomByPageID:l});g=Object.freeze(h);n=Object.freeze({isSneezeGuardDisabled:!1});o=Object.freeze({dataSources:h,zoom:1,isFullScreenMode:!1,pagesVisibilityToggled:r,environmentURI:q});h=Object.freeze({animatedValue:new(b("animated").Value)(0),animatingItemIDsByInstancePath:l,animationByInstancePath:l,previousAnimatablePropsByInstancePath:b("immutable").Map()});r=Object.freeze({failedLinterIDs:m,isShowingIgnored:!1,issuesByLinterID:l,pendingLinterIDs:m});q=Object.freeze({abridgedProjectStatus:{hasEditPermission:!0,isSomeoneElseEditing:!1},allProjects:null,animation:h,animationEditor:null,canvas:j,dataSourceByVariableID:new Map(),debug:n,sharedDataSources:[],computedExpressionsByItemID:new Map(),groupPosts:[],doesProjectHaveUnsavedChanges:!1,lint:r,isIgnoringUnsupportedBrowser:!1,isLoadingProject:null,isOnLandingPage:!0,isProjectOutOfDate:!1,isSavingProject:!1,isOnline:!0,isUnsupportedBrowser:!1,isUploadingToPixelcloud:!1,itemStatusesByTargetID:l,landingSection:"home",measuredPositionByInstancePath:b("immutable").Map(),modals:k,mode:"edit",pendingUploads:k,project:d,projectComments:a,projectHistory:p,screenshots:{globalScale:1,pendingPageIDs:m},pageTemplates:k,pageTemplateEditor:{chosenImageFBID:"",chosenImageURI:"",isImageUploading:!1,newTemplateName:"",isPublic:!1,isSavingTemplate:!1,editModeData:{mode:"create",pageID:""},header:""},pageTemplateManager:{query:""},pageTemplatePicker:{query:"",selectedFilterCategory:"all"},preview:o,projectListState:{selectedFilter:"all",query:""},selection:s,sharedComponentEntryByID:l,toasts:k,userSettings:i,view:f,query:"uid:"+b("CurrentUser").getAccountID(),"native":{image:null}});h=Object.freeze({currentAppState:q,lastUndoSaved:0,nextAppStates:k,previousAppStates:k});e.exports={INITIAL_APP_STATE:q,INITIAL_CANVAS_STATE:j,INITIAL_DATA_SOURCES:g,INITIAL_HELD_KEYS:c,INITIAL_LINT_STATE:r,INITIAL_PREVIEW_STATE:o,INITIAL_SELECTION_STATE:s,INITIAL_STATE:h,INITIAL_VIEW_STATE:f}}),null);
__d("ProtonStatusConstants",["ProtonArtboardID","ProtonLogger"],(function(a,b,c,d,e,f){"use strict";a=b("ProtonArtboardID").getArtboardIDFromAPI;c=new Map([["content_final","glyphPositive"],["content_pending","glyphWarning"],["needs_content","badgeError"],["no_status","badgeAdvice"]]);d=new Map([["content_final","Content Final"],["content_pending","Content Pending"],["needs_content","Needs Content Strategy"],["no_status","No Status"]]);f=["needs_content","content_pending","content_final","no_status"];var g=new Map([["needs_content",136],["content_pending",95],["content_final",76],["no_status",58]]),h={selectedID:null,variationByPropPath:{}};a={artboardID:a(""),itemID:"",status:null,contentConfig:h};e.exports={CONTENT_STATUS_DISPLAY_VALUES:d,CONTENT_STATUS_COLORS:c,CONTENT_STATUSES:f,STATUS_PILL_WIDTH:g,statusesFeatureLogger:b("ProtonLogger").createFeatureLogger("Statuses"),DEFAULT_STATUS:a}}),null);
__d("ProtonViewConstants",[],(function(a,b,c,d,e,f){"use strict";a=48;b=48;e.exports={GLOBAL_NAV_WIDTH:a,TOP_BAR_HEIGHT:b}}),null);
__d("ProtonProjectStatusSelectors",["CurrentUser","ProtonConfig","ProtonConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").CURRENT_PROJECT_SCHEMA_VERSION,h=b("ProtonConstants").EMPTY_MAP;function i(a){return a.lastEditorID===b("CurrentUser").getAccountID()&&(a.lastEditorSessionID===b("ProtonConfig").sessionID||a.lastEditorSessionID===b("ProtonConfig").placeholderSessionID)}function j(a){var c=b("CurrentUser").getAccountID();return a.owner.id===c}function k(a){if(!a)return!1;var c=b("CurrentUser").getAccountID();return j(a)||a.editors.has(c)}function a(a){return k(a)&&(i(a)||!a.isBeingEdited)}function c(a,b){return(a=a.viewers.get(b))!=null?a.time:a}function d(a,b){a=b===a.owner.id?a.owner:a.editors.get(b);return(b=a)!=null?b.time:b}function f(a,c){var d=Date.now()/1e3;return{currentTime:d,editors:h,isBeingEdited:!1,lastEditorID:a.id,lastEditorSessionID:b("ProtonConfig").sessionID,owner:babelHelpers["extends"]({},a,{time:d}),projectSchemaVersion:g,version:0,viewers:h,projectID:c}}function l(a){return{hasEditPermission:k(a),isSomeoneElseEditing:!i(a)&&a.isBeingEdited}}e.exports={wasLastEditor:i,isOwner:j,hasEditPermissions:k,canCurrentlyEditProject:a,getLastViewedTime:c,getLastEditedTime:d,getDefaultProjectStatus:f,getAbridgedProjectStatus:l}}),null);
__d("ProtonProjectStatusStore",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a=function(){__p&&__p();function a(){this.$1=null,this.$2=new(b("EventEmitter"))()}a.getSingleton=function(){g||(g=new a());return g};var c=a.prototype;c.updateProjectStatus=function(a){this.$1=a,this.$2.emit("projectStatusUpdate",a)};c.subscribe=function(a){return this.$2.addListener("projectStatusUpdate",a)};c.getState=function(){return this.$1};return a}();e.exports=a}),null);
__d("ProtonProjectResourceListener",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Set(),this.$2=new Set(),this.$4=!1}var b=a.prototype;b.onResourceStart=function(a){this.$2.has(a)||this.$1.add(a)};b.onResourceLoad=function(a){this.$1["delete"](a),this.$2.add(a),this.$1.size===0&&this.$3&&!this.$4&&(this.$3(),this.$5())};b.callWhenPendingFinish=function(a){this.$1.size===0&&!this.$4&&(a(),this.$5()),this.$3=a};b.$5=function(){this.$1=new Set(),this.$2=new Set(),this.$3=null,this.$4=!0};return a}();e.exports=a}),null);
__d("protonBatchMeasuredItemEnhancer",["ProtonInstancePath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.dispatch,d=null,e=new Map(),f=function(){d=null;if(e.size===0)return;var a=e;e=new Map();c({type:"batch measured items",measuredPositionByInstancePath:a})},g=function(){d==null&&(d=requestAnimationFrame(f))},h=function(d){__p&&__p();if(d.type==="measured item"){var f=d.cymbalPath,h=d.itemID,i=d.pageID,j=d.position;f=f||b("ProtonInstancePath").create(i);i=b("ProtonInstancePath").add(f,h);f=e.get(i);e.set(i,babelHelpers["extends"]({},f,j));g();return d}else if(d.type==="measured child coords"){h=d.cymbalPath;i=d.measurements;f=d.pageID;var k=h||b("ProtonInstancePath").create(f);i.forEach(function(c){var a=c.itemID,d=c.left;c=c.top;a=b("ProtonInstancePath").add(k,a);var f=e.get(a);e.set(a,babelHelpers["extends"]({},f,{left:d,top:c}))});g();return d}j=a.getState();h=c(d);f=a.getState();j.currentAppState.project.id!==f.currentAppState.project.id&&(e=new Map());return h};return babelHelpers["extends"]({},a,{dispatch:h})}e.exports=a}),null);
__d("ProtonAnnotationUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="::";function a(a){var b=a.pageID,c=a.pageStateID;a=a.itemID;return[b,c,a].join(g)}function b(a){a=a.split(g);var b=a[0],c=a[1];a=a[2];return{pageID:b,pageStateID:c||null,itemID:a}}e.exports={createAnnotationTargetID:a,parseAnnotationTargetID:b}}),null);
__d("ProtonCommentsUpdaters",["ProtonAnnotationUtils","ProtonPageSelectors","ProtonSelectors","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnnotationUtils").parseAnnotationTargetID,h=b("ProtonPageSelectors").getActivePageID,i=b("ProtonSelectors").getSelectedItemIDs;function j(a,b){return babelHelpers["extends"]({},a,{projectComments:babelHelpers["extends"]({},a.projectComments,b)})}function k(a,c){__p&&__p();var d=a.projectComments.annotatingTargetID,e=c.projectComments.annotatingTargetID;if(e==null||d!==e)return!1;if(a.project.id!==c.project.id)return!0;if(h(a)!==h(c))return!0;if(a.projectHistory.selectedHistoryEntryID!==c.projectHistory.selectedHistoryEntryID)return!0;d=i(c);a=g(e).itemID;return d.size!==1||b("first")(d)!==a?!0:!1}function a(a,b){return k(a,b)?j(b,{annotatingTargetID:null}):b}e.exports={clearAnnotatingItemID:a,updateComments:j}}),null);
__d("intersectSets",["filterSet"],(function(a,b,c,d,e,f){"use strict";function a(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("filterSet")(a,function(a){return d.every(function(b){return b.has(a)})})}e.exports=a}),null);
__d("ProtonAnimationUpdaters",["ProtonConstants","ProtonInstancePath","ProtonItemSelectors","ProtonSelectors","addToMap","differenceSets","flatMapArray","intersectSets","spread","unionSets"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_MAP,h=b("ProtonConstants").EMPTY_PAGE_STATE_ANIMATION,i=b("ProtonConstants").EMPTY_SET,j=b("ProtonItemSelectors").getAllItemIDs,k=b("ProtonItemSelectors").getItemAnimatableProps,l=b("ProtonSelectors").selectRawPageForInstancePath;function m(a,c){return b("spread")(a,{animation:b("spread")(a.animation,c)})}function a(a,c,d){var e;if(!d)return a;var f=a.animation.animationByInstancePath;e=(e=f.get(c))!=null?e:h;return m(a,{animationByInstancePath:new Map(f).set(c,b("spread")(e,d))})}function c(a,c){__p&&__p();var d=l(a,{instancePath:c});if(!d)return a;d=j(d);d=Array.from(d).reduce(function(d,e){var f=k(a,{itemID:e,instancePath:c});if(!f)return d;e=b("ProtonInstancePath").add(c,e);return d.set(e,f)},a.animation.previousAnimatablePropsByInstancePath);return m(a,{previousAnimatablePropsByInstancePath:d})}function d(a,c,d,e){__p&&__p();var f,g=l(a,{instancePath:c});if(!g)return a;d=b("differenceSets")(b("unionSets")(d,e),b("intersectSets")(d,e));e=new Set(b("flatMapArray")(Array.from(d),function(a){a=g.pageStateByID.get(a);return!a?[]:[].concat(Array.from(a.elementDiffByID.keys()),Array.from(a.groupDiffByID.keys()),Array.from(a.cymbalDiffByID.keys()))}));d=a.animation.animatingItemIDsByInstancePath;f=(f=a.animation.animatingItemIDsByInstancePath.get(c))!=null?f:i;if(e.size===0&&f.size===0)return a;f=new Set([].concat(Array.from(f),Array.from(e)));return m(a,{animatingItemIDsByInstancePath:b("addToMap")(d,c,f)})}function f(a){return m(a,{previousAnimatablePropsByInstancePath:a.animation.previousAnimatablePropsByInstancePath.clear()})}function n(a){return m(a,{animatingItemIDsByInstancePath:g})}e.exports={clearAnimatingItemIDsByInstancePath:n,clearPreviousAnimatablePropsByInstancePath:f,updateAnimatingItemIDsByInstancePath:d,updateAnimation:a,updatePreviousAnimatablePropsByInstancePath:c}}),null);
__d("ProtonCanvasWrapperSelectors",["ProtonArtboardSelectors","ProtonCanvasConstants","ProtonCSS","ProtonPositionSelectors","ProtonViewSelectors","memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["\n      background-image: url(","preview);\n      background-position: center center;\n      background-repeat: no-repeat;\n      background-size: cover;\n    "]);g=function(){return a};return a}var h=b("ProtonArtboardSelectors").selectArtboardLayoutSize,i=b("ProtonCanvasConstants").CONTENT_OFFSET_IN_WRAPPER,j=b("ProtonCSS").css,k=b("ProtonPositionSelectors").memoizeSize,l=b("ProtonPositionSelectors").selectPageSize,m=b("ProtonViewSelectors").getIsBirdview;function a(a){var b;m(a)?b=h(a):b=l(a);return k({height:b.height+i*2,width:b.width+i*2})}function c(a){if(a.project.platform!=="vr")return null;a=a.project.environmentURI;return a==null?null:n(a)}var n=b("memoizeWithArgsWeak")(function(a){return j(g(),a)});e.exports={getCanvasWrapperSize:a,getEnvironmentPreview:c}}),null);
__d("ProtonPreviewUpdaters",["ProtonVRConstants","spread"],(function(a,b,c,d,e,f){"use strict";var g=b("ProtonVRConstants").DEFAULT_ENV_URI;function h(a,c){return b("spread")(a,{preview:b("spread")(a.preview,c)})}function a(a){return h(a,{pagesVisibilityToggled:new Set(),environmentURI:(a=a.project.environmentURI)!=null?a:g})}e.exports={updatePreview:h,resetVRPreviewState:a}}),null);
__d("ProtonCanvasUpdaters",["ProtonArtboardSelectors","ProtonCanvasConstants","ProtonCanvasSelectors","ProtonCanvasWrapperSelectors","ProtonPageSelectors","ProtonPreviewUpdaters","ProtonUtils","ProtonViewSelectors","addToMap","clamp","shallowEqual","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonArtboardSelectors").selectActiveArtboardPosition,h=b("ProtonArtboardSelectors").selectArtboardPosition,i=b("ProtonArtboardSelectors").selectArtboardPositions,j=b("ProtonCanvasConstants").CONTENT_OFFSET_IN_WRAPPER,k=b("ProtonCanvasConstants").MAX_ZOOM_SIZE,l=b("ProtonCanvasSelectors").getCanvasSize,m=b("ProtonCanvasSelectors").getCenterOfSelectedItems,n=b("ProtonCanvasWrapperSelectors").getCanvasWrapperSize,o=b("ProtonPageSelectors").getActivePageID,p=b("ProtonPreviewUpdaters").updatePreview,q=b("ProtonUtils").getBoundingPositionForPositions,r=b("ProtonUtils").getZoomToFitDimensions,s=b("ProtonViewSelectors").getIsBirdview;function t(a,c){return b("spread")(a,{canvas:b("spread")(a.canvas,c)})}function a(a,c){var d=a.canvas.windowRelativePosition;return b("shallowEqual")(d,c)?a:t(a,{windowRelativePosition:c})}function c(a,c){return t(a,{heldKeys:b("spread")(a.canvas.heldKeys,c)})}function d(a,b,c){a=u(a,c.type==="scroll"?y(a,b):x(a,b));return t(a,{centerCanvasAtPositionOnNextRender:c.allowCenterOnSelection===!0&&a.userSettings.shouldCenterOnZoom?m(a):null,mousePositionOnZoom:c.mousePosition})}function u(a,c){switch(a.mode){case"edit":return t(a,s(a)?{birdviewZoom:c}:{zoomByPageID:b("addToMap")(a.canvas.zoomByPageID,o(a),c)});case"preview":return p(a,{zoom:c});default:a.mode}return a}var v=16;function w(a){var b=n(a);a=l(a);var c=a.height/b.height;a=a.width/b.width;return Math.max(c,a)}function x(a,b){a=w(a);b=Math.min(Math.round(b/a)*a,v);return b>=a?b:a}function y(a,c){a=w(a);return b("clamp")(c,a,v)}function f(a,b){b=h(a,{artboardID:b});return A(a,b)}function z(a){__p&&__p();var c=q(Array.from(i(a).values()));if(c==null)return a;a=a;var d=babelHelpers["extends"]({},c,{height:b("clamp")(c.height,0,k),width:b("clamp")(c.width,0,k)});if(d.height!==c.height||d.width!==c.width){c=g(a);a=t(a,{centerCanvasAtPositionOnNextRender:{height:d.height,width:d.width,top:c.top-j,left:c.left-j}})}return A(a,d)}function A(a,b){var c=r(l(a),b.width,b.height);a=u(a,c);return C(a,b)}function B(a){return C(a,g(a))}function C(a,b){return t(a,{centerCanvasAtPositionOnNextRender:babelHelpers["extends"]({},b,{top:b.top-j,left:b.left-j})})}e.exports={updateCanvas:t,updateCanvasPosition:a,getMinimumZoom:w,snapToNearestZoom:x,scrollZoom:y,updateHeldKeys:c,updateRawZoom:u,updateToCenterActiveArtboard:B,updateZoom:d,updateZoomToFitArtboard:f,updateZoomToFitAllArtboards:z}}),null);
__d("ProtonSharedComponentSelectors",["ProtonItemUtils","ProtonPageSelectors","ProtonSelectorCreators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemUtils").getActualItem,h=b("ProtonItemUtils").isCymbal,i=b("ProtonPageSelectors").getPage,j=b("ProtonPageSelectors").getRawActivePage,k=b("ProtonPageSelectors").selectPageLists;b=b("ProtonSelectorCreators").createProtonSelector;b=b.logged("selectAllSharedComponentIDByPageID",function(a){return k(a).hiddenPages},a);function a(a){var b=new Map();a.forEach(function(a){var c;c=(c=a.sharedComponentMetadata)==null?void 0:c.sharedComponentID;c!=null&&b.set(a.id,c)});return b}function c(a){__p&&__p();a=k(a);var b=a.hiddenPages,c=a.cymbalPages;a=a.normalPages;a=a.concat(c);var d=new Map();a.forEach(function(a){Array.from(a.cymbalByID.values()).forEach(function(a){var c,e=b.find(function(b){return b.id===a.cymbalPageID});c=e==null?void 0:(c=e.sharedComponentMetadata)==null?void 0:c.sharedComponentID;if(e&&c!=null){e=d.get(c);d.set(c,e!=null?e+1:1)}})});return d}function d(a){return new Set(a.project.pages.map(function(b){var c;return((c=b.sharedComponentMetadata)==null?void 0:c.sourceProjectID)===a.project.id?(c=b.sharedComponentMetadata)==null?void 0:c.sharedComponentID:null}).filter(Boolean))}function f(a,b){__p&&__p();var c=new Map();b.forEach(function(b){if(!l(a,b))return;b=g(j(a),b);if(b==null||b.type!=="cymbal")return;var d=c.get(b.cymbalPageID);c.set(b.cymbalPageID,d?d.add(b.id):new Set([b.id]))});return c}function l(a,b){b=g(j(a),b);if(b&&h(b)){a=i(a,b.cymbalPageID);return a!=null&&((b=a.sharedComponentMetadata)==null?void 0:b.sharedComponentID)!=null}return!1}function m(a,b){b=g(j(a),b);if(b&&h(b)){var c;b=i(a,b.cymbalPageID);return b!=null&&((c=b.sharedComponentMetadata)==null?void 0:c.sharedComponentID)!=null&&((c=b.sharedComponentMetadata)==null?void 0:c.sourceProjectID)===a.project.id}return!1}e.exports={getIsItemASharedComponent:l,getIsItemASourceSharedComponent:m,getSharedComponentCymbalInstanceIDsByCymbalPageID:f,getEditableSharedComponentIDs:d,getSharedComponentCountByID:c,getSharedComponentIDByPageID:a,selectAllSharedComponentIDByPageID:b}}),null);
__d("ProtonItemListSelectors",["ProtonCanvasSelectors","ProtonPageItemSelectors","ProtonSelectorCreators","ProtonSelectors","ProtonSharedComponentSelectors","ProtonVisitor","filterSet","last"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectItemForInstancePath,h=b("ProtonPageItemSelectors").getRootItems,i=b("ProtonSelectorCreators").createDeepEqualSelector,j=b("ProtonSelectorCreators").createProtonSelector,k=b("ProtonSelectors").getSelectedItemIDs,l=b("ProtonSelectors").selectActivePage,m=b("ProtonSelectors").visitAncestors,n=b("ProtonSharedComponentSelectors").getIsItemASharedComponent,o=b("ProtonSharedComponentSelectors").getIsItemASourceSharedComponent,p=new Map([["RichText","text"],["Hotspot","cursor-click"],["Rectangle","border-sides-all"],["Ellipse","circle"],["Image","image"],["RectangleVR","border-sides-all"],["TextVR","text"],["ImageVR","image"],["EllipseVR","circle"],["HotspotVR","cursor-click"]]),q=new Map([["scrolling","scrolling-container"],["masking","merge-subtract"]]),r=new Map([["horizontal","dynamic-row"],["vertical","dynamic-column"],["wrap","dynamic-wrap"]]),s=new Map([["horizontal","Horizontal Dynamic Group"],["vertical","Vertical Dynamic Group"],["wrap","Wrapping Dynamic Group"]]);a=j.logged("selectExpandedItemIDs",l,k,function(a){return a.selection.expandedItemIDs},function(a){return a.selection.temporarilyCollapsedItemIDs},a);function a(a,c,d,e){var f=new Set(d);c.forEach(function(b){m(a,b,function(a){f.add(a)})});return b("filterSet")(f,function(a){return!e.has(a)})}c=j.logged("selectItemAndLevelOfNestingByIndexImpl",l,a,c);i=i(c,function(a){return a});function c(a,c){var d=[];b("ProtonVisitor").visitPagesForSidebar([a],{activePageID:a.id,expandedItemIDs:c,onItem:function(a){var b=a.itemID;a=a.levelOfNesting;d.push({itemID:b,levelOfNesting:a})}});return d}function d(a){return b("last")(k(a))}c=j.logged("selectLastSelectedItemIndex",i,d,function(a,b){if(b==null)return null;a=a.findIndex(function(a){return a.itemID===b});return a<0?null:a});l=j.logged("selectActivePageItems",l,function(a){return h(a)});function f(a,b){return a.some(function(a){return a.type==="group"&&b.has(a.groupID)})}j=j.logged("selectIsTopLevelGroupOpen",l,a,f);function t(a,b){__p&&__p();b=g(a,b);if(!b)return"patch";switch(b.type){case"element":var c;return(c=p.get(b.componentName))!=null?c:"patch";case"group":c=b.layout;var d=b.layoutDirection,e=c==="dynamic";return(e=e?r.get(d):q.get(c))!=null?e:"folder-filled";case"cymbal":d=n(a,{type:"cymbal",cymbalID:b.id});c=o(a,{type:"cymbal",cymbalID:b.id});return d&&!c?"link":"led";default:b.type}return"patch"}function u(a,b){__p&&__p();b=g(a,b);if(!b)return;switch(b.type){case"element":return b.componentName;case"group":var c=b.layout,d=b.layoutDirection;c=c==="dynamic";return c?s.get(d):"Group";case"cymbal":c=n(a,{type:"cymbal",cymbalID:b.id});d=o(a,{type:"cymbal",cymbalID:b.id});return c&&!d?"Shared Component":"Custom Component";default:b.type}return}e.exports={getIconNameForItem:t,getLastSelectedItemID:d,getTooltipForItem:u,selectExpandedItemIDs:a,selectIsTopLevelGroupOpen:j,selectItemAndLevelOfNestingByIndex:i,selectLastSelectedItemIndex:c}}),null);
__d("removeFromSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(!a.has(b))return a;a=new Set(a);a["delete"](b);return a}e.exports=a}),null);
__d("ProtonLintUpdaters",["ProtonProjectUpdaters","addToSet","removeFromSet","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonProjectUpdaters").updateProject;function a(a,c){var d=a.project.ignoredLintIssueIDs;d=b("addToSet")(d,c);return g(a,{ignoredLintIssueIDs:d})}function c(a,c){var d=a.project.ignoredLintIssueIDs;d=b("removeFromSet")(d,c);return g(a,{ignoredLintIssueIDs:d})}function d(a,c){return b("spread")(a,{lint:b("spread")(a.lint,c)})}e.exports={ignoreLintIssue:a,unignoreLintIssue:c,updateLint:d}}),null);
__d("ProtonHistoryUtils",["formatDate"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("formatDate")(a,{today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"})}e.exports={getTimestampForHistory:a}}),null);
__d("ProtonURLUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();c="!";var g="/intern/proton/";function h(a){var b="our.intern.facebook.com";return"https://"+b+g+a+"/"}function a(a,b){return h(a)+"?version="+b}function b(a){return h(a)+"?mode=preview"}e.exports={PAGE_STATE_SEPARATOR:c,PROTON_PATH:g,getProjectHistoryEntryURL:a,getProjectPreviewURL:b,getProjectURL:h}}),null);
__d("ProtonProjectHistorySelectors",["ProtonConstants","ProtonHistoryConstants","ProtonHistoryUtils","ProtonSelectorCreators","ProtonURLUtils","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY,h=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,i=b("ProtonHistoryUtils").getTimestampForHistory;f=b("ProtonSelectorCreators").createProtonSelector;var j=b("ProtonURLUtils").getProjectHistoryEntryURL;function a(a){return a.project.lastModifiedTime}var k=f.logged("selectHistoryEntries",function(a){return a.projectHistory.historyEntries},a,function(a,c){return!a?null:a.map(function(a){return a.id===h?b("spread")(a,{timestamp:c}):a})}),l=f.logged("selectActiveHistoryEntry",k,function(a){return a.projectHistory.selectedHistoryEntryID},c);function c(a,b){__p&&__p();if(!a)return null;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.id===b){e.isLoading;e.minorEntries;e.hasMoreEntries;e.pixelcloudAttachmentURL;e.pixelcloudAttachmentID;var f=babelHelpers.objectWithoutPropertiesLoose(e,["isLoading","minorEntries","hasMoreEntries","pixelcloudAttachmentURL","pixelcloudAttachmentID"]);return f}if(e.minorEntries)for(var f=e.minorEntries,e=Array.isArray(f),g=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=f.length)break;h=f[g++]}else{g=f.next();if(g.done)break;h=g.value}h=h;if(h.id===b)return h}}return null}var m=f.logged("selectActiveMajorHistoryEntry",k,function(a){return a.projectHistory.selectedHistoryEntryID},function(a,b){return a?(a=a.find(function(a){return a.id===b}))!=null?a:null:null});a=f.logged("selectActiveHistoryEntryName",l,a,function(a,b){if(!a||a.id===h)return"Last saved "+i(b);a.name?b=a.name+" - ":b="Backup from ";b+=i(a.timestamp);return b});var n=f.logged("selectNearestPixelcloudHistoryEntry",k,l,function(a,b){__p&&__p();if(!a||!b)return null;var c=null,d=!1;for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g.id===b.id&&(d=!0);if(g.pixelcloudAttachmentID){c=g;if(d)return c}g.minorEntries&&g.minorEntries.find(function(a){return a.id===(b==null?void 0:b.id)})&&(d=!0)}return c}),o=f.logged("selectPixelcloudAttachmentIDsFromHistory",k,function(a){return a?a.slice(1).reverse().map(function(a){return a.pixelcloudAttachmentID}):g});function d(a,b){a=a||g;var c=a.find(function(a){return a.id===b})||{};return b?c.name||"":"Version "+a.length}d=f.logged("selectHistoryEntryName",function(a,b){return a.projectHistory.historyEntries},function(a,b){return b.entryID},d);f=f.logged("selectNearestHistoryEntryURL",function(a){return a.project.id},k,function(a,b){b=b&&b[1];return b==null?null:j(a,b.id)});e.exports={getHistoryEntry:c,selectActiveHistoryEntry:l,selectActiveHistoryEntryName:a,selectActiveMajorHistoryEntry:m,selectHistoryEntries:k,selectHistoryEntryName:d,selectNearestHistoryEntryURL:f,selectNearestPixelcloudHistoryEntry:n,selectPixelcloudAttachmentIDsFromHistory:o}}),null);
__d("ProtonProjectHistoryUpdaters",["ProtonConstants","ProtonHistoryConstants","ProtonProjectHistorySelectors","addToMap","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_MAP,h=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,i=b("ProtonProjectHistorySelectors").getHistoryEntry;function j(a,b){return babelHelpers["extends"]({},a,{projectHistory:babelHelpers["extends"]({},a.projectHistory,b)})}function a(a,b){if(!k(a,b)||b===a.projectHistory.selectedHistoryEntryID)return a;a=babelHelpers["extends"]({},a,{isLoadingProject:"history"});return j(a,{selectedHistoryEntryID:b})}function c(a,c){var d=l(a);a=j(a,{historyEntries:c.map(function(a){var c=d.get(a.id);return b("spread")(a,{minorEntries:c||null,hasMoreEntries:c?!1:a.hasMoreEntries})})});return!k(a,a.projectHistory.selectedHistoryEntryID)?j(a,{selectedHistoryEntryID:h}):a}function k(a,b){a=a.projectHistory.historyEntries;return b===h?!0:Boolean(i(a,b))}function l(a){a=a.projectHistory.historyEntries;return!a?g:a.reduce(function(a,c){return b("addToMap")(a,c.id,c.minorEntries)},g)}e.exports={doesEntryExist:k,updateMajorEntries:c,updateProjectHistory:j,updateSelectedHistoryEntry:a}}),null);
__d("ProtonToastUpdaters",["ProtonClientIDs","ProtonConstants","addToSet","isStringNullOrEmpty","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY;function h(a,b,c){return m(a,{type:"generic",message:b,toastType:c,canClose:!0,shouldAutoClose:c==="information"||c==="success"})}function a(a,b,c){return m(a,{type:"generic",isMarkdown:!0,message:b,toastType:c,canClose:!0,shouldAutoClose:c==="information"||c==="success"})}function c(a){return i({state:a,message:"When deleting items in a state they are deleted everywhere. If you want to hide them in the current state you can select them and press \u2318\u21e7H to hide them instead.",type:"warning",id:"state-delete"})}function d(a){return i({state:a,message:'Are you tired of duplicating pages? Try page states instead. To get started, right click a page and click "Add Page State".',type:"information",id:"duplicate-page"})}function f(a){return m(a,{type:"generic",toastType:"warning",canClose:!0,shouldAutoClose:!0,title:"Paste failed",message:"It looks like the content you are pasting is from a newer version of Proton. Please reload Proton and try again."})}function i(a){var b=a.state,c=a.message,d=a.type;a=a.id;return m(b,{type:"generic",oneTimeUniqueID:a,message:c,toastType:d,canClose:!0,shouldAutoClose:!1})}function j(a,b){return h(a,b+" is not supported while editing a page state. Switch back to the initial state and try again.","warning")}function k(a){return m(a,{type:"generic",oneTimeUniqueID:"semaphore import fyi",isMarkdown:!0,toastType:"success",canClose:!0,shouldAutoClose:!0,message:"## Layers Imported\nWe're currently working to improve Sketch and Pixelcloud import.\n\n[Learn more.](https://fburl.com/protonsemaphoreinputfyi)"})}function l(a,b,c){return b?m(a,c):o(a,c.type)}function m(a,c,d){__p&&__p();var e=a.toasts.some(function(a){return b("shallowEqual")(a.data,c)});if(c.type==="generic"){if(c.oneTimeUniqueID!=null&&a.userSettings.seenOneTimeToastIDs.has(c.oneTimeUniqueID))return a;if(c.isDeduped!==!1&&e)return a}else if(e)return a;e=d!=null?d:b("ProtonClientIDs").create("toast");return babelHelpers["extends"]({},a,{toasts:[].concat(a.toasts,[{id:e,data:c}])})}function n(a,b){a=a;var c=a.toasts.find(function(a){return a.id===b});a=p(a,c);c=a.toasts.filter(function(a){return a.id!==b});return babelHelpers["extends"]({},a,{toasts:c.length>0?c:g})}function o(a,b){if(!a.toasts.some(function(a){return a.data.type===b}))return a;var c=a.toasts.filter(function(a){return a.data.type!==b});return babelHelpers["extends"]({},a,{toasts:c.length>0?c:g})}function p(a,c){if(!c||c.data.type!=="generic")return a;c=c.data.oneTimeUniqueID;if(b("isStringNullOrEmpty")(c))return a;var d=a.userSettings.seenOneTimeToastIDs;return d.has(c)?a:babelHelpers["extends"]({},a,{userSettings:babelHelpers["extends"]({},a.userSettings,{seenOneTimeToastIDs:b("addToSet")(d,c)})})}e.exports={closeToast:n,closeToastByType:o,showDeleteInStateWarning:c,showDuplicatePageInformation:d,showInvalidStateOperationToast:j,showMarkdownToast:a,showMessageToast:h,showPastingFromNewerVersionWarning:f,showSemaphoreFYIToast:k,showToast:m,toggleToast:l}}),null);
__d("removeFromMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.has(b)){var c=new Map(a);c["delete"](b);return c}return a}e.exports=a}),null);
__d("ProtonSelectionUpdaters",["ProtonAnimationUpdaters","ProtonCanvasConstants","ProtonCanvasUpdaters","ProtonConstants","ProtonHistoryConstants","ProtonIDTypes","ProtonInitialStateConstants","ProtonInstancePath","ProtonItemListSelectors","ProtonItemUtils","ProtonLintUpdaters","ProtonPageSelectors","ProtonPageStateSelectors","ProtonPreviewUpdaters","ProtonProjectHistoryUpdaters","ProtonProjectStatusSelectors","ProtonSelectors","ProtonToastUpdaters","ProtonViewSelectors","ProtonVisitor","addToMap","addToSet","filterSet","immutable","mergeSets","nullthrows","removeFromMap","removeFromSet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationUpdaters").updateAnimatingItemIDsByInstancePath,h=b("ProtonAnimationUpdaters").updatePreviousAnimatablePropsByInstancePath,i=b("ProtonCanvasConstants").DEFAULT_SCROLL_OFFSET,j=b("ProtonCanvasUpdaters").updateCanvas,k=b("ProtonConstants").BLANK_PROJECT,l=b("ProtonConstants").DEFAULT_PAGE,m=b("ProtonConstants").DEFAULT_PAGE_STATE,n=b("ProtonConstants").EMPTY_ARRAY,o=b("ProtonConstants").EMPTY_MAP,p=b("ProtonConstants").EMPTY_SET,q=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,r=b("ProtonHistoryConstants").INITIAL_HISTORY_STATE,s=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,t=b("ProtonInitialStateConstants").INITIAL_CANVAS_STATE,u=b("ProtonInitialStateConstants").INITIAL_LINT_STATE,v=b("ProtonInitialStateConstants").INITIAL_PREVIEW_STATE,w=b("ProtonItemListSelectors").selectExpandedItemIDs,x=b("ProtonItemUtils").getItem,y=b("ProtonItemUtils").getItemID,z=b("ProtonLintUpdaters").updateLint,A=b("ProtonPageSelectors").getActivePageStateIDForEditMode,B=b("ProtonPageSelectors").getPageX,C=b("ProtonPageSelectors").getRawActivePage,D=b("ProtonPageStateSelectors").getDefaultPageStateIDsByCymbalPath,E=b("ProtonPageStateSelectors").getDefaultStateIDForPage,F=b("ProtonPageStateSelectors").isPageStateValidForPage,G=b("ProtonPreviewUpdaters").updatePreview,H=b("ProtonProjectHistoryUpdaters").updateProjectHistory,I=b("ProtonProjectStatusSelectors").getAbridgedProjectStatus,J=b("ProtonSelectors").selectRawPageForInstancePath,K=b("ProtonToastUpdaters").closeToastByType,L=b("ProtonToastUpdaters").showToast,M=b("ProtonViewSelectors").getZoom;function a(a,c,d,e){return O(a,c,function(a){return b("addToSet")(a,d)},e)}function c(a,c,d,e){return O(a,c,function(a){return b("removeFromSet")(a,d)},e)}function N(a){__p&&__p();var b=a.state,c=a.cymbalPath,d=a.pageStateID,e=a.shouldUpdateLastVisited;e=e===void 0?!0:e;var f=a.shouldCapturePreviousAnimatableValues;a=a.isFromCanvasClick;var g=d,h=J(b,{instancePath:c});if(!h||h&&g&&!h.pageStateByID.has(g))return b;d!==A(b)&&(b=U(b,{wasArtboardSelectedFromCanvasClick:!!a}));a=D(b,c,g?new Set([g]):p);b=Array.from(a).reduce(function(a,c){var b=c[0],d=c[1];return O(a,b,function(){return d},f)},b);b.mode==="edit"&&e&&(b=W(b,h.id,d));return U(b,{addedSinceStateChangeItemIDs:p})}function O(a,c,d,e){__p&&__p();var f,i=J(a,{instancePath:c});if(!i)return a;var j=c;f=(f=a.selection.activePageStateIDsByCymbalPath.get(j))!=null?f:p;d=d(f);var k=Array.from(d).reduce(function(a,b){return i.pageStateByID.has(b)&&a},!0);if(!k)return a;e&&(a=h(a,c),a=g(a,c,f,d));return U(a,{activePageStateIDsByCymbalPath:b("addToMap")(a.selection.activePageStateIDsByCymbalPath,j,d)})}function d(a,b){return O(a,b,function(){return p})}function f(a){__p&&__p();var c=a.state,d=a.projectID,e=a.pageID,f=a.pageStateIDs,g=a.historyEntryID;a.rightPanelMode;a.bottomPanelMode;a=e;var h=c.project;d!==c.selection.activeProjectID&&(h=babelHelpers["extends"]({},k,{id:d}),a&&(h.pages=[babelHelpers["extends"]({},l,{id:a})],f&&(h.pages[0].pageStateByID=new Map(Array.from(f).map(function(a){return[a,babelHelpers["extends"]({},m,{id:a})]})))));g&&(h=babelHelpers["extends"]({},h,{historyID:g}));g=c.allProjects?c.allProjects.find(function(a){return a.id===d}):null;c=H(c,r);c=Q(c,h,g?g.projectStatus:null);c=U(c,{activePageIDAfterLoading:e});f&&a&&(c=O(c,b("ProtonInstancePath").createFromPageID(a),function(){var a;return(a=f)!=null?a:new Set()}));return babelHelpers["extends"]({},c,{isLoadingProject:"foreground"})}function P(a,b,c){return Q(a,b,c)}function Q(a,c,d){__p&&__p();var e=a.selection.activePageIndexAfterLoading;e=e!=null&&c.pages[e]!=null?c.pages[e].id:a.selection.activePageIDAfterLoading;e=[e,a.selection.activePageID].find(function(a){return c.pages.some(function(b){return b.id===a})});!e&&a.selection.activePageIDAfterLoading?a=L(a,{type:"unknown page"}):a=K(a,"unknown page");var f=e||c.pages[0].id;e=a.project.id===c.id&&f===a.selection.activePageID;var g=b("nullthrows")(c.pages.find(function(a){return a.id===f})),h=c.historyID?c.historyID:q,i=a.selection,k=i.activePageStateIDsByCymbalPath;i=i.lastSelectedPageStateIDByPageID;a=K(a,"load project failed");a=U(a,{activePageID:f,activePageIDAfterLoading:null,activePageStateIDsByCymbalPath:o,activeProjectID:c.id,editingElementID:null,lastActivePageIDs:n,lastSelectedElementID:e&&a.selection.lastSelectedElementID&&x(g,a.selection.lastSelectedElementID)?a.selection.lastSelectedElementID:null,lastSelectedPageStateIDByPageID:e?i:o,selectedItemIDs:e?R(g,a.selection.selectedItemIDs):p,selectedPageIDs:e?b("filterSet")(a.selection.selectedPageIDs,function(a){return c.pages.some(function(b){return b.id===a})}):p,temporarilyCollapsedItemIDs:p});a=H(a,{selectedHistoryEntryID:h});e||(a=j(a,t),a=G(a,v),a=z(a,u));i=d?I(d):{hasEditPermission:!0,isSomeoneElseEditing:!1};a=babelHelpers["extends"]({},a,{abridgedProjectStatus:i,isLoadingProject:null,isOnLandingPage:!1,isProjectOutOfDate:!1,measuredPositionByInstancePath:a.project.id===c.id?a.measuredPositionByInstancePath:b("immutable").Map(),project:c});a=N({state:a,cymbalPath:b("ProtonInstancePath").createFromPageID(f),pageStateID:E(a,f)});if(e){g=b("ProtonInstancePath").create(f);h=k.get(g);if(h){d=b("filterSet")(h,function(b){return F(a,f,b)});i=Array.from(d);e=i[0];var l=i.slice(1);e!=null&&(a=N({state:a,cymbalPath:b("ProtonInstancePath").createFromPageID(f),pageStateID:e}));a=O(a,g,function(a){return b("mergeSets")(a,new Set(l))})}}return a}function R(a,c){c=b("filterSet")(c,function(b){return!!x(a,b)});return c.size?c:p}function S(a){__p&&__p();var c=a.state,d=a.pageID,e=a.pageStateID,f=a.cymbalOffset;a=a.isFromCanvasClick;if(!c.project.pages.some(function(a){return a.id===d}))return c;if(d!==c.selection.activePageID){c=U(c,{activePageID:d,activePageStateIDsByCymbalPath:o,addedSinceStateChangeItemIDs:p,editingElementID:null,firstCymbalIndexInLastActivePageIDs:null,lastActivePageIDs:T(c,f),lastSelectedPageID:null,wasArtboardSelectedFromCanvasClick:!!a,selectedItemIDs:p,selectedPageIDs:p,temporarilyCollapsedItemIDs:p});f=M(c);c=j(c,{initialScrollLeft:i*f,initialScrollTop:i*f})}e=e==="default for page"?E(c,d):e;e=e||s;c=N({state:c,cymbalPath:b("ProtonInstancePath").createFromPageID(d),pageStateID:e,isFromCanvasClick:a});return c}function T(a,b){b={pageID:a.selection.activePageID,cymbalOffset:b};return a.selection.lastActivePageIDs.concat([b])}function U(a,b){return babelHelpers["extends"]({},a,{selection:babelHelpers["extends"]({},a.selection,b)})}function V(a,c,d,e,f){__p&&__p();var g=B(a,d),h=new Set();switch(f){case"single":f=c.length===0;var i=c.every(function(b){return a.selection.selectedItemIDs.has(b)});if(f)h=new Set();else if(i)return a;else h=new Set(c);break;case"multi":h=new Set(a.selection.selectedItemIDs);c.forEach(function(a){h.has(a)?h["delete"](a):h.add(a)});break;case"range":var j=[];f=w(a);b("ProtonVisitor").visitPagesForSidebar([g],{expandedItemIDs:f,onItem:function(a){a=a.item;j.push(y(a))}});h=new Set(c);if(a.selection.lastSelectedElementID){i=j.indexOf(a.selection.lastSelectedElementID);f=j.indexOf(c[0]);if(i>=0){var k=Math.min(i,f);i=Math.max(i,f);for(var f=k;f<=i;f++)h.add(j[f])}}break}h=b("filterSet")(h,function(a){return!!x(g,a)});a=S({state:a,pageID:d,pageStateID:e});return U(a,{editingElementID:null,isShowingPageResizeHandles:!1,lastSelectedElementID:c[c.length-1],selectedItemIDs:h,shouldShowSelectionChrome:!0,temporarilyCollapsedItemIDs:h.size?a.selection.temporarilyCollapsedItemIDs:p})}function W(a,c,d){var e=a.selection.lastSelectedPageStateIDByPageID;d!==s?e=b("addToMap")(e,c,String(d)):e=b("removeFromMap")(e,c);return U(a,{lastSelectedPageStateIDByPageID:e})}function X(a){return N({state:a,pageStateID:A(a),cymbalPath:b("ProtonInstancePath").createFromPageID(C(a).id)})}e.exports={activatePage:S,activatePageState:N,applyPageState:a,clearActivePageStates:d,loadedProject:P,rememberPageID:T,removeMissingItemIDs:R,resetCymbalPageStates:X,selectItems:V,startLoadProject:f,unapplyPageState:c,updateActivePageStates:O,updateDefaultStateForPage:W,updateSelection:U}}),null);
__d("ProtonPropMetadataUtils",["ProtonClientIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.itemID,d=a.propPath;a=a.displayName;var e=b("ProtonClientIDs").create("propMetadata");return{id:e,itemID:c,propPath:d,displayName:a}}function c(a,b){var c=new Set();a.forEach(function(a){a.itemID===b&&c.add(a)});return c}e.exports={createPropMetadata:a,getPublishedPropsForItem:c}}),null);
__d("ProtonCopyPastePageUpdaters",["ProtonClientIDs","ProtonConstants","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateUtils","ProtonPropMetadataUtils","ProtonReducerUtils","ProtonSelectors","ProtonVisitor","filterMap","groupArrayAsMap","mapMap","mergeMaps","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_MAP,h=b("ProtonItemUtils").getItemID,i=b("ProtonItemUtils").getNames,j=b("ProtonItemUtils").isDynamicGroup,k=b("ProtonPageSelectors").getActivePageStateIDForEditMode,l=b("ProtonPageSelectors").getPageX,m=b("ProtonPageStateUtils").getMergeFunctionForPageItem,n=b("ProtonPropMetadataUtils").createPropMetadata,o=b("ProtonPropMetadataUtils").getPublishedPropsForItem,p=b("ProtonReducerUtils").createElement,q=b("ProtonReducerUtils").getUniqueName,r=b("ProtonReducerUtils").insertItems,s=b("ProtonSelectors").getBottomMostItemID,t=b("ProtonSelectors").getParentGroupID,u=b("ProtonSelectors").getTopMostItemID;function a(a){var c=a.page,d=a.items,e=a.elementByID,f=a.groupByID,g=a.cymbalByID,h=a.expressionsByItemID,i=a.propMetadataByID,j=a.shouldAssignUniqueName,k=a.areItemsFromDifferentPage,l=babelHelpers["extends"]({},c);a=d.map(function(a){a=v({elementByID:b("mergeMaps")(c.elementByID,e),groupByID:b("mergeMaps")(c.groupByID,f),cymbalByID:b("mergeMaps")(c.cymbalByID,g),expressionsByItemID:b("mergeMaps")(c.expressionsByItemID,h),propMetadataByID:b("mergeMaps")(c.propMetadataByID,i),item:a,parentGroupID:null,shouldReposition:!1,shouldAssignUniqueName:j,areItemsFromDifferentPage:k,pageState:null});if(!a)return null;l=babelHelpers["extends"]({},l,{elementByID:b("mergeMaps")(l.elementByID,a.newElementByID),groupByID:b("mergeMaps")(l.groupByID,a.newGroupByID),cymbalByID:b("mergeMaps")(l.cymbalByID,a.newCymbalByID),expressionsByItemID:b("mergeMaps")(l.expressionsByItemID,a.newExpressionsByItemID),propMetadataByID:b("mergeMaps")(l.propMetadataByID,a.newPropMetadataByID)});return a.newItem}).filter(Boolean);return{page:l,items:a}}function c(a,c,d,e,f){__p&&__p();e===void 0&&(e=!1);f===void 0&&(f=!0);var g=l(a,c);c=k(a);var i=c?g.pageStateByID.get(c):null,m=g;a=w(g,d);c=a.pluckedItems;d=b("groupArrayAsMap")(c,function(a){return t(g,a)});var n=new Set();d.forEach(function(a,c){__p&&__p();var d=[];a.forEach(function(a){a=v({elementByID:m.elementByID,groupByID:m.groupByID,cymbalByID:m.cymbalByID,expressionsByItemID:m.expressionsByItemID,propMetadataByID:m.propMetadataByID,item:a,parentGroupID:null,shouldReposition:e,shouldAssignUniqueName:f,areItemsFromDifferentPage:!1,pageState:i});if(!a)return;n.add(h(a.newItem));m=babelHelpers["extends"]({},m,{cymbalByID:b("mergeMaps")(m.cymbalByID,a.newCymbalByID),elementByID:b("mergeMaps")(m.elementByID,a.newElementByID),groupByID:b("mergeMaps")(m.groupByID,a.newGroupByID),expressionsByItemID:b("mergeMaps")(m.expressionsByItemID,a.newExpressionsByItemID),propMetadataByID:b("mergeMaps")(m.propMetadataByID,a.newPropMetadataByID)});d.push(a.newItem)});a=new Set(a.map(function(a){return h(a)}));a=j(g,c)?{where:"before item id",beforeItemID:b("nullthrows")(u(m,a))}:{where:"after item id",afterItemID:b("nullthrows")(s(m,a))};m=r(m,d,c,a)});return{page:m,duplicatedItemIDs:n}}function v(a){__p&&__p();var c=a.elementByID,d=a.groupByID,e=a.cymbalByID,f=a.expressionsByItemID,h=a.propMetadataByID,j=a.item,k=a.parentGroupID,l=a.shouldReposition,n=a.shouldAssignUniqueName,o=a.areItemsFromDifferentPage,r=a.pageState;switch(j.type){case"element":a=c.get(j.elementID);if(!a)return null;var s=r?r.elementDiffByID.get(j.elementID):null,t=s?m(j)(a,s):a;s=i(b("filterMap")(c,function(a){return!o||a.id!==t.id}));a=p(t,s,n);if(!a)return null;s=l?babelHelpers["extends"]({},t.position,{top:t.position.top+10,left:t.position.left+10}):t.position;a=babelHelpers["extends"]({},a,{parentGroupID:k||t.parentGroupID,position:s});if(!a)return null;s=f.get(t.id);s=s?new Map([[a.id,s]]):g;var u=y(h,t.id,a.id);return{newElementByID:new Map([[a.id,a]]),newGroupByID:g,newCymbalByID:g,newExpressionsByItemID:s,newPropMetadataByID:u,newItem:{type:"element",elementID:a.id}};case"group":s=d.get(j.groupID);if(!s)return null;u=r?r.groupDiffByID.get(j.groupID):null;var w=u?m(j)(s,u):s,x=b("ProtonClientIDs").create("group"),z=[],A=g,B=new Map(),C=g,D=new Map(),E=g;w.items.forEach(function(a){a=v({elementByID:b("mergeMaps")(c,A),groupByID:b("mergeMaps")(d,B),cymbalByID:b("mergeMaps")(e,C),expressionsByItemID:b("mergeMaps")(f,D),propMetadataByID:b("mergeMaps")(h,E),item:a,parentGroupID:x,shouldReposition:l,shouldAssignUniqueName:n,areItemsFromDifferentPage:o,pageState:r});a&&(z.push(a.newItem),A=b("mergeMaps")(A,a.newElementByID),B=b("mergeMaps")(B,a.newGroupByID),C=b("mergeMaps")(C,a.newCymbalByID),D=b("mergeMaps")(D,a.newExpressionsByItemID),E=b("mergeMaps")(E,a.newPropMetadataByID))});a=i(b("filterMap")(d,function(a){return!o||a.id!==w.id}));u=babelHelpers["extends"]({},w,{id:x,items:z,name:n?q(w.name,a):w.name,parentGroupID:k||w.parentGroupID});B.set(u.id,u);s=f.get(w.id);s&&D.set(u.id,s);return{newElementByID:A,newGroupByID:B,newCymbalByID:C,newExpressionsByItemID:D,newPropMetadataByID:E,newItem:{type:"group",groupID:u.id}};case"cymbal":a=e.get(j.cymbalID);if(!a)return null;s=r?r.cymbalDiffByID.get(j.cymbalID):null;u=s?m(j)(a,s):a;s=babelHelpers["extends"]({},u,{id:b("ProtonClientIDs").create("cymbal")});a=l?babelHelpers["extends"]({},u.position,{top:u.position.top+10,left:u.position.left+10}):u.position;s=babelHelpers["extends"]({},s,{parentGroupID:k||u.parentGroupID,position:a});k=y(h,u.id,s.id);return{newElementByID:g,newGroupByID:g,newCymbalByID:new Map([[s.id,s]]),newExpressionsByItemID:g,newPropMetadataByID:k,newItem:{type:"cymbal",cymbalID:s.id}};default:j.type}return null}function d(a,c){__p&&__p();var d=[];b("ProtonVisitor").visitItems(a,c,{onItem:function(a){a=a.item;d.push(a)}});var e=new Set(d.map(h));function f(a){return b("filterMap")(a,function(a,b){return!e.has(b)})}return{newPage:babelHelpers["extends"]({},a,{elementByID:f(a.elementByID),groupByID:f(a.groupByID),cymbalByID:f(a.cymbalByID),pageStateByID:b("mapMap")(a.pageStateByID,function(a){return babelHelpers["extends"]({},a,{elementDiffByID:f(a.elementDiffByID),groupDiffByID:f(a.groupDiffByID),cymbalDiffByID:f(a.cymbalDiffByID)})})}),allRemovedItemIDs:e}}function w(a,b){__p&&__p();var c=[],d=[];a.items.forEach(function(e){b.has(h(e))?c.push(e):d.push(e);if(e.type==="group"){e=x(a,e.groupID,b);var f=e.newPage;e=e.pluckedItemsFromGroup;a=f;c.push.apply(c,e)}});var e=babelHelpers["extends"]({},a,{items:d});return{newPage:e,pluckedItems:c}}function x(a,b,c){__p&&__p();var d=[],e=[],f=a.groupByID.get(b);if(!f)return{newPage:a,pluckedItemsFromGroup:d};f.items.forEach(function(b){c.has(h(b))?d.push(b):e.push(b);if(b.type==="group"){b=x(a,b.groupID,c);var f=b.newPage;b=b.pluckedItemsFromGroup;a=f;d.push.apply(d,b)}});d.length&&(a=babelHelpers["extends"]({},a,{groupByID:new Map(a.groupByID).set(b,babelHelpers["extends"]({},f,{items:e}))}));return{newPage:a,pluckedItemsFromGroup:d}}function y(a,b,c){a=o(a,b);var d=new Map();a.forEach(function(a){a=n({itemID:c,propPath:a.propPath,displayName:a.displayName});d.set(a.id,a)});return d}e.exports={duplicateItems:c,pluckItems:w,reIDItems:a,removeFromItemByIDMaps:d}}),null);
__d("ProtonPageUpdaters",["ProtonPageSelectors","ProtonPageStateUtils","ProtonProjectUpdaters","ProtonSelectionUpdaters","filterObject","filterSet","firstx","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPageSelectors").getActivePageID,h=b("ProtonPageSelectors").getActivePageStateIDForEditMode,i=b("ProtonPageSelectors").getPage,j=b("ProtonPageSelectors").getPageLists,k=b("ProtonPageSelectors").getPageX,l=b("ProtonPageSelectors").selectPageLists,m=b("ProtonPageSelectors").getPageState,n=b("ProtonPageSelectors").getSelectedPageList,o=b("ProtonPageStateUtils").getFilteredPageDiff,p=b("ProtonProjectUpdaters").updatePages,q=b("ProtonSelectionUpdaters").activatePage;function a(a,b,c,d){var e=k(a,b);return s(a,b,r(e,c,d))}function r(a,c,d){var e=m(a,c);return e?babelHelpers["extends"]({},a,{pageStateByID:b("mapMap")(a.pageStateByID,function(a){return a.id===c?babelHelpers["extends"]({},a,d):a})}):a}function c(a,c,d){__p&&__p();var e=i(a,c);if(!e)return d;c=c===g(a);var f=h(a);a=m(e,f);if(c&&a){var j=o(e,a.pageDiff,d);c=b("filterObject")(d,function(a,b){return!Object.prototype.hasOwnProperty.call(j,b)});return babelHelpers["extends"]({},c,{pageStateByID:b("mapMap")(e.pageStateByID,function(a){return a.id===f?babelHelpers["extends"]({},a,{pageDiff:j}):a})})}var k=babelHelpers["extends"]({},e,d);return babelHelpers["extends"]({},d,{pageStateByID:b("mapMap")(e.pageStateByID,function(a){return a.pageDiff?babelHelpers["extends"]({},a,{pageDiff:o(k,a.pageDiff)}):a})})}function s(a,b,c){__p&&__p();var d=a.project.pages,e=d.find(function(a){return a.id===b});if(!e)return a;if(c===e)return a;var f=babelHelpers["extends"]({},e,c);e=d.map(function(a){return a.id===b?f:a});return p(a,e)}function d(a,b){return a.project.pages.reduce(function(a,c){c=c.id;return s(a,c,b)},a)}function f(a,c){__p&&__p();var d=c;c=l(a);var e=c.cymbalPages,f=c.normalPages;c=c.hiddenPages;var h=new Set(c.map(function(a){return a.id}));c=f.concat(e);f=Array.from(d).filter(function(a){return!h.has(a)});c.length===f.length&&(d=b("filterSet")(d,function(b){return b!==a.project.pages[0].id}));e=a.project.pages.filter(function(a){return!d.has(a.id)});c=a.selection.activePageID;if(d.has(c)){var i;f=j(e,a.project.id);f=f.cymbalPages;var k=n(a),m=a.project.pages.findIndex(function(a){return d.has(a.id)});m=Math.max(0,m-1);m=e[m];!((i=m.isCymbal)!=null?i:!1)&&k==="cymbals"&&f.length&&(m=b("firstx")(f));c=m.id}i=a;c!==g(a)&&(i=q({state:a,pageID:c,pageStateID:"default for page"}));return e.length!==i.project.pages.length?p(i,e):i}e.exports={deletePages:f,getPageDiffUpdatesForPageUpdate:c,updateAllPages:d,updatePage:s,updatePageState:a,updatePageStateInPage:r}}),null);
__d("protonWrapItemUpdates",["ProtonConstants","ProtonCymbalComponentConfigs","ProtonInstancePath","ProtonItemUtils","ProtonPageStateUtils","ProtonPositionSelectors","ProtonSelectors","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_OBJECT,h=b("ProtonConstants").EMPTY_SET,i=b("ProtonCymbalComponentConfigs").selectComponentConfigByCymbalPageID,j=b("ProtonItemUtils").isItemHorizontallyResizable,k=b("ProtonItemUtils").isItemVerticallyResizable,l=b("ProtonPageStateUtils").getMergeFunctionForPageItem,m=b("ProtonPositionSelectors").getItemSize,n=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,o=b("ProtonPositionSelectors").getPageSize,p=b("ProtonPositionSelectors").getPosition,q=b("ProtonSelectors").applyTransformationsToPage,r=b("ProtonSelectors").getPageState;function a(a,b,c,d){__p&&__p();var e=b;b=c;if(b!=null){c=r(e,b);if(c&&b){c=i(a);e=q(e,b?new Set([b]):h,a.computedExpressionsByItemID,c,null,g)}}return function(b){__p&&__p();var c=b.actualItem,f=b.pageItem;b=b.itemIndex;b=d({actualItem:c,pageItem:f,itemIndex:b});if(!b)return null;b=s(a,e,c,f,b);b=t(a,e,c,b);b=x(a,e,c,f,b);b=w(c,b);return b}}function s(a,c,d,e,f){__p&&__p();f=f;if(!f.widthSizeBehavior&&!f.heightSizeBehavior)return f;e=l(e)(d,f);if(f.widthSizeBehavior){var g=f,h=g.widthSizeBehavior;g=babelHelpers.objectWithoutPropertiesLoose(g,["widthSizeBehavior"]);if(h!=="fit to children"&&!j(e))return g}if(f.heightSizeBehavior){h=f;g=h.heightSizeBehavior;h=babelHelpers.objectWithoutPropertiesLoose(h,["heightSizeBehavior"]);if(g!=="fit to children"&&!k(e))return h}g=n(a);e=m({itemOrID:d.id,measuredPositionByInstancePath:g,page:c,parentInstancePath:b("ProtonInstancePath").create(c.id)});f.widthSizeBehavior==="fixed"&&!(f.position&&f.position.width)&&(f=babelHelpers["extends"]({},f,{position:babelHelpers["extends"]({},f.position,{width:e.width})}));f.heightSizeBehavior==="fixed"&&!(f.position&&f.position.height)&&(f=babelHelpers["extends"]({},f,{position:babelHelpers["extends"]({},f.position,{height:e.height})}));return f}function t(a,c,d,e){__p&&__p();if(!e.positionType)return e;a=n(a);var f=o(c,a),g=p({itemOrID:d.id,measuredPositionByInstancePath:a,page:c,parentInstancePath:b("ProtonInstancePath").create(c.id)});switch(e.positionType){case"normal":a=d.parentGroupID!=null?p({itemOrID:d.parentGroupID,measuredPositionByInstancePath:a,page:c,parentInstancePath:b("ProtonInstancePath").create(c.id)}):{top:0};return babelHelpers["extends"]({},e,{position:babelHelpers["extends"]({},d.position,{top:g.top-a.top})});case"fixed":c=e.fixedToSide||d.fixedToSide;switch(c){case"top":return babelHelpers["extends"]({},e,{fixedDistance:g.top});case"bottom":a=g.top+g.height;return babelHelpers["extends"]({},e,{fixedDistance:f.height-a});default:c}break;default:e.positionType}return e}function u(a){var b=a.actualItem;a.pageItem;var c=a.pageRelativePosition;a=a.rawUpdates;a=a;typeof a.position.height==="number"&&a.position.height!==c.height&&k(b)&&(a=babelHelpers["extends"]({},a,{heightSizeBehavior:"fixed"}));typeof a.position.width==="number"&&a.position.width!==c.width&&j(b)&&(a=babelHelpers["extends"]({},a,{widthSizeBehavior:"fixed"}));return a}function v(a){__p&&__p();var b=a.actualItem,c=a.pageSize,d=a.pageRelativePosition;a=a.updates;if(typeof a.position.top==="number"&&b.positionType==="fixed"){var e=0,f=a.position.top-d.top,g=typeof a.position.height==="number"?a.position.height-d.height:0;switch(b.fixedToSide){case"top":e=d.top+f;break;case"bottom":d=d.top+d.height;e=c.height-d-f-g;break;default:b.fixedToSide}return babelHelpers["extends"]({},a,{fixedDistance:e})}return a}function w(a,c){c=c;if(!b("gkx")("845754")&&a.parentGroupID!=null)return c;var d=c.widthSizeBehavior||a.widthSizeBehavior;a=c.heightSizeBehavior||a.heightSizeBehavior;d==="grow to parent"&&(c=babelHelpers["extends"]({},c,{position:babelHelpers["extends"]({},c.position,{left:0})}));a==="grow to parent"&&(c=babelHelpers["extends"]({},c,{position:babelHelpers["extends"]({},c.position,{top:0})}));return c}function x(a,c,d,e,f){f=f;if(!f.position)return f;a=n(a);var g=o(c,a);a=p({itemOrID:d.id,measuredPositionByInstancePath:a,page:c,parentInstancePath:b("ProtonInstancePath").create(c.id)});f=u({actualItem:d,pageItem:e,pageRelativePosition:a,rawUpdates:f});f=v({actualItem:d,pageRelativePosition:a,pageSize:g,updates:f});return f}e.exports=a}),null);
__d("ProtonItemUpdaters",["invariant","ProtonArtboardSelectors","ProtonCanvasSelectors","ProtonConstants","ProtonCopyPastePageUpdaters","ProtonGroupSelectors","ProtonIDTypes","ProtonInstancePath","ProtonItemSelectors","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateUtils","ProtonPageUpdaters","ProtonPositionSelectors","ProtonPositionUtils","ProtonPropPath","ProtonPropUtils","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSelectors","ProtonUtils","ProtonViewSelectors","ProtonVisitor","filterObject","gkx","mapObject","partitionArray","protonWrapItemUpdates","spread","unionSets"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonArtboardSelectors").selectActiveArtboardPosition,i=b("ProtonCanvasSelectors").getCanvasSize,j=b("ProtonConstants").EMPTY_MAP,k=b("ProtonConstants").EMPTY_OBJECT,l=b("ProtonConstants").EMPTY_SET,m=b("ProtonCopyPastePageUpdaters").pluckItems,n=b("ProtonCopyPastePageUpdaters").removeFromItemByIDMaps,o=b("ProtonGroupSelectors").getGroupAlignment,p=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,q=b("ProtonItemSelectors").getItemComponentConfig,r=b("ProtonItemUtils").getActualItem,s=b("ProtonItemUtils").getGroup,t=b("ProtonItemUtils").getItem,u=b("ProtonItemUtils").getItemAndID,v=b("ProtonItemUtils").getItems,w=b("ProtonItemUtils").isDynamicGroup,x=b("ProtonItemUtils").isItemHorizontallyResizable,y=b("ProtonItemUtils").isItemVerticallyResizable,z=b("ProtonItemUtils").isItemWithProps,A=b("ProtonPageSelectors").getActivePageID,B=b("ProtonPageSelectors").getActivePageStateIDForEditMode,C=b("ProtonPageSelectors").getPage,D=b("ProtonPageSelectors").getPageState,E=b("ProtonPageSelectors").getPageX,F=b("ProtonPageSelectors").getRawActivePage,G=b("ProtonPageStateUtils").getMergeFunctionForPageItem,H=b("ProtonPageUpdaters").updatePage,I=b("ProtonPageUpdaters").updatePageStateInPage,J=b("ProtonPositionSelectors").getBoundingPosition,K=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,L=b("ProtonPositionSelectors").getPosition,M=b("ProtonPositionUtils").getUpdatedPosition,N=b("ProtonPropPath").getValueAtPath,O=b("ProtonPropPath").setValueAtPath,P=b("ProtonPropUtils").normalizeInteraction,Q=b("ProtonReducerUtils").insertItems,R=b("ProtonSelectionUpdaters").updateSelection,S=b("ProtonSelectors").applyStateToPage,T=b("ProtonSelectors").getReferencedIDsByItemType,U=b("ProtonSelectors").selectActivePage,V=b("ProtonUtils").areRectanglesIntersecting,W=b("ProtonViewSelectors").getZoom;function a(a,b,c){__p&&__p();b=C(a,b);if(!b)return a;c=m(b,c);var d=c.newPage;c=c.pluckedItems;d=n(d,c);c=d.newPage;a=H(a,b.id,c);a=R(a,{editingElementID:null,hoveredItem:null,selectedItemIDs:l});return a}function aa(a,b){__p&&__p();if(!B(a))return a;var c=a;c=c.selection;var d=c.addedSinceStateChangeItemIDs;c=c.activePageStateIDsByCymbalPath;a=R(a,{addedSinceStateChangeItemIDs:l});a=Y({state:a,pageID:A(a),itemIDs:b,getUpdates:function(){return{isHidden:!1}}});a=R(a,{activePageStateIDsByCymbalPath:j});a=Y({state:a,pageID:A(a),itemIDs:b,getUpdates:function(){return{isHidden:!0}}});return R(a,{addedSinceStateChangeItemIDs:d,activePageStateIDsByCymbalPath:c})}function ba(a,c){return R(a,{addedSinceStateChangeItemIDs:b("unionSets")(a.selection.addedSinceStateChangeItemIDs,c)})}function ca(a,c){var d=new Set();b("ProtonVisitor").visitItems(a,Array.from(c).map(function(b){return t(a,b)}).filter(Boolean),{onItem:function(a){a=a.itemID;d.add(a)}});return d}function c(a){var b=a.state,c=a.newItemIDs,d=a.wereChildrenAdded;a=a.shouldBeVisibleInMaster;b=R(b,{selectedItemIDs:c});var e=F(b);b=ba(b,d?ca(e,c):c);a||(b=aa(b,Array.from(c)));return b}function d(a){__p&&__p();var b=a.state,c=a.afterItemID,d=a.itemIDs;a=a.toParentGroupID;var e=F(b);d=m(e,d);var f=d.pluckedItems;d=d.newPage;e=d;if(a){d=T(e,f);d=d.groupIDs;if(d.has(a))return b}e=Q(e,f,a,c?{where:"after item id",afterItemID:c}:{where:"at bottom"});return H(b,e.id,e)}function X(a,c,d,e){__p&&__p();return Y({state:a,pageID:c,itemIDs:Array.from(d),getUpdates:function(c){__p&&__p();var d=c.actualItem;c.pageItem;var f=q(a,d.id);if(!f)return null;c=b("filterObject")(e,function(a,b){return f?Object.prototype.hasOwnProperty.call(f.propTypes,b):!1});switch(d.type){case"element":return{props:c};case"group":return c;case"cymbal":var g,h=d.editingPageStateID;return h===null||!b("gkx")("863168")?{props:c}:{propsByPageStateID:b("spread")(d.propsByPageStateID,(g={},g[h]=b("spread")((h=d.propsByPageStateID[h])!=null?h:k,c),g))};default:d.type;return null}}})}function f(a,b,c,d){return Y({state:a,pageID:b,itemIDs:Array.from(c),getUpdates:function(){return d}})}function Y(a){__p&&__p();var c=a.state,d=a.pageID,e=a.itemIDs,f=a.getUpdates;a=a.options;a=(a=a)!=null?a:k;var g=a.bypassStateAndWriteToMaster,h=g===void 0?!1:g;g=a.pageStateID;var i=g===void 0?B(c):g;a=C(c,d);if(!a)return c;g=c;var j=g.selection.addedSinceStateChangeItemIDs;g=b("partitionArray")(e,function(a){return!i||h||j.has(a)});e=g[0];g=g[1];a=Z(c,a,p,e,f);i&&(a=Z(c,a,i,g,f));c=H(c,d,{elementByID:a.elementByID,cymbalByID:a.cymbalByID,groupByID:a.groupByID,pageStateByID:a.pageStateByID});return c}function Z(a,c,d,e,f){__p&&__p();d=d;f=b("protonWrapItemUpdates")(a,c,d,f);if(d)return da(c,d,e,f);var g=new Map(c.elementByID),h=new Map(c.groupByID),i=new Map(c.cymbalByID),j=!1,k=!1,l=!1;function m(a,b,c,d){if(b){d=f({actualItem:b,pageItem:c,itemIndex:d});if(d){c=G(c)(b,d);a.set(b.id,c);return!0}}return!1}e.map(function(a){return u(c,a).pageItem}).filter(Boolean).forEach(function(a,b){__p&&__p();switch(a.type){case"element":var d=m(g,c.elementByID.get(a.elementID),a,b);j=j||d;break;case"group":d=m(h,c.groupByID.get(a.groupID),a,b);k=k||d;break;case"cymbal":d=m(i,c.cymbalByID.get(a.cymbalID),a,b);l=l||d;break;default:a.type}});return!k&&!j&&!l?c:babelHelpers["extends"]({},c,{elementByID:j?g:c.elementByID,groupByID:k?h:c.groupByID,cymbalByID:l?i:c.cymbalByID})}function da(a,b,c,d){__p&&__p();var e=D(a,b);if(!e)return a;var f=S(a,b),g=new Map(e.elementDiffByID),h=new Map(e.groupDiffByID),i=new Map(e.cymbalDiffByID),j=!1,k=!1,l=!1;function m(a,b,c,e,f){if(!b)return!1;f=d({actualItem:b,pageItem:e,itemIndex:f});if(!f)return!1;e=c?G(e)(c,f):f;a.set(b.id,e);return!0}c.map(function(b){return u(a,b)}).forEach(function(a,b){__p&&__p();a=a.pageItem;if(!a)return;switch(a.type){case"element":var c=m(g,f.elementByID.get(a.elementID),e.elementDiffByID.get(a.elementID),a,b);j=c||j;break;case"group":c=m(h,f.groupByID.get(a.groupID),e.groupDiffByID.get(a.groupID),a,b);k=c||k;break;case"cymbal":c=m(i,f.cymbalByID.get(a.cymbalID),e.cymbalDiffByID.get(a.cymbalID),a,b);l=c||l;break;default:a.type}});return!k&&!j&&!l?a:I(a,b,{elementDiffByID:j?g:e.elementDiffByID,groupDiffByID:k?h:e.groupDiffByID,cymbalDiffByID:l?i:e.cymbalDiffByID})}function ea(a){__p&&__p();var c=a.state,d=a.positionUpdates,e=a.positionDelta,f=a.pageID,h=a.itemIDs,i=a.isHotkeyReposition;a=E(c,f);var j=S(a,B(c));e&&!d||!e&&d||g(0,5438);var k=K(c);return Y({state:c,pageID:f,itemIDs:Array.from(h),getUpdates:function(a){var c=a.actualItem;a=a.pageItem;var f=L({itemOrID:a,measuredPositionByInstancePath:k,page:j,parentInstancePath:b("ProtonInstancePath").create(j.id)}),g=x(c),h=y(c),l=w(j,c.parentGroupID),m=s(j,c.parentGroupID);m=o(m);return{position:M({isHorizontallyResizable:g,isHotkeyReposition:i,isInDynamicGroup:l,isVerticallyResizable:h,item:c,pageRelativePosition:f,parentAlignment:m,positionDelta:e,positionUpdates:d,type:a.type})}}})}function fa(a,b,c,d,e){var f=C(a,b);if(!f)return a;f=r(f,c);if(f==null||!z(f))return a;f=O(f,d,e);return!f?a:X(a,b,new Set([c]),f.props)}function ga(a){__p&&__p();var b=a.getUpdates,c=a.itemIDs,d=a.pageID,e=a.pageStateID,f=a.propPath;a=a.state;return Y({state:a,pageID:d,itemIDs:c,getUpdates:function(a){var c=a.actualItem;a.pageItem;a=P(N(c,f));a=b(a);if(!a)return null;a=O(c,f,a,{dontClone:c.type==="group"?l:new Set(["props"])});return a},options:e!==void 0?{pageStateID:e}:k})}function ha(a,c){__p&&__p();var d=W(a),e=h(a);e=b("mapObject")(e,function(a){return a*d});var f=babelHelpers["extends"]({},i(a),{left:a.canvas.scrollLeft,top:a.canvas.scrollTop});f=b("mapObject")({width:f.width,height:f.height,top:f.top-e.top,left:f.left-e.left},function(a){return a/d});var g=$(f);e=U(a);e=J({page:e,parentInstancePath:b("ProtonInstancePath").create(e.id),measuredPositionByInstancePath:K(a),items:v(e,new Set(c))});var j=$(e);return V(e,f)?a:Y({state:a,pageID:A(a),itemIDs:c,getUpdates:function(a){a=a.actualItem;return{position:{top:Math.round(g.top-j.top+a.position.top),left:Math.round(g.left-j.left+a.position.left)}}}})}function $(a){return{top:Math.round(a.top+a.height/2),left:Math.round(a.left+a.width/2)}}e.exports={deleteItems:a,reorderItems:d,repositionItemsInViewport:ha,repositionItems:ea,updateItemPropsByPath:fa,updateItems:f,updateItemsAfterInsert:c,updateItemsBy:Y,updateItemsInPageBy:Z,updateItemsProps:X,updateItemsInteractionBy:ga}}),null);
__d("protonAlignmentReducer",["ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageSelectors","ProtonPositionSelectors","ProtonPositionUtils","ProtonReducerUtils","ProtonSelectors","ProtonUtils","filterSet","firstx","lastx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemUpdaters").updateItemsBy,h=b("ProtonItemUtils").getItem,i=b("ProtonItemUtils").getItems,j=b("ProtonItemUtils").isDynamicGroup,k=b("ProtonPageSelectors").getRawActivePage,l=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,m=b("ProtonPositionSelectors").getPageSize,n=b("ProtonPositionSelectors").getPositionForItemID,o=b("ProtonPositionUtils").roundPosition,p=b("ProtonReducerUtils").getMaxBottom,q=b("ProtonReducerUtils").getMaxRight,r=b("ProtonReducerUtils").getMinLeft,s=b("ProtonReducerUtils").getMinTop,t=b("ProtonSelectors").getParentGroupID,u=b("ProtonSelectors").getSelectedItemIDs,v=b("ProtonSelectors").selectActivePage,w=b("ProtonUtils").subtractPositions;function x(a,b){return function(c){return(a(c)+b(c))/2}}function y(a){var c=a.state,d=v(c),e=d.id,f=u(c),g=b("filterSet")(f,function(a){a=h(d,a);a=a&&t(d,a);return!j(d,a)}),k=l(c),n=i(d,f),o=m(d,k);o={page:d,pageSize:o,measuredPositionByInstancePath:k,items:n};var p=f.size===1?a.getReferenceCoordSingle(o):a.getReferenceCoordMulti(o);return A(c,e,g,function(b,c){return a.getNewPosition(b,p)})}function z(a,c){__p&&__p();var d=k(a),e=d.id;d=u(a);c=c==="vertical"?["top","height"]:["left","width"];var f=c[0],g=c[1];c=Array.from(d).map(function(c){return{itemID:c,position:n(a,b("ProtonInstancePath").create(e),c)}}).sort(function(a,b){a=a.position;b=b.position;return a[f]-b[f]});d=b("firstx")(c);var h=b("lastx")(c);h=h.position[f]+h.position[g];h=h-d.position[f];var i=c.map(function(a){return a.position[g]}).reduce(function(a,b){return a+b},0),j=(h-i)/(c.length-1),l=d.position[f];return A(a,e,new Set(c.map(function(a){a=a.itemID;return a})),function(a,b){b=(b={},b[f]=l,b);l+=a[g]+j;return b})}function A(a,c,d,e){return g({state:a,pageID:c,itemIDs:Array.from(d),getUpdates:function(d){d=d.actualItem;var f=n(a,b("ProtonInstancePath").create(c),d.id),g=o(babelHelpers["extends"]({},f,e(f,d.id)));f=w(f,g);return{position:{left:d.position.left-f.left,top:d.position.top-f.top}}}})}function a(a,b){__p&&__p();switch(b.type){case"align items to left":return y({state:a,getReferenceCoordSingle:function(a){return 0},getReferenceCoordMulti:r,getNewPosition:function(a,b){return{left:b}}});case"align items to center":return y({state:a,getReferenceCoordSingle:function(a){return a.pageSize.width/2},getReferenceCoordMulti:x(r,q),getNewPosition:function(a,b){return{left:b-a.width/2}}});case"align items to right":return y({state:a,getReferenceCoordSingle:function(a){return a.pageSize.width},getReferenceCoordMulti:q,getNewPosition:function(a,b){return{left:b-a.width}}});case"align items to top":return y({state:a,getReferenceCoordSingle:function(a){return 0},getReferenceCoordMulti:s,getNewPosition:function(a,b){return{top:b}}});case"align items to middle":return y({state:a,getReferenceCoordSingle:function(a){return a.pageSize.height/2},getReferenceCoordMulti:x(s,p),getNewPosition:function(a,b){return{top:b-a.height/2}}});case"align items to bottom":return y({state:a,getReferenceCoordSingle:function(a){return a.pageSize.height},getReferenceCoordMulti:p,getNewPosition:function(a,b){return{top:b-a.height}}});case"distribute items vertically":return z(a,"vertical");case"distribute items horizontally":return z(a,"horizontal")}return a}e.exports=a}),null);
__d("ProtonAnimationEditorUpdaters",["ProtonAnimationUpdaters","ProtonConstants","ProtonInstancePath","ProtonSelectionUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationUpdaters").clearAnimatingItemIDsByInstancePath,h=b("ProtonAnimationUpdaters").clearPreviousAnimatablePropsByInstancePath,i=b("ProtonAnimationUpdaters").updateAnimation,j=b("ProtonConstants").EMPTY_PAGE_STATE_ANIMATION,k=b("ProtonSelectionUpdaters").activatePageState;function a(a,c){var d=c.animation,e=c.interactionIndex,f=c.itemIDs,j=c.previousPageStateID,l=c.propPath;c=c.targetPageStateID;var m=b("ProtonInstancePath").createFromPageID(a.selection.activePageID);a=g(a);a=h(a);a=i(a,m,babelHelpers["extends"]({},d,{animationStatus:"playing"}));a=babelHelpers["extends"]({},a,{animationEditor:{itemIDs:f,previousPageStateID:j,targetPageStateID:c,propPath:l,interactionIndex:e}});a=k({state:a,cymbalPath:m,pageStateID:c,shouldCapturePreviousAnimatableValues:!0});return a}function c(a){__p&&__p();var c=a.animationEditor;if(c==null)return a;c=c.previousPageStateID;var d=b("ProtonInstancePath").createFromPageID(a.selection.activePageID);a=i(a,d,j);a=g(a);a=h(a);a=babelHelpers["extends"]({},a,{animationEditor:null});a=k({state:a,cymbalPath:d,pageStateID:c,shouldCapturePreviousAnimatableValues:!1});return a}e.exports={setAnimationEditorContext:a,resetAnimationEditorContext:c}}),null);
__d("protonAnimationReducer",["ProtonAnimationEditorUpdaters","ProtonAnimationUpdaters","ProtonConstants","ProtonCymbalSelectors","ProtonItemUpdaters","ProtonPageSelectors","ProtonPropUtils","replaceArrayElementAtIndex","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationEditorUpdaters").resetAnimationEditorContext,h=b("ProtonAnimationEditorUpdaters").setAnimationEditorContext,i=b("ProtonAnimationUpdaters").updateAnimation,j=b("ProtonConstants").EMPTY_PAGE_STATE_ANIMATION,k=b("ProtonCymbalSelectors").selectCymbalPathForTargetPage,l=b("ProtonItemUpdaters").updateItemsInteractionBy,m=b("ProtonPageSelectors").getActivePageID,n=b("ProtonPropUtils").isPageStateInteraction;function a(a,c){__p&&__p();switch(c.type){case"start page state animation":var d=c.cymbalPath,e=c.targetPageID;d=k(a,d,e);return i(a,d,{animationStatus:"playing"});case"end page state animation":e=c.cymbalPath;d=c.targetPageID;e=k(a,e,d);return i(a,e,{animationStatus:"inactive"});case"update mode":d=c.mode;if(d==="preview")return g(a);break;case"hide animation editor panel":return g(a);case"show animation editor panel":e=c.animation;d=c.interactionIndex;var f=c.itemIDs,o=c.previousPageStateID,p=c.propPath,q=c.targetPageStateID;return h(a,{animation:e,interactionIndex:d,itemIDs:f,previousPageStateID:o,propPath:p,targetPageStateID:q});case"update animation prop":var r=c.updates;e=a.animationEditor;if(!e)return a;d=e.itemIDs;f=e.previousPageStateID;o=e.propPath;var s=e.interactionIndex;return l({state:a,pageID:m(a),itemIDs:Array.from(d),pageStateID:f,propPath:o,getUpdates:function(a){var c=a[s];if(!c||!n(c))return null;var d=babelHelpers["extends"]({},j,c.animation,r);return b("replaceArrayElementAtIndex")(a,s,b("spread")(c,{animation:d}))}})}return a}e.exports=a}),null);
__d("protonCanvasReducer",["ProtonAnimationUpdaters","ProtonCanvasUpdaters","ProtonCanvasUtils","ProtonConfig","ProtonPageSelectors","ProtonPageUpdaters","ProtonReducerUtils","ProtonViewSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationUpdaters").clearPreviousAnimatablePropsByInstancePath,h=b("ProtonCanvasUpdaters").updateCanvas,i=b("ProtonCanvasUpdaters").updateCanvasPosition,j=b("ProtonCanvasUpdaters").updateHeldKeys,k=b("ProtonCanvasUtils").getComponentImplForItem,l=b("ProtonPageSelectors").getActivePageID,m=b("ProtonPageUpdaters").updatePage,n=b("ProtonReducerUtils").closeModalByType,o=b("ProtonViewSelectors").getZoom;function a(a,c){__p&&__p();switch(c.type){case"report canvas scroll":var d=c.scrollLeft,e=c.scrollTop;return h(a,{scrollLeft:d,scrollTop:e,isCanvasScrolling:!0});case"end canvas scroll":return h(a,{isCanvasScrolling:!1});case"report canvas position":return i(a,c.position);case"update mode":d=g(a);if(c.mode==="edit"){e=d.canvas;var f=e.scrollLeft;e=e.scrollTop;return h(d,{initialScrollLeft:f,initialScrollTop:e,isHighlightingVisible:!1})}return d;case"update highlighting visible":return h(a,{isHighlightingVisible:c.isVisible});case"end canvas set scroll position":return h(a,{scrollPositionOnNextRender:null});case"update held keys":return j(a,c.updates);case"resize page in canvas":f=a;e=o(a);f=m(f,l(f),{height:Math.round(c.startingPageSize.height+c.deltas.height/e),sizeBehavior:"custom",width:Math.round(c.startingPageSize.width+c.deltas.width/e)});(c.deltas.top||c.deltas.left)&&(f=h(f,{scrollPositionOnNextRender:{left:f.canvas.scrollLeft-c.deltas.left,top:f.canvas.scrollTop-c.deltas.top}}));return f;case"begin insert item":d=k(a,c.insertItemInfo);e=h(a,{insertingItem:d});return n(e,"component picker");case"end insert item":return h(a,{insertingItem:null});case"add artboard metadata":return h(a,{metadataByArtboardID:a.canvas.metadataByArtboardID.set(c.artboardID,c.artboardMetadata)});case"delete artboard metadata":return h(a,{metadataByArtboardID:a.canvas.metadataByArtboardID["delete"](c.artboardID)});case"artboard screenshots started":f=a.canvas.metadataByArtboardID.withMutations(function(a){__p&&__p();for(var d=c.artboardIDs,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=a.get(g);h?a.set(g,babelHelpers["extends"]({},h,{maxRequestedVersion:Math.max(c.projectVersion,h.maxRequestedVersion||0),retryCount:0})):a.set(g,{maxRequestedVersion:c.projectVersion,retryCount:0,pupperCacheBreaker:b("ProtonConfig").pupperCacheBreaker})}});return h(a,{metadataByArtboardID:f})}return a}e.exports=a}),null);
__d("protonCommentsReducer",["ProtonAnnotationUtils","ProtonCommentsUpdaters","ProtonProjectHistoryUpdaters","ProtonSelectionUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnnotationUtils").parseAnnotationTargetID,h=b("ProtonCommentsUpdaters").updateComments,i=b("ProtonProjectHistoryUpdaters").updateMajorEntries,j=b("ProtonProjectHistoryUpdaters").updateSelectedHistoryEntry,k=b("ProtonSelectionUpdaters").selectItems;function a(a,b){__p&&__p();switch(b.type){case"open comments panel":var c=a;b.entries&&(c=i(c,b.entries));return b.entryID!=null?j(c,b.entryID):h(c,{isPreparingCommentsPanel:!1,hasCommentsPanelPreparationError:!1});case"update comments state":return h(a,b.updates);case"annotate item":c=a;var d=g(b.targetID),e=d.pageID,f=d.pageStateID;d=d.itemID;c=k(c,[d],e,f,"single");return h(c,{annotatingTargetID:b.targetID,isLeavingAnnotation:!1});case"fetch annotations succeeded":return h(a,{annotationsByTargetID:new Map(b.annotations.map(function(a){return[a.targetID,a]}))})}return a}e.exports=a}),null);
__d("ProtonCopyPasteSelectors",["ProtonInstancePath","ProtonPositionSelectors","filterMap","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPositionSelectors").getPosition;function a(a,c,d){function e(e,f){f=g({itemOrID:f,measuredPositionByInstancePath:d,page:a,parentInstancePath:b("ProtonInstancePath").create(a.id)});return e.parentGroupID&&!c.has(e.parentGroupID)?babelHelpers["extends"]({},e,{position:f}):babelHelpers["extends"]({},e,{position:babelHelpers["extends"]({},e.position,{height:f.height,width:f.width})})}return{elementByID:b("filterMap")(b("mapMap")(a.elementByID,e),function(a,b){return c.has(b)}),expressionsByItemID:b("filterMap")(a.expressionsByItemID,function(a,b){return c.has(b)}),groupByID:b("filterMap")(b("mapMap")(a.groupByID,e),function(a,b){return c.has(b)}),cymbalByID:b("filterMap")(b("mapMap")(a.cymbalByID,e),function(a,b){return c.has(b)}),propMetadataByID:b("filterMap")(a.propMetadataByID,function(a,b){return c.has(a.itemID)})}}e.exports={getItemMapsForCopy:a}}),null);
__d("statisticalMean",["sumOfArray"],(function(a,b,c,d,e,f){"use strict";function a(a){return!a.length?null:b("sumOfArray")(a)/a.length}e.exports=a}),null);
__d("statisticalRange",[],(function(a,b,c,d,e,f){function a(a){return!a.length?0:Math.max.apply(Math,a)-Math.min.apply(Math,a)}e.exports=a}),null);
__d("ProtonInferDynamicLayoutUtils",["ProtonConstants","ProtonGroupUtils","ProtonInstancePath","ProtonItemUtils","ProtonPositionSelectors","statisticalMean","statisticalRange"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_ARRAY,h=b("ProtonGroupUtils").getFlexDirection,i=b("ProtonItemUtils").getActualItem,j=b("ProtonItemUtils").getItemID,k=b("ProtonPositionSelectors").getPosition,l={horizontal:"minX",vertical:"minY"},m={horizontal:"minX",vertical:"minY"},n={horizontal:"maxX",vertical:"maxY"};function o(a,b,c){if(a<b&&a<c)return"flex-start";else if(b<a&&b<c)return"center";else if(c<a&&c<b)return"flex-end";return"flex-start"}function p(a,c,d){return d.map(function(d){var e=k({itemOrID:d.id,measuredPositionByInstancePath:c,page:a,parentInstancePath:b("ProtonInstancePath").create(a.id)}),f=e.top,g=e.left,h=e.height;e=e.width;return{id:d.id,maxX:g+e,maxY:f+h,midX:g+e/2,midY:f+h/2,minX:g,minY:f}})}function q(a,b){var c=l[b];return a.concat().sort(function(a,b){return a[c]-b[c]})}function r(a){return a.reduce(function(a,b){a.maxXs.push(b.maxX);a.maxYs.push(b.maxY);a.midXs.push(b.midX);a.midYs.push(b.midY);a.minXs.push(b.minX);a.minYs.push(b.minY);return a},{maxXs:[],maxYs:[],midXs:[],midYs:[],minXs:[],minYs:[]})}function s(a,b){var c=m[b],d=n[b];return a.reduce(function(b,e,f,a){a=a[f+1];return a&&a[c]-e[d]>0?b.concat([a[c]-e[d]]):b},g)}function t(a,b){return b.map(function(b){return a.items.find(function(a){return j(a)===b.id})}).filter(Boolean).reverse()}function a(a,c,d){__p&&__p();var e=c.items.map(function(b){b=j(b);return i(a,b)}).filter(Boolean);d=p(a,d,e);var f=r(d),g=f.maxXs,k=f.maxYs,l=f.midXs,m=f.midYs,n=f.minXs;f=f.minYs;n=b("statisticalRange")(n);l=b("statisticalRange")(l);g=b("statisticalRange")(g);f=b("statisticalRange")(f);m=b("statisticalRange")(m);k=b("statisticalRange")(k);var u=Math.min(n,l,g)>Math.min(f,m,k)?"horizontal":"vertical";n=o(n,l,g);l=o(f,m,k);g=q(d,"horizontal");f=q(d,"vertical");m=s(f,"vertical");k=s(g,"horizontal");d=0;var v=0;u==="horizontal"&&k.length?d=Math.floor(b("statisticalMean")(k)||0):u==="vertical"&&m.length&&(v=Math.floor(b("statisticalMean")(m)||0));k=e.every(function(a){return a.widthSizeBehavior==="grow to parent"});m=e.every(function(a){return a.heightSizeBehavior==="grow to parent"});e={alignment:{x:n,y:l},layoutDirection:u,items:t(c,h(u)==="row"?g:f),spacingX:{isSpaceBetween:!1,value:d},spacingY:{isSpaceBetween:!1,value:v},heightSizeBehavior:m?"grow to parent":c.heightSizeBehavior,widthSizeBehavior:k?"grow to parent":c.widthSizeBehavior};return e}e.exports={inferDynamicLayout:a}}),null);
__d("ProtonGroupUpdaters",["ProtonCanvasUpdaters","ProtonClientIDs","ProtonConstants","ProtonCopyPastePageUpdaters","ProtonCymbalComponentConfigs","ProtonIDTypes","ProtonInferDynamicLayoutUtils","ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateUtils","ProtonPageUpdaters","ProtonPositionSelectors","ProtonReducerUtils","ProtonSelectors","first","lastx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasUpdaters").updateCanvas,h=b("ProtonConstants").EMPTY_GROUP,i=b("ProtonConstants").EMPTY_OBJECT,j=b("ProtonConstants").EMPTY_POSITION,k=b("ProtonCopyPastePageUpdaters").pluckItems,l=b("ProtonCymbalComponentConfigs").selectComponentConfigByCymbalPageID,m=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,n=b("ProtonInferDynamicLayoutUtils").inferDynamicLayout,o=b("ProtonItemUpdaters").updateItemsAfterInsert,p=b("ProtonItemUpdaters").updateItemsBy,q=b("ProtonItemUpdaters").updateItemsInPageBy,r=b("ProtonItemUtils").getGroupX,s=b("ProtonItemUtils").getItem,t=b("ProtonItemUtils").getItemID,u=b("ProtonItemUtils").getNames,v=b("ProtonItemUtils").isDynamicGroup,w=b("ProtonItemUtils").isGroup,x=b("ProtonPageSelectors").getActivePageID,y=b("ProtonPageSelectors").getActivePageStateIDForEditMode,z=b("ProtonPageSelectors").getPage,A=b("ProtonPageSelectors").getPageX,B=b("ProtonPageSelectors").getRawActivePage,C=b("ProtonPageStateUtils").mergeGroupDiff,D=b("ProtonPageUpdaters").updatePage,E=b("ProtonPositionSelectors").getBoundingPosition,F=b("ProtonPositionSelectors").getItemCoords,G=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,H=b("ProtonReducerUtils").getUniqueName,I=b("ProtonReducerUtils").insertItems,J=b("ProtonSelectors").applyTransformationsToPage,K=b("ProtonSelectors").getParentGroupID,L=[c,d].filter(Boolean);function M(a,c,d,e,f){var g;g=(g=a.name)!=null?g:"Group";e=e?H(g,d):g;d=a.parentGroupID!=null?r(c,a.parentGroupID):null;e=babelHelpers["extends"]({},h,{backgroundColor:(g=a.backgroundColor)!=null?g:h.backgroundColor,id:b("ProtonClientIDs").create("group"),isHidden:a.isHidden||!1,isLocked:a.isLocked||!1,items:a.items,layout:a.layout||(d&&d.layout==="dynamic"?"dynamic":"static"),name:e,overflow:(g=a.overflow)!=null?g:"hidden",parentGroupID:(d=a.parentGroupID)!=null?d:null,position:a.position||j});a.overflow||(e=babelHelpers["extends"]({},e,{heightSizeBehavior:"fit to children",widthSizeBehavior:"fit to children"}));e.layout==="dynamic"&&(e=babelHelpers["extends"]({},e,n(c,e,f)));a.position||(e=babelHelpers["extends"]({},e,{position:N({items:e.items,layout:e.layout,measuredPositionByInstancePath:f,page:c,parentGroupID:a.parentGroupID})}));return e}function N(a){__p&&__p();var c=E({items:a.items,measuredPositionByInstancePath:a.measuredPositionByInstancePath,page:a.page,parentInstancePath:b("ProtonInstancePath").create(a.page.id)}),d=a.layout==="static",e=d&&!a.overflow?0:c.width;d=d&&!a.overflow?0:c.height;a.layout==="static"&&a.overflow&&(d=Math.round(d/2));var f=c.left;c=c.top;if(a.parentGroupID!=null){a=F({itemOrID:a.parentGroupID,measuredPositionByInstancePath:a.measuredPositionByInstancePath,page:a.page,parentInstancePath:b("ProtonInstancePath").create(a.page.id)});f-=a.left;c-=a.top}return{height:d,left:f,top:c,width:e}}function a(a,b,c,d){var e=A(a,b);e=e.groupByID.get(c);return!e?a:O({state:a,pageID:b,groupIDs:new Set([c]),groupUpdates:d})}function O(a){var b=a.state,c=a.pageID,d=a.groupIDs,e=a.groupUpdates;a=a.bypassStateAndWriteToMaster;return P({state:b,pageID:c,groupIDs:d,getUpdates:function(a){return e},bypassStateAndWriteToMaster:a})}function P(a){__p&&__p();var b=a.state,c=a.pageID,d=a.groupIDs,e=a.getUpdates;a=a.bypassStateAndWriteToMaster;return p({state:b,pageID:c,itemIDs:Array.from(d),getUpdates:function(a){var d=a.actualItem;a=a.pageItem;if(a.type!=="group")return null;if(!w(d))return null;a=Q(b,c,d,e)(d);return!a?null:a},options:{bypassStateAndWriteToMaster:a}})}function Q(a,b,c,d){return function(c){var e=d(c);return!e?null:L.reduce(function(d,e){return e(a,b,c,d)},e)}}function c(a,b,c,d){if(c.layout!=="dynamic"&&d.layout==="dynamic"){b=z(a,b);if(b){a=G(a);return C(d,n(b,c,a))}}return d}function R(a,b){if(b.layoutDirection==="horizontal")return{spacingY:a.spacingY||b.spacingX};return b.layoutDirection==="vertical"?{spacingX:a.spacingX||b.spacingY}:{}}function d(a,b,c,d){__p&&__p();a=d;if(a.layoutDirection!==c.layoutDirection)switch(a.layoutDirection){case"horizontal":a=babelHelpers["extends"]({},a,R(a,c),{spacingY:{isSpaceBetween:!1,value:0}});break;case"vertical":a=babelHelpers["extends"]({},a,R(a,c),{spacingX:{isSpaceBetween:!1,value:0}});break;case"wrap":a=babelHelpers["extends"]({},a,R(a,c));break;default:a.layoutDirection}return a}function S(a,c){c=k(a,c);c=c.pluckedItems;c=b("first")(c);return c?K(a,c):null}function T(a){__p&&__p();var c=a.state,d=a.baseName,e=a.itemIDs,f=a.layout,g=a.overflow,h=a.pageID,j=a.position;h=(h=h)!=null?h:x(c);var n=A(c,h),p=k(n,e);p=p.pluckedItems;var r=b("first")(p),s=S(n,e),v=G(c),w=y(c),z=l(c);w=w!=null?J(n,new Set([w]),c.computedExpressionsByItemID,z,null,i):n;z={backgroundColor:a.backgroundColor,items:p,layout:f,name:d,overflow:g,parentGroupID:s,position:j};var B=M(z,w,u(n.groupByID),c.userSettings.shouldAssignUniqueName,v);a={type:"group",groupID:B.id};n=I(n,[a],s,r?{where:"after item id",afterItemID:t(r)}:{where:"at top"});f=k(n,e);n=f.newPage;p=f.pluckedItems;n=q(c,n,m,Array.from(e),function(){return{parentGroupID:B.id}});n=babelHelpers["extends"]({},n,{groupByID:new Map(n.groupByID).set(B.id,B)});c=D(c,h,n);c=o({state:c,newItemIDs:new Set([B.id]),wereChildrenAdded:!1,shouldBeVisibleInMaster:!0});return c}function f(a){__p&&__p();var c=a.backgroundColor,d=a.baseName,e=a.itemIDs,f=a.layout,h=a.position;a=a.state;h=h;a=a;e=e;var i="static",k=B(a),l=S(k,e),m=v(k,l);if(!h){var n=G(a);h=N({items:Array.from(e).map(function(a){return s(k,a)}).filter(Boolean),layout:i,overflow:{masking:"hidden",scrolling:"scroll both"}[f],measuredPositionByInstancePath:n,page:k,parentGroupID:l})}if(m){a=T({baseName:"Dynamic Group",itemIDs:e,layout:"dynamic",pageID:k.id,position:j,state:a});k=B(a);n=b("lastx")(k.groupByID.keys());e=new Set([n])}l=f==="masking"?"Masking Container":"Scrolling Container";a=T({backgroundColor:c,baseName:(m=d)!=null?m:l,itemIDs:e,layout:i,overflow:f==="masking"?"hidden":"scroll both",position:h,state:a});return g(a,{insertingItem:null})}e.exports={createGroup:M,createOverflowContainer:f,groupItems:T,updateGroup:a,updateGroups:O,updateGroupsBy:P}}),null);
__d("ProtonCymbalUpdaters",["ProtonComponents","ProtonCopyPastePageUpdaters","ProtonCopyPasteSelectors","ProtonCymbalSelectors","ProtonGroupUpdaters","ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonPropMetadataUtils","ProtonPropPath","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSelectors","removeFromMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonCopyPastePageUpdaters").reIDItems,i=b("ProtonCopyPasteSelectors").getItemMapsForCopy,j=b("ProtonCymbalSelectors").getPropMetadata,k=b("ProtonGroupUpdaters").createOverflowContainer,l=b("ProtonItemUpdaters").deleteItems,m=b("ProtonItemUpdaters").updateItemsBy,n=b("ProtonItemUtils").getItemID,o=b("ProtonPageItemSelectors").getRootItems,p=b("ProtonPageSelectors").getPage,q=b("ProtonPageSelectors").getRawActivePage,r=b("ProtonPageSelectors").selectCymbalPageByID,s=b("ProtonPageUpdaters").deletePages,t=b("ProtonPageUpdaters").updatePage,u=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,v=b("ProtonPositionSelectors").selectCymbalPageSize,w=b("ProtonPropMetadataUtils").createPropMetadata,x=b("ProtonPropPath").PROPS_PATH,y=b("ProtonPropPath").addToPropPath,z=b("ProtonReducerUtils").insertItems,A=b("ProtonSelectionUpdaters").updateSelection,B=b("ProtonSelectors").getReferencedIDs,C=b("ProtonSelectors").selectTransformedPageForInstancePath;function a(a,c){__p&&__p();var d=q(a),e=C(a,{instancePath:b("ProtonInstancePath").create(d.id,c.id)});if(!e)return a;var f=o(e),g=b("ProtonInstancePath").create(d.id,c.id);g=v(a,{instancePath:g});var j=B(e,f);j=i(e,j,u(a));j=h(babelHelpers["extends"]({},j,{page:d,items:f,shouldAssignUniqueName:!1,areItemsFromDifferentPage:!0}));d=z(j.page,j.items,c.parentGroupID,{where:"after item id",afterItemID:c.id});a=t(a,d.id,d);a=k({state:a,backgroundColor:e.backgroundColor.isActive?e.backgroundColor.value:null,baseName:c.name,position:{top:c.position.top,left:c.position.left,width:g?g.width:0,height:g?g.height:0},itemIDs:new Set(j.items.map(function(a){return n(a)})),layout:"masking"});f=a;e=f.selection.selectedItemIDs;a=l(a,d.id,new Set([c.id]));return A(a,{selectedItemIDs:e})}function c(a,b,c,d){var e=p(a,b);if(!e)return a;e=e.cymbalByID.get(c);return!e?a:D(a,b,new Set([c]),d)}function D(a,b,c,d){return E(a,b,c,function(a){return d})}function E(a,b,c,d){return m({state:a,pageID:b,itemIDs:Array.from(c),getUpdates:function(a){var b=a.actualItem;a.pageItem;a=b;b=d(a);return b}})}function F(a){__p&&__p();var b=a.state,c=a.cymbalPageID,d=a.itemID,e=a.propPath;a=a.displayName;c=p(b,c);if(!c||!c.isCymbal)return b;if(j(c,d,e))return b;var f=new Map(c.propMetadataByID);d=w({itemID:d,propPath:e,displayName:a});return t(b,c.id,{propMetadataByID:f.set(d.id,d)})}function d(a){__p&&__p();var c=a.state,d=a.cymbalPageID,e=a.itemID;a=a.propPath;d=p(c,d);if(!d||!d.isCymbal)return c;e=j(d,e,a);if(!e)return c;a=b("removeFromMap")(d.propMetadataByID,e.id);return t(c,d.id,{propMetadataByID:a})}function G(a,b,c){var d=g(c.componentName);return!d||!a.userSettings.shouldAutoPublishProps?a:Object.keys(d.propTypes).reduce(function(a,e){var f=d.propTypes[e];return!f.shouldAutoPublish?a:F({state:a,cymbalPageID:b,itemID:c.id,propPath:y(x,e)})},a)}function f(a,b){if(!b.isCymbal||!a.userSettings.shouldAutoPublishProps)return a;var c=Array.from(b.elementByID.values());return c.reduce(function(a,c){return G(a,b.id,c)},a)}function H(a){var b=new Set(r(a).keys());a.project.pages.forEach(function(a){a.cymbalByID.forEach(function(a){b["delete"](a.cymbalPageID)})});return b.size>0?s(a,b):a}var I=100;function J(a){var b=a;a=H(a);for(var c=0;c<I&&b!==a;c++)b=a,a=H(a);return a}e.exports={autoPublishElementProps:G,autoPublishProps:f,ejectCymbal:a,exportCymbalProp:F,unpublishCymbalProp:d,updateCymbal:c,updateCymbals:D,updateCymbalsBy:E,deleteUnusedCymbalPages:J}}),null);
__d("protonCymbalReducer",["ProtonCanvasUpdaters","ProtonCymbalUpdaters","ProtonCymbalVisitor","ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSelectors","ProtonToastUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasUpdaters").updateCanvas,h=b("ProtonCymbalUpdaters").ejectCymbal,i=b("ProtonCymbalUpdaters").exportCymbalProp,j=b("ProtonCymbalUpdaters").unpublishCymbalProp,k=b("ProtonCymbalUpdaters").updateCymbal,l=b("ProtonCymbalVisitor").isCymbalInPageChain,m=b("ProtonItemUpdaters").updateItemsAfterInsert,n=b("ProtonItemUtils").getCymbal,o=b("ProtonItemUtils").getNames,p=b("ProtonPageSelectors").getActivePageID,q=b("ProtonPageSelectors").getActivePageStatesForActivePage,r=b("ProtonPageSelectors").getPage,s=b("ProtonPageSelectors").getPageX,t=b("ProtonPageSelectors").getRawActivePage,u=b("ProtonPageStateSelectors").getDefaultPageStateIDsByCymbalPath,v=b("ProtonPageUpdaters").updatePage,w=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,x=b("ProtonReducerUtils").addCymbalsToPage,y=b("ProtonReducerUtils").closeModalByType,z=b("ProtonReducerUtils").createCymbal,A=b("ProtonSelectionUpdaters").activatePageState,B=b("ProtonSelectionUpdaters").updateActivePageStates,C=b("ProtonSelectionUpdaters").updateSelection,D=b("ProtonSelectors").getTargetItemIDs,E=b("ProtonSelectors").getTopMostItemID,F=b("ProtonSelectors").selectActivePage,G=b("ProtonSelectors").selectFirstItem,H=b("ProtonToastUpdaters").showToast;function a(a,c){__p&&__p();a=a;switch(c.type){case"add cymbal":var d=s(a,c.cymbalPageID),e=s(a,c.pageID);if(e.isCymbal===!0&&l(a,c.cymbalPageID,c.pageID))return H(a,{type:"generic",canClose:!0,title:"Failed to Insert",message:"You cannot insert custom components into their source page.",toastType:"error",shouldAutoClose:!0});var f=a;f=f.userSettings.shouldAssignUniqueName;d=z({position:{top:c.top||0,left:c.left||0}},d,o(e.elementByID,e.groupByID,e.cymbalByID),f);f=E(e,a.selection.selectedItemIDs);var I=w(a);a=y(v(a,e.id,x(e,I,[d],f)),"component picker");a=A({state:a,cymbalPath:b("ProtonInstancePath").createFromPageID(c.pageID),pageStateID:null});a=C(a,{activePageID:e.id,selectedItemIDs:new Set([d.id])});a=m({state:a,newItemIDs:new Set([d.id]),wereChildrenAdded:!1});return g(a,{insertingItem:null});case"set initial cymbal state":I=G(a);if(!I||I.type!=="cymbal")return a;f=t(a);e=n(f,I.cymbalID);if(!e)return a;d=r(a,e.cymbalPageID);if(!d)return a;if(c.pageStateID!=null&&!d.pageStateByID.has(c.pageStateID))return a;a=k(a,f.id,e.id,{cymbalPageStateID:c.pageStateID});I=q(a);d=u(a,b("ProtonInstancePath").createFromPageID(f.id),I);return Array.from(d).reduce(function(a,b){var c=b[0],d=b[1];return B(a,c,function(){return d})},a);case"eject cymbal":e=D(a);var J=F(a);f=Array.from(e).map(function(a){return n(J,a)}).filter(Boolean);I=f.reduce(h,a);return I;case"export cymbal prop":d=c.itemID;e=c.propPath;return i({state:a,cymbalPageID:p(a),itemID:d,propPath:e});case"unpublish cymbal prop":f=c.itemID;I=c.propPath;return j({state:a,cymbalPageID:p(a),itemID:f,propPath:I});case"set editing cymbal state":d=G(a);if(!d||d.type!=="cymbal")return a;e=t(a);f=n(e,d.cymbalID);if(!f)return a;I=r(a,f.cymbalPageID);if(!I)return a;if(c.pageStateID!=null&&!I.pageStateByID.has(c.pageStateID))return a;a=k(a,e.id,f.id,{editingPageStateID:c.pageStateID})}return a}e.exports=a}),null);
__d("replaceInArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=a.indexOf(b);return b>=0?[].concat(a.slice(0,b),[c],a.slice(b+1)):a}e.exports=a}),null);
__d("ProtonDataUpdaters",["ProtonClientIDs","ProtonConstants","ProtonDataSelectors","ProtonInitialStateConstants","ProtonPreviewUpdaters","ProtonProjectUpdaters","replaceInArray","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").EMPTY_MAP,h=b("ProtonDataSelectors").getActiveModeVariablesMap,i=b("ProtonDataSelectors").getProjectVariables,j=b("ProtonInitialStateConstants").INITIAL_DATA_SOURCES,k=b("ProtonPreviewUpdaters").updatePreview,l=b("ProtonProjectUpdaters").updateProject;function m(a){return b("spread")(a,{id:b("ProtonClientIDs").create("dataVariable")})}function a(a,b){var c=i(a);b=m(b);if(b.id==null)return a;c=new Map(c);c.set(b.id,b);return o(a,{variables:c})}function c(a,b){__p&&__p();var c=b.id;if(c==null)return a;a=a;var d=b;if(b.type==="dataSource"){var e=b.value,f=e.data;e=babelHelpers.objectWithoutPropertiesLoose(e,["data"]);d=babelHelpers["extends"]({},b,{value:babelHelpers["extends"]({},e)});f!=null&&(a=n(a,c,f))}b=new Map(h(a));b.set(c,d);return o(a,{variables:b})}function n(a,b,c){var d=new Map(a.dataSourceByVariableID);d.set(b,c);return babelHelpers["extends"]({},a,{dataSourceByVariableID:d})}function d(a,b){__p&&__p();var c=i(a),d=b.some(function(a){return c.has(a)});if(d){var e=new Map(c);b.forEach(function(a){return e["delete"](a)});d=e.size?e:g;return o(a,{variables:d})}return a}function f(a){return k(a,{dataSources:j})}function o(a,c){var d=a.mode==="edit";if(d)return l(a,{dataSources:b("spread")(a.project.dataSources,c)});else return k(a,{dataSources:b("spread")(a.preview.dataSources,c)})}function p(a,c,d){var e=a.modals.find(function(a){return a.id===c});if(e&&e.data.type==="edit data source"){e=b("replaceInArray")(a.modals,e,babelHelpers["extends"]({},e,{data:babelHelpers["extends"]({},e.data,d)}));return babelHelpers["extends"]({},a,{modals:e})}return a}e.exports={addVariable:a,deleteVariables:d,resetPreviewDataSources:f,updateDataSourceModal:p,updateVariable:c,updateVariableData:n,updateVariablesInActiveMode:o}}),null);
__d("protonDataSourceReducer",["ProtonDataSelectors","ProtonDataUpdaters","ProtonExpressionSelectors","ProtonExpressionUtils","ProtonReducerUtils","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonDataSelectors").getAllVariablesForActiveMode,h=b("ProtonDataUpdaters").addVariable,i=b("ProtonDataUpdaters").deleteVariables,j=b("ProtonDataUpdaters").updateDataSourceModal,k=b("ProtonDataUpdaters").updateVariable,l=b("ProtonDataUpdaters").updateVariableData,m=b("ProtonExpressionSelectors").selectExpressionContext,n=b("ProtonExpressionUtils").evaluate,o=b("ProtonExpressionUtils").parseExpression,p=b("ProtonReducerUtils").closeModal;function a(a,c){__p&&__p();switch(c.type){case"begin save data source":a=j(a,c.modalID,{isSaving:!0});break;case"finish save data source":a=k(a,c.variable);a=p(a,c.modalID);break;case"finish save data source with error":a=j(a,c.modalID,{isSaving:!1,error:c.error});break;case"create or update variable":c.variable.id?a=k(a,c.variable):a=h(a,c.variable);c.modalID&&(a=p(a,c.modalID));break;case"delete data variables":var d=c.variableIDs;a=i(a,d);c.modalID&&(a=p(a,c.modalID));break;case"update preview variable by id":if(a.mode!=="preview")return a;d=c.id;var e=c.newValue,f=c.expressionText,q=g(a);q=q.get(d);if(!q)break;d=m(a);d=babelHelpers["extends"]({},d,{identifiers:babelHelpers["extends"]({},d.identifiers,{newValue:e})});e=o(f);f=n(e,d);switch(q.type){case"boolean":q=b("spread")(q,{value:Boolean(f)});break;case"number":q=b("spread")(q,{value:Number(f)});break;case"string":q=b("spread")(q,{value:String(f)});break;case"dataSource":break;case"expression":break;default:q.type}a=k(a,q);break;case"update variable data":e=c.variableID;d=c.data;a=l(a,e,d);break;case"shared data sources loaded":f=c.dataSources;a=babelHelpers["extends"]({},a,{sharedDataSources:f});break}return a}e.exports=a}),null);
__d("protonDebugReducer",["ProtonUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonUtils").logErrorInDev;function a(a,b){switch(b.type){case"DEBUG ACTION - update state manually":if(typeof b.appStateUpdater==="function")return b.appStateUpdater(a);else g("appStateUpdater should be a function.");break;case"debug - set sneeze guard disabled state":b=b.isSneezeGuardDisabled;return babelHelpers["extends"]({},a,{debug:babelHelpers["extends"]({},a.debug,{isSneezeGuardDisabled:b})})}return a}e.exports=a}),null);
__d("ProtonElementUtils",["ProtonComponents","filterObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig;function a(a,b){__p&&__p();if(typeof b.name==="string")return b.name;if(!b.props)return a.name;if(a.hasCustomName)return a.name;var c=g(a.componentName);if(!c)return a.name;c=c.inlineEditPropName;if(!c)return a.name;b=h(b.props[c]).slice(0,30);return!b?a.name:b}function c(a,c){var d=g(a.componentName);return!d?{}:babelHelpers["extends"]({},b("filterObject")(c,function(a,b){return Object.prototype.hasOwnProperty.call(d.propTypes,b)}))}function h(a){a=a===null||a===void 0?"":a;a=typeof a==="string"?a:a.state.getCurrentContent().getPlainText();return a.replace(/\s+/g," ").trim()}e.exports={getUpdatedName:a,filterPropsForElement:c}}),null);
__d("ProtonElementUpdaters",["ProtonComponents","ProtonConstants","ProtonElementUtils","ProtonItemUpdaters","ProtonItemUtils","ProtonPageSelectors","ProtonPropUtils","ProtonRichTextUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonConstants").EMPTY_OBJECT,i=b("ProtonElementUtils").filterPropsForElement,j=b("ProtonElementUtils").getUpdatedName,k=b("ProtonItemUpdaters").updateItems,l=b("ProtonItemUpdaters").updateItemsBy,m=b("ProtonItemUtils").getElement,n=b("ProtonPageSelectors").getActivePageStateIDForEditMode,o=b("ProtonPageSelectors").getPage,p=b("ProtonPageSelectors").getRawActivePage,q=b("ProtonPropUtils").valueOrDefault,r=b("ProtonRichTextUtils").selectAllRichTextConfig;function s(a,b,c,d){return t(a,b,new Set([c]),d)}function t(a,b,c,d){return u(a,b,c,function(a){return d})}function u(a,b,c,d){__p&&__p();return l({state:a,pageID:b,itemIDs:Array.from(c),getUpdates:function(b){__p&&__p();var c=b.actualItem;b=b.pageItem;var e=n(a);if(b.type!=="element")return null;b=c;c=d(b);if(c){b=j(b,c);return e?c:babelHelpers["extends"]({},c,{name:b})}return null}})}function a(a,b,c,d,e){__p&&__p();var f,g=o(a,b);if(!g)return a;g=m(g,c);if(!g)return a;f=(f=g)!=null?(f=f.dataAdapterConfig)!=null?f[d]:f:f;e=babelHelpers["extends"]({},f,e);f=f&&f.sourceName;f!==e.sourceName&&delete e.columns;g={dataAdapterConfig:babelHelpers["extends"]({},g.dataAdapterConfig,(f={activeDataAdapterID:d},f[d]=e,f))};return s(a,b,c,g)}function c(a,b,c,d){return v(a,b,c,function(a){return babelHelpers["extends"]({},i(a,d))})}function v(a,b,c,d){return u(a,b,c,function(a){return{props:babelHelpers["extends"]({},i(a,d(a)))}})}function d(a,b,c,d,e){__p&&__p();return v(a,p(a).id,b,function(a){__p&&__p();var b=g(a.componentName);b=(b=b)!=null?(b=b.propTypes)!=null?b[c]:b:b;if(!b||!b.getEnumHelpers)return h;var f=b.getEnumHelpers(a.props).options;f=f.map(function(a){return a.value});if(!f.includes(d)||!f.includes(e))return h;f=q(a.props,c,b);a=f===d;return b={},b[c]=a?e:d,b})}function f(a,b){return k(a,p(a).id,b,{isHidden:!0})}function w(a,b){return k(a,p(a).id,b,{isHidden:!1})}function x(a,b){__p&&__p();return u(a,p(a).id,a.selection.selectedItemIDs,function(a){__p&&__p();var c=g(a.componentName);if(!c)return null;var d=c.inlineEditPropName;if(!d)return null;c=c.propTypes[d];c=c&&c.type==="richText";if(!c)return null;return!a.props[d]?null:{props:(c={},c[d]=b(r(a.props[d])),c)}})}e.exports={hideItems:f,unhideItems:w,updateElement:s,updateElementDataAdapterConfig:a,updateElements:t,updateElementsBy:u,updateElementsProps:c,updateElementsPropsBy:v,togglePropForElements:d,updateSelectedRichText:x}}),null);
__d("protonElementReducer",["ProtonCanvasSelectors","ProtonCanvasUpdaters","ProtonConstants","ProtonCymbalUpdaters","ProtonElementUpdaters","ProtonIDTypes","ProtonItemUpdaters","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonReducerUtils","ProtonRichTextUtils","ProtonSelectionUpdaters","ProtonSelectors","filterObject","forEachObject","groupArray","last"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").getIsInsertingText,h=b("ProtonCanvasUpdaters").updateCanvas,i=b("ProtonConstants").EMPTY_SET,j=b("ProtonCymbalUpdaters").autoPublishElementProps,k=b("ProtonElementUpdaters").hideItems,l=b("ProtonElementUpdaters").togglePropForElements,m=b("ProtonElementUpdaters").unhideItems,n=b("ProtonElementUpdaters").updateElement,o=b("ProtonElementUpdaters").updateElementDataAdapterConfig,p=b("ProtonElementUpdaters").updateElementsBy,q=b("ProtonElementUpdaters").updateSelectedRichText,r=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,s=b("ProtonItemUpdaters").updateItems,t=b("ProtonItemUpdaters").updateItemsAfterInsert,u=b("ProtonItemUtils").getActualItem,v=b("ProtonItemUtils").getItem,w=b("ProtonItemUtils").getItemID,x=b("ProtonItemUtils").getItems,y=b("ProtonItemUtils").getNames,z=b("ProtonPageItemSelectors").getRootItems,A=b("ProtonPageSelectors").getActivePageStateIDForEditMode,B=b("ProtonPageSelectors").getPageX,C=b("ProtonPageSelectors").getRawActivePage,D=b("ProtonPageUpdaters").updatePage,E=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,F=b("ProtonReducerUtils").addElementsToPage,G=b("ProtonReducerUtils").closeModalByType,H=b("ProtonReducerUtils").createElement,I=b("ProtonReducerUtils").getItemList,J=b("ProtonReducerUtils").setItemList,K=b("ProtonRichTextUtils").handleBold,L=b("ProtonRichTextUtils").handleItalic,M=b("ProtonRichTextUtils").handleUnderline,N=b("ProtonSelectionUpdaters").selectItems,O=b("ProtonSelectionUpdaters").updateSelection,P=b("ProtonSelectors").getParentGroupID,Q=b("ProtonSelectors").getTargetItemIDs,R=b("ProtonSelectors").getTopMostItemID;function a(a,c){__p&&__p();switch(c.type){case"add element":var d=B(a,c.pageID),e={componentName:c.componentName,name:c.name,position:b("filterObject")({height:c.height,left:c.left,top:c.top,width:c.width},function(a){return typeof a==="number"}),props:c.props};e=H(e,y(d.elementByID,d.groupByID,d.cymbalByID),a.userSettings.shouldAssignUniqueName);if(!e)return a;var f=R(d,a.selection.selectedItemIDs),S=g(a),T=E(a);a=G(D(a,d.id,F(d,T,[e],f)),"component picker");d.isCymbal&&(a=j(a,d.id,e));a=O(a,{activePageID:d.id,editingElementID:S?e.id:null,selectedItemIDs:new Set([e.id])});a=t({state:a,newItemIDs:new Set([e.id]),wereChildrenAdded:!1});return h(a,{insertingItem:null});case"make selected elements bold":T=a.selection.selectedItemIDs;a=q(a,K);a=l(a,T,"weight","bold","normal");return a;case"make selected elements italic":return q(a,L);case"underline selected elements":return q(a,M);case"deselect item":var U=c.itemID;return O(a,{editingElementID:null,selectedItemIDs:new Set(Array.from(a.selection.selectedItemIDs).filter(function(a){return a!==U}))});case"select parent group or deselect":var V=C(a);f=Array.from(a.selection.selectedItemIDs).map(function(a){return v(V,a)}).filter(Boolean);d=f.map(function(a){return P(V,a)}).filter(Boolean);return O(a,{editingElementID:null,isShowingPageResizeHandles:!1,selectedItemIDs:new Set(d),selectedPageIDs:i,temporarilyCollapsedItemIDs:i});case"hide items":return k(a,Q(a));case"hide item by id":return k(a,[c.itemID]);case"hover item":return a.selection.isDraggingInReorderableList?a:O(a,{hoveredItem:c.hoveredItem});case"unhover item":return a.selection.isDraggingInReorderableList?a:O(a,{hoveredItem:null});case"lock items":return s(a,c.pageID,c.itemIDs,{isLocked:!0});case"slide items":var W=c.direction==="up",aa=c.slideAmount,X=c.itemIDs,Y=B(a,c.pageID);S=x(Y,X);e=b("groupArray")(S,function(a){return P(Y,a)||""});b("forEachObject")(e,function(a,b){__p&&__p();a=I(Y,b);var c=a.length,d=new Array(c);W&&(a=a.slice(0).reverse());var e=0,f=0;for(var g=0;g<c;++g){while(e<c){var h=a[e];if(!X.has(w(h)))break;++e}while(f<c){h=a[f];if(X.has(w(h)))break;++f}f<c&&f-g<=aa?d[g]=a[f++]:d[g]=a[e++]}W&&(d=d.slice(0).reverse());Y=J(Y,b,d)});return D(a,c.pageID,Y);case"select items":c.pageStateID!==void 0?T=c.pageStateID||r:T=A(a);return N(a,c.itemIDs,c.pageID,T,c.selectionType);case"select all items":var Z=B(a,c.pageID);f=Array.from(z(Z)).filter(function(a){a=u(Z,a);return a&&!a.isHidden&&!a.isLocked}).map(w);d=new Set(f);return O(a,{editingElementID:null,lastSelectedElementID:b("last")(f),lastSelectedPageID:null,selectedItemIDs:d,selectedPageIDs:i});case"unhide items":return m(a,Q(a));case"unhide item by id":return m(a,[c.itemID]);case"unlock items":return s(a,c.pageID,c.itemIDs,{isLocked:!1});case"update element":return n(a,c.pageID,c.elementID,c.updates);case"update elements":var $=c.updatesByID;return p(a,c.pageID,new Set($.keys()),function(a){return $.get(a.id)});case"update element data adapter config":return o(a,c.pageID,c.elementID,c.activeDataAdapterID,c.newDataAdapterConfig)}return a}e.exports=a}),null);
__d("ProtonExpressionUpdaters",["ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPageUpdaters","ProtonSelectors","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemUtils").getActualItem,h=b("ProtonPageSelectors").getPage,i=b("ProtonPageUpdaters").updatePage,j=b("ProtonPageUpdaters").updatePageState,k=b("ProtonSelectors").getPageState;function a(a,c,d,e,f,g){__p&&__p();var m=h(a,c);if(!m)return a;var n=k(m,d),o=new Map(),p=[];e.forEach(function(a){var b=n?n.expressionDiffsByItemID.get(a):m.expressionsByItemID.get(a);b=new Map(b);typeof g==="string"?b.set(f,g):(b["delete"](f),p.push(a));o.set(a,b)});if(o.size){if(d&&n){e={expressionDiffsByItemID:b("mergeMaps")(n.expressionDiffsByItemID||new Map(),o)};a=j(a,c,d,e)}else{d={expressionsByItemID:b("mergeMaps")(m.expressionsByItemID,o)};a=i(a,c,d)}a=l(a,c,p,f);return a}return a}function l(a,c,d,e){__p&&__p();if(d.length===0)return a;e=h(a,c);if(!e)return a;c=new Map(a.computedExpressionsByItemID);var f=!1;for(var d=d,i=Array.isArray(d),j=0,d=i?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=d.length)break;k=d[j++]}else{j=d.next();if(j.done)break;k=j.value}k=k;k=g(e,k);if(!k)continue;k=b("ProtonInstancePath").create(e.id,k.id);f=c["delete"](k)||f}f&&(a=babelHelpers["extends"]({},a,{computedExpressionsByItemID:c}));return a}e.exports={updateExpressionsForItem:a,removeComputedExpression:l}}),null);
__d("protonExpressionReducer",["ProtonExpressionUpdaters","ProtonPageSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonExpressionUpdaters").removeComputedExpression,h=b("ProtonExpressionUpdaters").updateExpressionsForItem,i=b("ProtonPageSelectors").getActivePageID,j=b("ProtonPageSelectors").getActivePageStateIDForEditMode;function a(a,b){__p&&__p();switch(b.type){case"remove expression for items":var c=b.itemIDs,d=b.propPath,e=i(a),f=j(a),k=g(a,e,Array.from(c),d);return h(k,e,f,c,d,null);case"update expression for items":k=b.itemIDs;e=b.propPath;f=b.expression;c=i(a);d=j(a);return h(a,c,d,k,e,f)}return a}e.exports=a}),null);
__d("protonFileUploadReducer",["invariant","ProtonClientIDs","ProtonComponents","ProtonConstants","ProtonElementUpdaters","ProtonItemUpdaters","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonProjectUpdaters","ProtonPropPath","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonToastUpdaters","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ProtonComponents").getComponentConfig,i=b("ProtonConstants").EMPTY_ARRAY,j=b("ProtonConstants").EMPTY_ELEMENT,k=b("ProtonConstants").EMPTY_SET,l=b("ProtonElementUpdaters").updateElement,m=b("ProtonElementUpdaters").updateElementsProps,n=b("ProtonItemUpdaters").updateItemPropsByPath,o=b("ProtonItemUtils").getActualItem,p=b("ProtonItemUtils").getNames,q=b("ProtonItemUtils").isElement,r=b("ProtonPageItemSelectors").getRootItems,s=b("ProtonPageSelectors").getPage,t=b("ProtonPageSelectors").getPageX,u=b("ProtonPageUpdaters").updatePage,v=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,w=b("ProtonPositionSelectors").getPageSize,x=b("ProtonProjectUpdaters").updatePages,aa=b("ProtonPropPath").getPropPathParts,y=b("ProtonReducerUtils").addElementsToPage,z=b("ProtonReducerUtils").addModal,A=b("ProtonReducerUtils").closeModal,B=b("ProtonReducerUtils").createElement,ba=b("ProtonReducerUtils").createPage,ca=b("ProtonSelectionUpdaters").updateSelection,C=b("ProtonToastUpdaters").showToast;function a(a,c){__p&&__p();switch(c.type){case"yes to one per page modal":var d=c.imageIDs,e=c.modalID,f=[];a.pendingUploads.forEach(function(a){d.includes(a.id)&&a.type==="image"&&f.push(a)});f=f.map(function(a){return babelHelpers["extends"]({},a,{top:0,left:0})});var j=D(f,a.project.platform),p=a.project.pages.length===1&&r(a.project.pages[0]).length===0,w=[];f.forEach(function(c,b){b=ba([].concat(a.project.pages,w),a.selection.activePageID,{elementByID:new Map([[j[b].id,j[b]]]),height:c.height,items:[{type:"element",elementID:j[b].id}],name:c.name,width:c.width});w.push(b)});var B=0,C=a.pendingUploads.map(function(a){if(!d.includes(a.id)||a.type!=="image")return a;var b=w[B].id,c=r(w[B])[0];c.type==="element"||g(0,5794);c=c.elementID;B++;return babelHelpers["extends"]({},a,{destinationPageID:b,destinationElementID:c})}).filter(function(a){return!d.includes(a.id)||a.status!=="succeeded"});a=A(a,e);a=ca(a,{activePageID:w[0].id,lastActivePageIDs:i,selectedItemIDs:k});a=x(a,p?w:a.project.pages.concat(w));return babelHelpers["extends"]({},a,{pendingUploads:C});case"no to one per page modal":var J=c.imageIDs;e=c.modalID;var K=[];a.pendingUploads.forEach(function(a){J.includes(a.id)&&a.type==="image"&&K.push(a)});var L=D(K,a.project.platform);p=t(a,K[0].destinationPageID);var M=0;C=a.pendingUploads.map(function(a){if(!J.includes(a.id)||a.type!=="image")return a;var b=L[M].id;M++;return babelHelpers["extends"]({},a,{destinationElementID:b})}).filter(function(a){return!J.includes(a.id)||a.status!=="succeeded"});var N=v(a);a=A(a,e);a=babelHelpers["extends"]({},u(a,p.id,y(p,N,L)),{pendingUploads:C});return H(a,K,p);case"update element image url":e=c.image;N=e.destinationPageID;C=e.destinationElementID;p=e.destinationPropertyPath;if(!C)return a;var O=s(a,N);if(!O)return a;var P=a;O=o(O,C);if(O&&q(O)){O=O;var Q=h(O.componentName);if(Q){var R,S=aa(p)[1];Q=O.props[S]===void 0?(R={},R[S]=Q.propTypes[S]["default"],R):{};P=l(P,N,O.id,{position:babelHelpers["extends"]({},O.position,{width:e.width,height:e.height}),props:babelHelpers["extends"]({},O.props,Q)})}}P=babelHelpers["extends"]({},P,{pendingUploads:[].concat(a.pendingUploads,[e])});return n(P,N,C,p,E(e));case"upload images":S=c.images;var T=c.pageID;if(S.length>1){R=z(a,{type:"image per page",imageIDs:S.map(function(a){return a.id})});O=I(R);return babelHelpers["extends"]({},O,{pendingUploads:a.pendingUploads.concat(S)})}Q=t(a,T);P=v(a);var U=D(S,a.project.platform);N=babelHelpers["extends"]({},u(a,T,y(Q,P,U)),{pendingUploads:a.pendingUploads.concat(S.map(function(b,a){return babelHelpers["extends"]({},b,{destinationElementID:U[a].id,destinationPageID:T})}))});return I(H(N,S,Q));case"upload image succeeded":var V=c.imageID,W=c.url;C=a.pendingUploads.find(function(a){return a.id===V});if(!C||C.type!=="image")return a;p=a.modals.some(function(a){return a.data.type==="image per page"&&a.data.imageIDs.includes(V)});if(p)return babelHelpers["extends"]({},a,{pendingUploads:a.pendingUploads.map(function(a){return a.id===V&&a.type==="image"?babelHelpers["extends"]({},a,{status:"succeeded",url:W}):a})});e=C.destinationElementID;e&&(a=n(a,C.destinationPageID,e,C.destinationPropertyPath,W));return F(a,V);case"upload image failed":R=c.imageID;return F(a,R);case"upload video started":O=c.id;P=c.name;N=c.pageID;S=t(a,N);Q=da(S,P,a.userSettings.shouldAssignUniqueName);if(!Q)return a;p=v(a);a=u(a,N,y(S,p,[Q]));return ea(a,O,N,Q.id);case"upload video progressed":var X=c.id;e=c.progress;C=a.pendingUploads.find(function(a){return a.id===X});if(!C||!C.destinationElementID)return a;a=m(a,C.destinationPageID,new Set([C.destinationElementID]),{uploadProgress:e});return G(a,X,{progress:e});case"upload video finished":R=c.id;return G(a,R,{status:"succeeded"});case"upload video failed":P=c.error;var Y=c.id;S=a.pendingUploads.find(function(a){return a.id===Y&&a.type==="video"});if(!S||!S.destinationElementID)return a;a=m(a,S.destinationPageID,new Set([S.destinationElementID]),{hasUploadError:!0,isUploading:!1,uploadError:P});return F(a,Y);case"update element video url":var Z=c.id;p=c.pixelcloudUrl;O=c.videoID;N=a.pendingUploads.find(function(a){return a.id===Z&&a.type==="video"});if(!N||!N.destinationElementID)return a;a=m(a,N.destinationPageID,new Set([N.destinationElementID]),{isUploading:!1,pixelcloudUrl:p,videoID:O});return F(a,Z);case"upload sound started":Q=c.sound;C=Q.destinationPageID;e=Q.destinationElementID;R=Q.destinationPropertyPath;S=b("nullthrows")(e);P=babelHelpers["extends"]({},a,{pendingUploads:[].concat(a.pendingUploads,[Q])});return n(P,C,S,R,E(Q));case"upload sound succeeded":var $=c.soundID;N=c.url;p=a.pendingUploads.find(function(a){return a.id===$});if(!p||p.type!=="sound")return a;p.destinationElementID&&(a=n(a,p.destinationPageID,p.destinationElementID,p.destinationPropertyPath,N));return F(a,$);case"upload sound failed":O=c.soundID;return F(a,O)}return a}function D(a,c){var d=c==="vr";return a.map(function(a){return babelHelpers["extends"]({},j,{componentName:d?"ImageVR":"Image",aspectRatio:a.width/a.height,id:b("ProtonClientIDs").create("element"),isAspectRatioLocked:!0,name:a.name,position:{height:a.height,left:a.left,top:a.top,width:a.width},props:{src:E(a)}})})}function da(a,c,d){c={componentName:"ProdVideo",parentGroupID:null,id:b("ProtonClientIDs").create("element"),isAspectRatioLocked:!1,isHidden:!1,isLocked:!1,name:c,position:{height:0,left:0,top:0,width:0},props:{isUploading:!0,uploadProgress:0}};return B(c,p(a.elementByID,a.groupByID,a.cymbalByID),d)}function E(a){return a.status==="succeeded"?b("nullthrows")(a.url):null}function ea(a,b,c,d){return a.pendingUploads.find(function(a){return a.id===b&&a.type==="video"})?a:babelHelpers["extends"]({},a,{pendingUploads:[].concat(a.pendingUploads,[{destinationElementID:d,destinationPageID:c,id:b,status:"uploading",type:"video",progress:0}])})}function F(a,b){return babelHelpers["extends"]({},a,{pendingUploads:a.pendingUploads.filter(function(a){return a.id!==b})})}function G(a,b,c){return babelHelpers["extends"]({},a,{pendingUploads:a.pendingUploads.map(function(a){return a.id===b&&a.type==="video"?babelHelpers["extends"]({},a,c):a})})}function H(a,b,c){var d=v(a);d=w(c,d);var e=Math.max.apply(null,b.map(function(a){return a.height}));b=Math.max.apply(null,b.map(function(a){return a.width}));return e>d.height||b>d.width?z(a,{type:"resize page for images",height:e,pageID:c.id,width:b}):a}function I(a){if(a.userSettings.hasSeenImageScaleToast)return a;a=C(a,{type:"scale ratio"});return babelHelpers["extends"]({},a,{userSettings:babelHelpers["extends"]({},a.userSettings,{hasSeenImageScaleToast:!0})})}e.exports=a}),null);
__d("protonFixChildItemPositions",["ProtonBorderUtils","ProtonCanvasUpdaters","ProtonConstants","ProtonCSSShorthandUtils","ProtonCymbalComponentConfigs","ProtonIDTypes","ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonSelectors","ProtonVisitor","groupArrayAsMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonBorderUtils").getBorderFromCompoundBorder,h=b("ProtonBorderUtils").getBorderWidth,i=b("ProtonCanvasUpdaters").updateCanvas,j=b("ProtonConstants").EMPTY_OBJECT,k=b("ProtonCSSShorthandUtils").getInferredSpacing,l=b("ProtonCymbalComponentConfigs").selectComponentConfigByCymbalPageID,m=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,n=b("ProtonItemUpdaters").updateItemsInPageBy,o=b("ProtonItemUtils").getActualItem,p=b("ProtonItemUtils").getGroupX,q=b("ProtonItemUtils").getItem,r=b("ProtonItemUtils").getItemID,s=b("ProtonItemUtils").isDynamicGroup,t=b("ProtonPageItemSelectors").getRootItems,u=b("ProtonPageSelectors").getActivePageStateIDForEditMode,v=b("ProtonPageSelectors").getPageX,w=b("ProtonPageUpdaters").updatePage,x=b("ProtonPageUpdaters").updatePageStateInPage,y=b("ProtonPositionSelectors").getBoundingPosition,z=b("ProtonPositionSelectors").getItemCoords,A=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,B=b("ProtonPositionSelectors").getPosition,C=b("ProtonPositionSelectors").isHeightGrow,D=b("ProtonPositionSelectors").isPageFitToChildren,E=b("ProtonPositionSelectors").isWidthGrow,F=b("ProtonSelectors").applyStateToPage,G=b("ProtonSelectors").applyTransformationsToPage,H=b("ProtonSelectors").getParentGroupID;function a(a,b){if(a===b)return b;var c=a.project,d=b.project;a=!!a.isLoadingProject||!!b.isLoadingProject;return a?b:I(b,c,d)}function I(a,b,c){var d=a;if(b===c)return d;var e=new Map(b.pages.map(function(a){return[a.id,a]}));c.pages.forEach(function(a,b){b=e.get(a.id);b&&(d=J(d,b,a))});return d}function J(a,b,c){var d=a;if(c===b)return d;(b.elementByID!==c.elementByID||b.groupByID!==c.groupByID||b.cymbalByID!==c.cymbalByID||b.sizeBehavior!==c.sizeBehavior)&&(d=K(d,c.id,b),d=L(d,c.id,m));b.pageStateByID!==c.pageStateByID&&b.pageStateByID.forEach(function(a,b){var e=c.pageStateByID.get(b);e&&a!==e&&(d=L(d,c.id,b))});return d}function K(a,c,d){__p&&__p();var e=A(a),f=v(a,c),g=u(a),h=l(a),i=g!=null?G(d,new Set([g]),a.computedExpressionsByItemID,h,null,j):d,o=[];b("ProtonVisitor").visitPages([f],{onItem:function(a){__p&&__p();var g=a.item,h=a.itemID;a=a.parentGroupID;var j=H(d,g);h=!q(d,h);if(h)return;h=s(d,a)&&!s(f,a);if(j===a&&!h)return;o.push({item:g,newParentGroupID:a,oldPosition:B({itemOrID:g,measuredPositionByInstancePath:e,page:i,parentInstancePath:b("ProtonInstancePath").create(c)})})}});if(!o.length)return a;g=b("groupArrayAsMap")(o,function(a){return a.newParentGroupID});f=N(f,o.map(function(a){a=a.item;return a}));g.forEach(function(d,g){__p&&__p();if(g!=null){var h=p(f,g);if(h.layout!=="dynamic"){var i=k(h.padding),j=z({itemOrID:g,measuredPositionByInstancePath:e,page:f,parentInstancePath:b("ProtonInstancePath").create(c)});f=n(a,f,m,d.map(function(a){return a.item}),function(a){var b=a.actualItem;a=a.itemIndex;a=d[a].oldPosition;var c=a.width,e=a.height;a=babelHelpers.objectWithoutPropertiesLoose(a,["width","height"]);var f=b.widthSizeBehavior==="grow to parent"?"fixed":b.widthSizeBehavior,g=b.heightSizeBehavior==="grow to parent"?"fixed":b.heightSizeBehavior;return{widthSizeBehavior:f,heightSizeBehavior:g,position:{height:e,width:c,left:a.left-j.left-i.left,top:b.positionType==="fixed"?b.position.top:a.top-j.top-i.top}}})}}else f=n(a,f,m,d.map(function(a){return a.item}),function(a){a.actualItem;a=a.itemIndex;a=d[a].oldPosition;return{position:{left:a.left,top:a.top}}})});return f===d?a:w(a,f.id,f)}function L(a,b,c){a=a;a=M(a,b,c);a=P(a,b,c);return a}function M(a,c,d){__p&&__p();var e=A(a),f=v(a,c),i=F(f,d),j=[];b("ProtonVisitor").visitPages([i],{onAfterGroup:function(a){a=a.group;a.layout==="static"&&j.push(a.id)}});j.forEach(function(j){__p&&__p();var l=p(i,j),m=l.items.filter(function(a){return!O(i,a)}),q=m.map(function(a){return o(i,a)}).filter(Boolean);if(!q.length)return;m=y({items:m,measuredPositionByInstancePath:e,page:i,parentInstancePath:b("ProtonInstancePath").create(c)});j=z({itemOrID:j,measuredPositionByInstancePath:e,page:i,parentInstancePath:b("ProtonInstancePath").create(c)});var r=k(l.padding),s=g(l.border),t=l.widthSizeBehavior==="fit to children"?m.left-(j.left+r.left+h(s.left)):0,u=l.heightSizeBehavior==="fit to children"?m.top-(j.top+r.top+h(s.top)):0;(t!==0||u!==0)&&(f=n(a,f,d,[l.id],function(a){var b=a.actualItem;a.itemIndex;return{position:{left:b.position.left+t,top:b.position.top+u}}}),f=n(a,f,d,q.map(function(a){return a.id}),function(a){var b=a.actualItem;a.itemIndex;a={left:b.position.left-t,top:b.position.top};b.positionType!=="fixed"&&(a.top=b.position.top-u);return{position:a}}))});return w(a,c,f)}function N(a,b){__p&&__p();var c=a;c.pageStateByID.forEach(function(a,d){__p&&__p();var e=!1,f=!1,g=!1,h=new Map(a.cymbalDiffByID),i=new Map(a.elementDiffByID),j=new Map(a.groupDiffByID);b.forEach(function(a){__p&&__p();switch(a.type){case"element":var b=i.get(a.elementID);if(b&&b.position){f=!0;b.position;b=babelHelpers.objectWithoutPropertiesLoose(b,["position"]);i.set(a.elementID,b)}break;case"group":b=j.get(a.groupID);if(b&&b.position){g=!0;b.position;b=babelHelpers.objectWithoutPropertiesLoose(b,["position"]);j.set(a.groupID,b)}break;case"cymbal":b=h.get(a.cymbalID);if(b&&b.position){e=!0;b.position;b=babelHelpers.objectWithoutPropertiesLoose(b,["position"]);h.set(a.cymbalID,b)}break;default:a.type}});(e||f||g)&&(c=x(c,d,{groupDiffByID:j,elementDiffByID:i,cymbalDiffByID:h}))});return c}function O(a,b){return b.type==="group"&&!p(a,b.groupID).items.length}function P(a,b,c){__p&&__p();a=a;var d=v(a,b),e=F(d,c);if(!D(e))return a;var f=t(e).map(function(a){var b=o(e,a);return!b||b.isHidden?null:{actualItem:b,pageItem:a}}).filter(Boolean);if(!f.length)return a;var g=f.filter(function(a){var b=a.actualItem;a.pageItem;return!E(b)}).map(function(a){a=a.actualItem;return a.position.left});f=f.filter(function(a){var b=a.actualItem;a.pageItem;return!C(b)&&b.positionType!=="fixed"}).map(function(a){a=a.actualItem;return a.position.top});var h=g.length===0?0:Math.min.apply(Math,g),j=f.length===0?0:Math.min.apply(Math,f);if(h===0&&j===0)return a;d=n(a,d,c,t(e).map(r),function(a){var b=a.actualItem;a.pageItem;var c;E(b)?a=0:a=b.position.left-h;b.positionType==="fixed"?c=b.position.top:C(b)?c=0:c=b.position.top-j;return{position:{left:a,top:c}}});a.selection.activePageID===d.id&&u(a)===c&&(a=i(a,{scrollPositionOnNextRender:{left:a.canvas.scrollLeft-h,top:a.canvas.scrollTop-j}}));return w(a,b,d)}e.exports=a}),null);
__d("protonGroupReducer",["ProtonCopyPastePageUpdaters","ProtonGroupUpdaters","ProtonGroupUtils","ProtonItemUtils","ProtonPageSelectors","ProtonPageUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSelectors","addToSet","filterMap","firstx","removeFromSet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCopyPastePageUpdaters").pluckItems,h=b("ProtonGroupUpdaters").createOverflowContainer,i=b("ProtonGroupUpdaters").groupItems,j=b("ProtonGroupUpdaters").updateGroup,k=b("ProtonGroupUpdaters").updateGroups,l=b("ProtonGroupUpdaters").updateGroupsBy,m=b("ProtonGroupUtils").getFlexDirection,n=b("ProtonItemUtils").getGroupX,o=b("ProtonItemUtils").getItem,p=b("ProtonItemUtils").getItemAndID,q=b("ProtonItemUtils").getItemID,r=b("ProtonPageSelectors").getActivePageID,s=b("ProtonPageSelectors").getActivePageStateIDForEditMode,t=b("ProtonPageSelectors").getPageX,u=b("ProtonPageSelectors").getRawActivePage,v=b("ProtonPageUpdaters").updatePage,w=b("ProtonReducerUtils").insertItems,x=b("ProtonSelectionUpdaters").selectItems,y=b("ProtonSelectionUpdaters").updateSelection,z=b("ProtonSelectors").getTargetItemIDs;function a(a,c){__p&&__p();switch(c.type){case"collapse group":var d=new Set(a.selection.expandedItemIDs),e=a.selection.temporarilyCollapsedItemIDs;d.has(c.groupID)?d["delete"](c.groupID):e=b("addToSet")(e,c.groupID);return y(a,{expandedItemIDs:d,temporarilyCollapsedItemIDs:e});case"expand group":return y(a,{expandedItemIDs:b("addToSet")(a.selection.expandedItemIDs,c.groupID),temporarilyCollapsedItemIDs:b("removeFromSet")(a.selection.temporarilyCollapsedItemIDs,c.groupID)});case"group items":d=u(a).id;e=z(a);return!e.size?a:i({baseName:"Group",itemIDs:e,pageID:d,state:a});case"group items dynamically":e=u(a).id;d=z(a);return!d.size?a:i({baseName:"Group",itemIDs:d,layout:"dynamic",pageID:e,state:a});case"add masking container":return h({itemIDs:z(a),layout:"masking",position:c.position,state:a});case"add scrolling container":return h({itemIDs:z(a),layout:"scrolling",position:c.position,state:a});case"adjust group spacing":d=function(a){var b,c=m(a.layoutDirection);c=c==="row"?"spacingX":"spacingY";return b={},b[c]={isSpaceBetween:!1,value:Math.max(0,a[c].value+f)},b};var f=c.spacingDelta,A=u(a);e=Array.from(a.selection.selectedItemIDs).map(function(a){a=p(A,a).pageItem;if(!a||a.type!=="group")return null;a=n(A,a.groupID);return a.layout!=="dynamic"?null:a.id}).filter(Boolean);return l({state:a,pageID:A.id,groupIDs:new Set(e),getUpdates:d});case"select first group item":if(a.selection.editingElementID||a.selection.selectedItemIDs.size!==1)return a;e=u(a);d=b("firstx")(a.selection.selectedItemIDs);var B=o(u(a),d);if(!B||B.type!=="group")return a;B=n(e,d);return B.items.length===0?a:x(a,[q(b("firstx")(B.items))],e.id,s(a),"single");case"ungroup items":d=u(a).id;var C=z(a),D=t(a,d);B=g(D,C);e=B.pluckedItems;e.reverse();B=e.map(function(a){return a.type==="group"?D.groupByID.get(a.groupID):null}).filter(Boolean);var E=new Set(B.map(function(a){return a.id})),F=new Set();E.forEach(function(a){a=D.groupByID.get(a);if(!a)return;a.items.forEach(function(a){a=q(a);E.has(a)||F.add(a)});D=w(D,a.items,a.parentGroupID,{where:"after item id",afterItemID:a.id})});e=g(D,E);D=e.newPage;D=babelHelpers["extends"]({},D,{groupByID:b("filterMap")(D.groupByID,function(a,b){return!C.has(b)})});a=v(a,d,D);a=y(a,{selectedItemIDs:F});return a;case"update group":B=c.groupID;e=c.pageID;d=c.updates;a=j(a,e,B,d);return y(a,{shouldShowSelectionChrome:!1});case"update groups":e=c.groupIDs;B=c.pageID;d=c.updates;return k({state:a,pageID:B,groupIDs:e,groupUpdates:d});case"update groups layout":B=c.groupIDs;e=c.layout;d=r(a);return k({state:a,pageID:d,groupIDs:B,groupUpdates:{layout:e},bypassStateAndWriteToMaster:!0})}return a}e.exports=a}),null);
__d("ProtonPageReducerUtils",["ProtonReducerUtils","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonReducerUtils").createPage;function a(a,c,d){var e=[].concat(d),f=new Map();d=b("mapMap")(c,function(b){var c=g(e,a.selection.activePageID,b);e.push(c);f.set(b.id,c.id);return c});return{pageByID:d,oldIDToNewID:f}}e.exports={reIDPages:a}}),null);
__d("ProtonSharedComponentUpdaters",["ProtonCymbalVisitor","ProtonPageSelectors","ProtonPageUpdaters","ProtonSharedComponentSelectors","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCymbalVisitor").getUsedCymbalPages,h=b("ProtonPageSelectors").getPage,i=b("ProtonPageUpdaters").deletePages,j=b("ProtonPageUpdaters").updatePage,k=b("ProtonSharedComponentSelectors").getSharedComponentCountByID,l=b("ProtonSharedComponentSelectors").selectAllSharedComponentIDByPageID;function a(a){__p&&__p();var b=l(a),c=k(a);b=Array.from(b).reduce(function(b,d){__p&&__p();var e=d[0];d=d[1];d=c.get(d);if(d==null||d===0){b.push(e);d=h(a,e);if(!d)return b;e=new Set(Array.from(d.cymbalByID.values()).map(function(a){return a.cymbalPageID}));return b.concat(Array.from(g(a,e).keys()))}return b},[]);return i(a,new Set(b))}function c(a,c,d){var e=b("mapMap")(c.cymbalByID,function(a,b){b=d.get(b);return b!=null?babelHelpers["extends"]({},a,{cymbalPageID:b}):a});return j(a,c.id,{cymbalByID:e})}e.exports={removeUnusedSharedComponentPages:a,updatePageCymbalInstances:c}}),null);
__d("protonItemReducer",["ProtonComponents","ProtonConstants","ProtonCopyPastePageUpdaters","ProtonCopyPasteSelectors","ProtonCymbalUpdaters","ProtonCymbalVisitor","ProtonElementUpdaters","ProtonInstancePath","ProtonItemListSelectors","ProtonItemUpdaters","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageReducerUtils","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonProjectUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSelectors","ProtonSemaphore","ProtonSharedComponentUpdaters","ProtonToastUpdaters","ProtonUtils","filterMap","first","gkx","lastx","mapMap","mergeMaps","nullthrows","shallowEqual","wrapIndex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonConstants").CURRENT_PROJECT_SCHEMA_VERSION,i=b("ProtonConstants").EMPTY_POSITION,j=b("ProtonConstants").EMPTY_SET,k=b("ProtonCopyPastePageUpdaters").duplicateItems,l=b("ProtonCopyPastePageUpdaters").pluckItems,m=b("ProtonCopyPastePageUpdaters").reIDItems,n=b("ProtonCopyPastePageUpdaters").removeFromItemByIDMaps,o=b("ProtonCopyPasteSelectors").getItemMapsForCopy,p=b("ProtonCymbalUpdaters").autoPublishProps,aa=b("ProtonCymbalVisitor").isCymbalInPageChain,q=b("ProtonElementUpdaters").updateElementsBy,r=b("ProtonItemListSelectors").selectItemAndLevelOfNestingByIndex,ba=b("ProtonItemUpdaters").deleteItems,ca=b("ProtonItemUpdaters").reorderItems,s=b("ProtonItemUpdaters").repositionItems,t=b("ProtonItemUpdaters").repositionItemsInViewport,u=b("ProtonItemUpdaters").updateItems,v=b("ProtonItemUpdaters").updateItemsBy,da=b("ProtonItemUpdaters").updateItemsProps,w=b("ProtonItemUpdaters").updateItemsAfterInsert,x=b("ProtonItemUtils").getActualItem,y=b("ProtonItemUtils").getItem,z=b("ProtonItemUtils").getItemID,ea=b("ProtonItemUtils").getItems,A=b("ProtonItemUtils").isDynamicGroup,fa=b("ProtonPageItemSelectors").getRootItems,ga=b("ProtonPageReducerUtils").reIDPages,ha=b("ProtonPageSelectors").doesPageExist,ia=b("ProtonPageSelectors").getActivePageID,ja=b("ProtonPageSelectors").getActivePageStateIDForEditMode,B=b("ProtonPageSelectors").getPageX,C=b("ProtonPageSelectors").getRawActivePage,D=b("ProtonPageUpdaters").updatePage,ka=b("ProtonPositionSelectors").getBoundingPosition,la=b("ProtonPositionSelectors").getItemCoords,ma=b("ProtonPositionSelectors").getItemSize,E=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,na=b("ProtonPositionSelectors").getPosition,F=b("ProtonPositionSelectors").isHeightGrow,G=b("ProtonPositionSelectors").isWidthGrow,H=b("ProtonProjectUpdaters").updatePages,oa=b("ProtonReducerUtils").createCymbal,pa=b("ProtonReducerUtils").createPage,I=b("ProtonReducerUtils").getItemList,J=b("ProtonReducerUtils").insertItems,K=b("ProtonSelectionUpdaters").resetCymbalPageStates,L=b("ProtonSelectionUpdaters").updateSelection,M=b("ProtonSelectors").getParentGroupID,N=b("ProtonSelectors").getSelectedItemIDs,O=b("ProtonSelectors").getTargetItemIDs,P=b("ProtonSelectors").getTopMostItemID,qa=b("ProtonSharedComponentUpdaters").removeUnusedSharedComponentPages,ra=b("ProtonToastUpdaters").showDeleteInStateWarning,sa=b("ProtonToastUpdaters").showInvalidStateOperationToast,ta=b("ProtonToastUpdaters").showPastingFromNewerVersionWarning,ua=b("ProtonUtils").getOrderedSelectedPageIDs;function a(a,c){__p&&__p();switch(c.type){case"batch measured items":var d=c.measuredPositionByInstancePath,e=a.measuredPositionByInstancePath,f=e.withMutations(function(a){return d.forEach(function(c,d){var f=e.get(d);if(!f){a.set(d,babelHelpers["extends"]({},i,c));return}c=babelHelpers["extends"]({},f,c);b("shallowEqual")(c,f)||a.set(d,c)})});return babelHelpers["extends"]({},a,{measuredPositionByInstancePath:f});case"duplicate items":f=C(a).id;var g=O(a);if(g.size===0)return a;g=k(a,f,g,a.userSettings.shouldOffsetOnDuplicate,a.userSettings.shouldAssignUniqueName);var q=g.page;g=g.duplicatedItemIDs;a=D(a,f,q);a=w({state:a,newItemIDs:g,wereChildrenAdded:!0});a=K(a);return a;case"duplicate items for drag":f=c.itemIDs;q=c.pageID;g=k(a,q,f,!1,a.userSettings.shouldAssignUniqueName);f=g.page;a=D(a,q,f);return K(a);case"import json":var t=c.pageID;g=c.jsonObjects;q=g.some(function(a){return a.projectSchemaVersion>h});if(q)return ta(a);var A=B(a,t),F=[];q=function(){__p&&__p();if(I){if(M>=G.length)return"break";f=G[M++]}else{M=G.next();if(M.done)return"break";f=M.value}var c=f;if(c.type==="props")return{v:za(a,c,t)};var d=c.fromProjectID===a.selection.activeProjectID?null:{source:"proton paste",fromProjectID:c.fromProjectID},e=c.elementByID,g=c.expressionsByItemID,h=A.isCymbal?c.propMetadataByID:new Map(),i=new Set(),j=new Set(c.selectedPageIDs),k=c.cymbalByID,n=new Map(),o=new Map(),p=b("filterMap")(c.pageByID,function(a){return j.has(a.id)}),q=[].concat(a.project.pages),r=ua(a.project.pages,a.selection.selectedPageIDs);r=r.length?b("lastx")(r):a.selection.activePageID;if(c.fromProjectID===a.selection.activeProjectID){p=ga(a,p,q);n=p.pageByID;o=p.oldIDToNewID;k=b("filterMap")(k,function(b,c){b=b.cymbalPageID;if(ha(a,b)&&aa(a,b,a.selection.activePageID)){i.add(c);return!1}return!0})}else{p=ga(a,c.pageByID,q);n=p.pageByID;o=p.oldIDToNewID;k=ya(k,o);n=b("mapMap")(n,function(a){return babelHelpers["extends"]({},a,{cymbalByID:ya(a.cymbalByID,o)})})}q=l({items:c.items,groupByID:new Map(c.groupByID)},i);p=q.newPage;c=p.items;q=p.groupByID;p=m({page:A,items:c,groupByID:q,cymbalByID:k,expressionsByItemID:g,propMetadataByID:h,elementByID:e,shouldAssignUniqueName:a.userSettings.shouldAssignUniqueName,areItemsFromDifferentPage:!0});A=p.page;F.push.apply(F,p.items);c=Array.from(n.values());d&&(c=c.map(function(a){return wa(a,d)}));q=[].concat(a.project.pages);q.length&&q.splice.apply(q,[q.indexOf(B(a,r))+1,0].concat(c));a=H(a,q)};_loop:for(var G=g,I=Array.isArray(G),M=0,G=I?G:G[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){g=q();switch(g){case"break":break _loop;default:if(typeof g==="object")return g.v}}a=va(a,A,F);return K(a);case"import semaphore":g=c.pageID;q=c.semaphoreDocuments;var N=B(a,g),Q=[],R=[];q.forEach(function(c){c=b("ProtonSemaphore").convert(c);if(!c)return;c.pages.forEach(function(b){b=pa([].concat(a.project.pages,R),a.selection.activePageID,b);R.push(b)});Q.push.apply(Q,c.items);N=babelHelpers["extends"]({},N,{elementByID:b("mergeMaps")(N.elementByID,c.elementByID),groupByID:b("mergeMaps")(N.groupByID,c.groupByID)})});a=va(a,N,Q);R.length&&(a=L(a,{activePageID:b("lastx")(R).id}),a=H(a,a.project.pages.concat(R)));return a;case"delete items":g=C(a);q=O(a);ja(a)&&(a=ra(a));var S=xa(g,q);a=ba(a,g.id,q);a=L(a,{selectedItemIDs:S?new Set([S]):j});return qa(a);case"reorder items":g=c.fromIndex;q=c.toIndex;S=r(a);var T=g<q,V=a.selection.selectedItemIDs;g=S[g];var W=S[q];V=V.has(g.itemID)?V:new Set([g.itemID]);g=null;T?q<S.length-1?g=S[q+1].itemID:g=null:g=W.itemID;S=C(a);q=b("nullthrows")(y(S,W.itemID));S=b("nullthrows")(x(S,W.itemID));q=q.type==="group"&&T&&a.selection.expandedItemIDs.has(W.itemID)?W.itemID:S.parentGroupID;return ca({state:a,itemIDs:V,afterItemID:g,toParentGroupID:q});case"reposition items":T=c.pageID;W=c.itemIDs;S=c.positionDelta;V=c.positionUpdates;g=c.isHotkeyReposition;q=c.shouldHideSelectionChrome;a=L(a,{shouldShowSelectionChrome:!q});return s({state:a,pageID:T,itemIDs:W,positionDelta:S,positionUpdates:V,isHotkeyReposition:g});case"begin edit name inline":return L(a,{editingNameItemID:c.itemID,editingNameItemType:c.itemType});case"end edit name inline":return L(a,{editingNameItemID:null,editingNameItemType:null});case"edit name of next item":a=U(a,"next");return L(a,{editingNameItemID:b("first")(a.selection.selectedItemIDs),editingNameItemType:"item"});case"edit name of previous item":a=U(a,"previous");return L(a,{editingNameItemID:b("first")(a.selection.selectedItemIDs),editingNameItemType:"item"});case"update items":return u(a,c.pageID,c.itemIDs,c.updates);case"update items props":q=c.pageID;T=c.itemIDs;W=c.updates;a=da(a,q,T,W);return L(a,{shouldShowSelectionChrome:!1});case"select next item":return U(a,"next");case"select previous item":return U(a,"previous");case"create cymbal from items":var X=O(a);if(X.size===0)return a;S=ja(a);if(S)return sa(a,"Creating a custom component from a selection");var Y=C(a),Z=ka({page:Y,measuredPositionByInstancePath:E(a),items:ea(Y,X),parentInstancePath:b("ProtonInstancePath").create(Y.id)});V=b("nullthrows")(P(Y,X));g=b("nullthrows")(x(Y,V));q=V?g.parentGroupID:null;T=q?la({itemOrID:q,measuredPositionByInstancePath:E(a),page:Y,parentInstancePath:b("ProtonInstancePath").create(Y.id)}):{top:0,left:0};W={top:Z.top-T.top,left:Z.left-T.left};S=Array.from(X).map(function(a){return x(Y,a)}).filter(Boolean).filter(function(a){return!a.parentGroupID||!X.has(a.parentGroupID)});T=S.some(function(a){return a.widthSizeBehavior!=="grow to parent"})&&S.some(function(a){return a.heightSizeBehavior!=="grow to parent"});var $=pa(a.project.pages,Y.id,{backgroundColor:{isActive:!1,value:"transparent"},height:Z.height,isCymbal:!0,name:g.name,sizeBehavior:T?"fit to children":"custom",width:Z.width});S=oa({parentGroupID:q,position:W},$,new Set(),!1);g=new Map(Y.cymbalByID);g.set(S.id,S);Y=J(Y,[{type:"cymbal",cymbalID:S.id}],q,{where:"after item id",afterItemID:V});Y=babelHelpers["extends"]({},Y,{cymbalByID:g});T=l(Y,X);W=T.pluckedItems;q=T.newPage;V=n(q,W);g=V.newPage;T=V.allRemovedItemIDs;q=o(Y,T,E(a));V=m({page:$,items:W,elementByID:q.elementByID,groupByID:q.groupByID,cymbalByID:q.cymbalByID,expressionsByItemID:q.expressionsByItemID,propMetadataByID:q.propMetadataByID,shouldAssignUniqueName:!1,areItemsFromDifferentPage:!0});$=J(V.page,V.items,null,{where:"at bottom"});a=D(a,Y.id,g);a=L(a,{selectedItemIDs:new Set([S.id])});a=H(a,[].concat(a.project.pages,[$]));a=p(a,$);return v({state:a,pageID:$.id,itemIDs:fa($).map(z),getUpdates:function(c){c.actualItem;c=c.pageItem;c=na({itemOrID:c,measuredPositionByInstancePath:E(a),page:$,parentInstancePath:b("ProtonInstancePath").create($.id)});return{position:{top:c.top-Z.top,left:c.left-Z.left}}}});case"lock item aspect ratio":T=C(a);W=ma({itemOrID:c.itemID,measuredPositionByInstancePath:E(a),page:T,parentInstancePath:b("ProtonInstancePath").create(T.id)});return u(a,c.pageID,[c.itemID],{aspectRatio:W.width/W.height,isAspectRatioLocked:!0});case"unlock item aspect ratio":return u(a,c.pageID,[c.itemID],{isAspectRatioLocked:!1});case"update item name":q=c.itemID;var Aa=c.name;return v({state:a,pageID:ia(a),itemIDs:[q],getUpdates:function(a){a=a.pageItem;return a.type==="element"?{hasCustomName:!0,name:Aa}:{name:Aa}},options:{bypassStateAndWriteToMaster:!0}})}return a}function Q(a){var c=a.state,d=a.pageID,e=a.items;a=a.parentGroupID;var f=B(c,d);if(A(f,a))return c;var g=E(c);a=la({itemOrID:a,measuredPositionByInstancePath:g,page:f,parentInstancePath:b("ProtonInstancePath").create(f.id)});return s({state:c,pageID:d,itemIDs:new Set(e.map(function(a){return z(a)})),positionDelta:{top:-a.top,left:-a.left}})}function va(a,c,d){__p&&__p();if(!d.length)return a;var e=d.map(z),f,g=P(c,a.selection.selectedItemIDs);if(g){var h=y(c,g);h&&(f=M(c,h))}var i=new Map(e.map(function(a){var b=x(c,a);if(f||!b)return[a,null];var d={position:{}},e=!1;F(b)&&(d.heightSizeBehavior="fixed",d.position.height=b.position.height,e=!0);G(b)&&(d.widthSizeBehavior="fixed",d.position.width=b.position.width,e=!0);return[a,e?d:null]}));c=J(c,d,f,g?{where:"after item id",afterItemID:g}:{where:"at top"});a=D(a,c.id,c);a=v({state:a,pageID:c.id,itemIDs:e,getUpdates:function(a){a=a.actualItem.id;return i.get(a)}});b("gkx")("807523")&&f==null&&(a=t(a,e));a=w({state:a,newItemIDs:new Set(e),wereChildrenAdded:!0});f&&(a=Q({state:a,parentGroupID:f,items:d,pageID:c.id}));return a}function wa(a,b){return babelHelpers["extends"]({},a,{cymbalByID:R(a.cymbalByID,b),elementByID:R(a.elementByID,b),groupByID:R(a.groupByID,b),importMetadata:b})}function R(a,c){return b("mapMap")(a,function(a){return babelHelpers["extends"]({},a,{importMetadata:c})})}function xa(a,c){__p&&__p();var d=b("first")(c);if(!d)return null;var e=y(a,d);if(!e)return null;e=M(a,e);a=I(a,e).map(z).filter(function(a){return a===d||!c.has(a)});if(a.length>1){var f=a.indexOf(d);return S(f,a)}return e&&!c.has(e)?e:null}function S(a,c){return c.length===0?null:c[b("wrapIndex")(a-1,c.length)]}function T(a,c){return c.length===0?null:c[b("wrapIndex")(a+1,c.length)]}function U(a,b){__p&&__p();var c=C(a),d=N(a);d=P(c,d);var e=d?y(c,d):null;d=e?M(c,e):null;c=I(c,d).map(z);if(c.length===0)return a;d=e?c.findIndex(function(a){return a===z(e)}):b==="next"?0:-1;b=b==="next"?S(d,c):T(d,c);return L(a,{lastSelectedElementID:b,selectedItemIDs:b?new Set([b]):j,shouldShowSelectionChrome:!0})}function ya(a,b){__p&&__p();var c=new Map();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];var h=b.get(f.cymbalPageID);h&&c.set(g,babelHelpers["extends"]({},f,{cymbalPageID:b.get(f.cymbalPageID)}))}return c}function V(a,b){return Object.keys(a).filter(function(c){var d=a[c],e=b[c];d=d&&e&&d.type&&e.type&&d.type===e.type&&a[c].isEditable&&b[c].isEditable;return d})}function za(a,b,c){__p&&__p();var d=b.copiedProps,e=g(b.componentName);if(!e)return a;b=C(a);b=ea(b,a.selection.selectedItemIDs).map(function(a){return a.type==="element"?a.elementID:null}).filter(Boolean);b=new Set(b);return q(a,c,b,function(a){var b=g(a.componentName);if(!b)return null;b=V(e.propTypes,b.propTypes);var c={},f=!1;b.filter(function(a){return Object.prototype.hasOwnProperty.call(d,a)}).forEach(function(a){c[a]=d[a],f=!0});return!f?null:{props:babelHelpers["extends"]({},a.props,c)}})}e.exports=a}),null);
__d("protonLintReducer",["ProtonComponents","ProtonElementUpdaters","ProtonGroupUpdaters","ProtonIDTypes","ProtonItemUtils","ProtonLintUpdaters","ProtonPageSelectors","ProtonPageUpdaters","ProtonPropPath","ProtonPropUtils","addToMap","addToSet","removeFromSet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonElementUpdaters").updateElement,i=b("ProtonGroupUpdaters").updateGroup,j=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,k=b("ProtonItemUtils").getCymbal,l=b("ProtonItemUtils").getElement,m=b("ProtonItemUtils").getGroup,n=b("ProtonItemUtils").getItem,o=b("ProtonLintUpdaters").ignoreLintIssue,p=b("ProtonLintUpdaters").unignoreLintIssue,q=b("ProtonLintUpdaters").updateLint,r=b("ProtonPageSelectors").getPage,s=b("ProtonPageUpdaters").updatePage,t=b("ProtonPropPath").setValueAtPath,u=b("ProtonPropUtils").getDefaultProps;function a(a,c){__p&&__p();switch(c.type){case"ignore lint issue":return o(a,c.lintIssueID);case"unignore lint issue":return p(a,c.lintIssueID);case"hide ignored lint issues":return q(a,{isShowingIgnored:!1});case"show ignored lint issues":return q(a,{isShowingIgnored:!0});case"linter requested":var d=c.linterID;return q(a,{failedLinterIDs:b("removeFromSet")(a.lint.failedLinterIDs,d),pendingLinterIDs:b("addToSet")(a.lint.pendingLinterIDs,d)});case"linter succeeded":d=c.lintIssues;var e=c.linterID,f=new Map();d=d.map(function(a){var b=[a.pageID,a.pageStateID,e,a.ruleName,a.layerID,a.propertyName].join("."),c=f.get(b)||0,d=b;c?(d=b+"."+c,f.set(b,c+1)):f.set(b,1);return babelHelpers["extends"]({},a,{id:d,pageStateID:a.pageStateID||j,source:e})});return q(a,{failedLinterIDs:b("removeFromSet")(a.lint.failedLinterIDs,e),issuesByLinterID:b("addToMap")(a.lint.issuesByLinterID,e,d),pendingLinterIDs:b("removeFromSet")(a.lint.pendingLinterIDs,e)});case"linter failed":d=c.linterID;return q(a,{failedLinterIDs:b("addToSet")(a.lint.failedLinterIDs,d),pendingLinterIDs:b("removeFromSet")(a.lint.pendingLinterIDs,d)});case"fix lint issue":d=c.linterID;var g=c.lintIssueID;c=a.lint.issuesByLinterID.get(d);d=c&&c.find(function(a){return a.id===g});return!d?a:x(a,d);case"fix all lint issues":for(var c=a.lint.issuesByLinterID.values(),d=Array.isArray(c),h=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(d){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;for(var i=i,k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;a.project.ignoredLintIssueIDs.has(m.id)||(a=x(a,m))}}return a}return a}var v=new Set(["id","parentGroupID"]),w=new Set(["cymbalByID","elementByID","fromTemplateMetadata","groupByID","id","isCymbal","items","pageStateByID"]);function x(a,b){__p&&__p();var c=b.layerID,d=b.fix;b=b.pageID;if(!b||!d||d.type!=="update values at paths")return a;for(var d=d.updates,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g.value;g=g.path;a=y({state:a,pageID:b,layerID:c,value:h,path:g})}return a}function y(a){__p&&__p();var b=a.state,c=a.pageID,d=a.layerID,e=a.path,f=a.value;a=r(b,c);if(!a)return b;if(!d)return A(b,a,e,f);if(v.has(e))return b;z(a,d,{caseCymbal:function(a){b=C(b,c,a,e,f)},caseElement:function(a){b=E(b,c,a,e,f)},caseGroup:function(a){b=F(b,c,a,e,f)}});return b}function z(a,b,c){__p&&__p();var d=n(a,b);if(!d)return;switch(d.type){case"cymbal":var e=k(a,b);if(!e)return;c.caseCymbal(e);break;case"element":e=l(a,b);if(!e)return;c.caseElement(e);break;case"group":e=m(a,b);if(!e)return;c.caseGroup(e);break;default:d.type}}function A(a,b,c,d){if(w.has(c))return a;c=t(b,c,d);return!c?a:s(a,b.id,c)}var B=new Set(["position"]);function C(a,b,c,d,e){return a}var D=b("addToSet")(B,"props");function E(a,b,c,d,e){var f=g(c.componentName);if(!f)return a;f=babelHelpers["extends"]({},c,{props:babelHelpers["extends"]({},u(f.propTypes),c.props)});f=t(f,d,e,{dontClone:D});return!f?a:h(a,b,c.id,f)}function F(a,b,c,d,e){d=t(c,d,e,{dontClone:B});return!d?a:i(a,b,c.id,d)}e.exports=a}),null);
__d("protonModalReducer",["ProtonConstants","ProtonPageUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonToastUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").BLANK_PROJECT,h=b("ProtonPageUpdaters").updatePage,i=b("ProtonReducerUtils").addModal,j=b("ProtonReducerUtils").closeModal,k=b("ProtonReducerUtils").closeModalByType,l=b("ProtonSelectionUpdaters").loadedProject,m=b("ProtonToastUpdaters").closeToastByType;function a(a,b){__p&&__p();switch(b.type){case"close modal":return j(a,b.modalID);case"show keyboard help modal":return i(a,{type:"keyboard help"});case"show project picker":a=m(a,"unknown page");return babelHelpers["extends"]({},l(a,g),{isOnLandingPage:!0,landingSection:"projects"});case"show user settings modal":return m(i(a,{type:"user settings"}),"scale ratio");case"show project settings modal":return i(a,{type:"project settings"});case"show project version mismatch modal":return babelHelpers["extends"]({},i(a,{type:"project version mismatch"}),{isSavingProject:!1});case"show upload to pixelcloud modal":return i(a,{type:"upload to pixelcloud"},!1);case"show duplicate project modal":return i(a,{type:"duplicate project"});case"show feature updates modal":return i(a,{type:"feature updates"});case"show edit variable modal":return i(a,{type:"edit variable",variable:b.variable});case"show edit data source modal":return i(a,{type:"edit data source",variable:b.variable,isSaving:!1});case"show edit history entry modal":return i(a,{type:"edit history entry",entryID:b.entryID||null,majorEntryID:b.majorEntryID||null});case"show new folder modal":return i(a,{type:"new folder"});case"show new project modal":return i(a,{type:"new project"});case"show edit folder modal":return i(a,{type:"edit folder"});case"show create research session":return i(a,{type:"create research session"});case"show manage research sessions":return i(a,{type:"manage research sessions"});case"show snooze refresh modal":return n(a,{type:"snooze refresh",forceRefreshTimeMS:b.forceRefreshTimeMS},!1);case"show force refresh modal":a=k(a,"snooze refresh");return n(a,{type:"force refresh"},!1);case"yes to resize page modal":var c=j(a,b.modalID);return h(c,b.pageID,{height:b.height,sizeBehavior:"custom",width:b.width});case"no to resize page modal":return j(a,b.modalID);case"create project from template id":return k(a,"new project")}return a}function n(a,b,c){c===void 0&&(c=!0);return a.modals.some(function(a){return a.data.type===b.type})?a:i(a,b,c)}e.exports=a}),null);
__d("protonNativeReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"update native image":return babelHelpers["extends"]({},a,{"native":{image:b.image}})}return a}e.exports=a}),null);
__d("findLast",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();if(Array.isArray(a)){for(var c=a.length-1;c>=0;c--)if(b(a[c],c))return a[c];return null}c=null;var d=0;for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;b(g,d)&&(c=g);d++}return c}e.exports=a}),null);
__d("protonPageReducer",["ProtonAnimationUpdaters","ProtonArtboardID","ProtonArtboardSelectors","ProtonArtboardUtils","ProtonCanvasUpdaters","ProtonConstants","ProtonCymbalUpdaters","ProtonIDTypes","ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonPreviewSelectors","ProtonProjectUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSelectors","ProtonSharedComponentUpdaters","ProtonSharedComponentUtils","ProtonToastUpdaters","ProtonViewSelectors","findLast","first","insertInArray","last","lastx","partitionArray","wrapIndex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationUpdaters").clearPreviousAnimatablePropsByInstancePath,h=b("ProtonArtboardID").createArtboardID,i=b("ProtonArtboardID").getKeysForArtboardID,j=b("ProtonArtboardSelectors").getArtboardIDsForPage,k=b("ProtonArtboardUtils").getCopyOfArtboardMetadata,l=b("ProtonCanvasUpdaters").updateCanvas,m=b("ProtonCanvasUpdaters").updateRawZoom,n=b("ProtonConstants").EMPTY_SET,o=b("ProtonCymbalUpdaters").deleteUnusedCymbalPages,p=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,q=b("ProtonItemUpdaters").repositionItems,r=b("ProtonItemUtils").getCymbal,s=b("ProtonItemUtils").getItemID,t=b("ProtonPageItemSelectors").getRootItems,u=b("ProtonPageSelectors").getActivePageID,v=b("ProtonPageSelectors").getActivePageStateIDForEditMode,w=b("ProtonPageSelectors").getLastSelectedPageIndex,x=b("ProtonPageSelectors").getPage,y=b("ProtonPageSelectors").getPageX,z=b("ProtonPageSelectors").getRawActivePage,A=b("ProtonPageSelectors").getSelectedPageList,B=b("ProtonPageSelectors").selectPageLists,C=b("ProtonPageUpdaters").deletePages,D=b("ProtonPageUpdaters").getPageDiffUpdatesForPageUpdate,E=b("ProtonPageUpdaters").updatePage,F=b("ProtonPositionSelectors").getBoundingPosition,G=b("ProtonPositionSelectors").getItemCoords,H=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,I=b("ProtonPositionSelectors").selectPageSize,J=b("ProtonPreviewSelectors").selectIsPreviewMode,K=b("ProtonProjectUpdaters").updatePages,L=b("ProtonReducerUtils").addModal,M=b("ProtonReducerUtils").closeModalByType,N=b("ProtonReducerUtils").createPage,O=b("ProtonSelectionUpdaters").activatePage,P=b("ProtonSelectionUpdaters").activatePageState,Q=b("ProtonSelectionUpdaters").updateSelection,R=b("ProtonSelectors").selectActivePage,S=b("ProtonSharedComponentUpdaters").removeUnusedSharedComponentPages,T=b("ProtonSharedComponentUtils").shouldShowSharedComponent,U=b("ProtonToastUpdaters").showDuplicatePageInformation,V=b("ProtonViewSelectors").getZoom;function a(a,c){__p&&__p();var d=a;switch(c.type){case"add page":return W(d,{isCymbal:c.isCymbal});case"delete pages":a=c.pageIDs;a=b("partitionArray")(Array.from(a),function(a){a=x(d,a);return(a==null?void 0:(a=a.sharedComponentMetadata)==null?void 0:a.sourceProjectID)===d.project.id});var e=a[0];a=a[1];return e.length>0&&d.abridgedProjectStatus.hasEditPermission?L(d,{type:"confirm delete shared component pages",sharedComponentPageIDs:new Set(e),otherPageIDs:new Set(a)}):S(C(d,c.pageIDs));case"delete unused cymbal pages":return o(d);case"duplicate pages":c.pageIDs.forEach(function(a){var b=y(d,a);d=W(d,b,a)});d=U(d);return Q(d,{selectedPageIDs:n});case"reorder pages":e=c.fromIndex;a=c.toIndex;var f=A(d),h=B(d);h=h.normalPages;switch(f){case"pages":break;case"cymbals":e+=h.length;a+=h.length;break;default:f}e>a&&a--;h=d.project.pages[e].id;f=a>=0?d.project.pages[a].id:null;var i=d.selection.selectedPageIDs.has(h)?d.selection.selectedPageIDs:new Set([h]),j=[],k=[];d.project.pages.forEach(function(a){i.has(a.id)?j.push(a):k.push(a)});e=f!=null?k.indexOf(y(d,f)):-1;a=k.slice(0,e+1).concat(j).concat(k.slice(e+1));return K(d,a);case"activate page":J(d)&&(d=g(d));return O({state:d,pageID:c.pageID,pageStateID:(h=c.pageStateID)!=null?h:p,isFromCanvasClick:!!c.isFromCanvasClick});case"activate cymbal page":f=d.selection.firstCymbalIndexInLastActivePageIDs;e=R(d);a=r(e,c.cymbalID);if(!a)return d;h=x(d,a.cymbalPageID);if(!h||!T(h,d.project.id))return d;h=H(d);h=G({itemOrID:a.id,measuredPositionByInstancePath:h,page:e,parentInstancePath:b("ProtonInstancePath").create(e.id)});e=V(d);d=O({state:d,pageID:a.cymbalPageID,pageStateID:a.cymbalPageStateID,cymbalOffset:h});d=m(d,e);a=d.canvas;var v=a.scrollLeft;a=a.scrollTop;d=l(d,{initialScrollLeft:e*(v/e-h.left),initialScrollTop:e*(a/e-h.top)});return f!==null?Q(d,{firstCymbalIndexInLastActivePageIDs:f}):Q(d,{firstCymbalIndexInLastActivePageIDs:d.selection.lastActivePageIDs.length-1});case"select pages":return Y(d,c.pageIDs,c.selectionType);case"activate previous page in series":return $(d,"previous");case"activate next page in series":return $(d,"next");case"activate previous state or page in series":return Z(d,"previous");case"activate next state or page in series":return Z(d,"next");case"activate last page visited":v=b("last")(d.selection.lastActivePageIDs);a=d.selection.lastActivePageIDs.slice(0,-1);if(!v)return d;e=v.pageID;h=v.cymbalOffset;f=d.selection.firstCymbalIndexInLastActivePageIDs;d=O({state:d,pageID:e,pageStateID:"default for page"});d=Q(d,{firstCymbalIndexInLastActivePageIDs:f,lastActivePageIDs:a});if(h){v=V(d);e=d.canvas;f=e.scrollLeft;a=e.scrollTop;d=l(d,{initialScrollLeft:v*(f/v+h.left),initialScrollTop:v*(a/v+h.top)})}return d;case"edit name of next page":d=$(d,"next");return Q(d,{editingNameItemID:d.selection.activePageID,editingNameItemType:"page"});case"edit name of previous page":d=$(d,"previous");return Q(d,{editingNameItemID:d.selection.activePageID,editingNameItemType:"page"});case"update page":e=c.pageID;f=c.updates;a=x(d,e);if(a&&e===u(d)&&(a.sizeBehavior==="fit to children"&&f.sizeBehavior==="custom"&&!f.height&&!f.width)){v=I(d);f.height=v.height;f.width=v.width}return E(d,e,D(d,e,f));case"resize page to fit":h=z(d);a=d;v=t(h);if(v.length===0)return a;e=H(a);f=F({items:v,measuredPositionByInstancePath:e,page:h,parentInstancePath:b("ProtonInstancePath").create(h.id)});e=new Set(v.map(function(a){return s(a)}));a=q({state:a,pageID:h.id,itemIDs:e,positionDelta:{top:-1*f.top,left:-1*f.left}});return E(a,h.id,D(d,h.id,{sizeBehavior:h.isCymbal===!0?"fit to children":"custom",height:f.height,width:f.width}));case"select page list":v=c.pageList;e=A(d);a=d.selection.lastActivePageIDs;if(v===e)return d;h=B(d);f=h.cymbalPages;c=h.normalPages;e=(v==="cymbals"?f:c).map(function(a){return a.id});var w=new Set(e);h=b("findLast")(a,function(a){a=a.pageID;return w.has(a)});v=h?h.pageID:b("first")(e);return v==null?d:O({state:d,pageID:v,pageStateID:p})}return d}function W(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d=null);a=a;var e=(d=d)!=null?d:a.selection.activePageID;d=a.project.pages;var f=N(a.project.pages,a.selection.activePageID,c);c.id!=null&&x(a,c.id)&&(a=X(a,y(a,c.id),f));c=d.findIndex(function(a){return a.id===e});d=b("insertInArray")(a.project.pages,c+1,f);a=M(a,"template picker");a=K(a,d);a=O({state:a,pageID:f.id,pageStateID:"default for page"});return a}function X(a,b,c){__p&&__p();var d=a.canvas.metadataByArtboardID.withMutations(function(a){__p&&__p();for(var d=j(b),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var l=a.get(g);if(l){var m=h({pageID:c.id,pageStateID:i(g).pageStateID});g=k(g,l,"page");a.set(m,g)}}});return l(a,{metadataByArtboardID:d})}function Y(a,c,d){__p&&__p();a=a;var e=new Set(a.selection.selectedPageIDs);switch(d){case"single":d=c[0];a=O({state:a,pageID:d,pageStateID:"default for page"});e=new Set(c);break;case"multi":e=aa(c,e);break;case"range":d=B(a);var f=d.cymbalPages;d=d.normalPages;f=A(a)==="cymbals"?f:d;d=f.map(function(a){return a.id});f=w(a);c=d.indexOf(c[0]);if(f>=0){var g=Math.min(f,c);f=Math.max(f,c);for(var c=g;c<=f;c++)e.add(d[c])}break}g=b("last")(e);return Q(a,{lastSelectedPageID:g,selectedItemIDs:n,selectedPageIDs:e})}function aa(a,b){var c=new Set(b);a.forEach(function(a){b.has(a)?c["delete"](a):c.add(a)});return c}function Z(a,c){__p&&__p();var d=z(a),e=v(a),f=Array.from(d.pageStateByID.keys());function g(){var e=$(a,c),f=z(e),d=Array.from(f.pageStateByID.keys());c==="previous"&&d.length&&(e=P({state:e,cymbalPath:b("ProtonInstancePath").createFromPageID(f.id),pageStateID:b("lastx")(d),shouldUpdateLastVisited:!1}));return e}if(!f.length)return g();f.unshift(p);e=f.indexOf(e);if(e<0||e===0&&c==="previous"||e===f.length-1&&c==="next")return g();g=c==="next"?1:-1;f=f[e+g];return P({state:a,cymbalPath:b("ProtonInstancePath").createFromPageID(d.id),pageStateID:f})}function $(a,c){c=c==="next"?1:-1;var d=J(a)?B(a).normalPages:a.project.pages,e=u(a),f=d.findIndex(function(a){return a.id===e});do f=b("wrapIndex")(f+c,d.length);while(d[f].sharedComponentMetadata!=null);c=d[f].id;return O({state:a,pageID:c,pageStateID:"default for page"})}e.exports=a}),null);
__d("protonPageStateReducer",["ProtonAnimationUpdaters","ProtonArtboardID","ProtonArtboardUtils","ProtonCanvasUpdaters","ProtonClientIDs","ProtonConstants","ProtonCymbalSelectors","ProtonIDTypes","ProtonInstancePath","ProtonItemUtils","ProtonPageSelectors","ProtonPageStateSelectors","ProtonPageUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","addToMap","filterMap","filterObject","last","moveArrayElement","removeFromMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnimationUpdaters").clearAnimatingItemIDsByInstancePath,h=b("ProtonAnimationUpdaters").clearPreviousAnimatablePropsByInstancePath,i=b("ProtonAnimationUpdaters").updateAnimation,j=b("ProtonArtboardID").createArtboardID,k=b("ProtonArtboardUtils").getCopyOfArtboardMetadata,l=b("ProtonCanvasUpdaters").updateCanvas,m=b("ProtonConstants").DEFAULT_PAGE_STATE,n=b("ProtonCymbalSelectors").selectCymbalPathForTargetPage,o=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,p=b("ProtonItemUtils").getItemAndID,q=b("ProtonItemUtils").getNames,r=b("ProtonPageSelectors").getActivePageID,s=b("ProtonPageSelectors").getActivePageStateIDForEditMode,t=b("ProtonPageSelectors").getPage,u=b("ProtonPageSelectors").getPageX,v=b("ProtonPageSelectors").getRawActivePage,w=b("ProtonPageSelectors").selectActivePageState,x=b("ProtonPageStateSelectors").getNextOrPreviousPageStateID,y=b("ProtonPageUpdaters").updatePage,z=b("ProtonPageUpdaters").updatePageState,A=b("ProtonReducerUtils").getUniqueName,B=b("ProtonSelectionUpdaters").activatePage,C=b("ProtonSelectionUpdaters").activatePageState,D=b("ProtonSelectionUpdaters").applyPageState,E=b("ProtonSelectionUpdaters").clearActivePageStates,F=b("ProtonSelectionUpdaters").unapplyPageState,G=b("ProtonSelectionUpdaters").updateSelection;function a(a,c){__p&&__p();switch(c.type){case"add page state":var d=c.targetPageID||r(a);a=K(a,d,o);d=t(a,d);if(c.beginEditInline&&d){d=b("last")(d.pageStateByID.keys());a=G(a,{editingNameItemID:d?String(d):null,editingNameItemType:d?"pageState":null})}return a;case"duplicate page state":d=c.pageStateID;var e=c.pageID;return K(a,e||r(a),d);case"delete page state":e=c.pageID;var f=c.pageStateID;d=u(a,e||r(a));e=d.pageStateByID.get(f);if(!e)return a;a=y(a,v(a).id,{pageStateByID:b("filterMap")(d.pageStateByID,function(a){return a.id!==f})});return E(a,b("ProtonInstancePath").createFromPageID(d.id));case"activate page state":e=c.pageStateID;d=c.cymbalPathOverride;var j=a.mode==="preview";return C({state:a,cymbalPath:d||b("ProtonInstancePath").createFromPageID(v(a).id),pageStateID:e,shouldCapturePreviousAnimatableValues:j});case"apply page state":d=c.pageStateID;e=c.cymbalPath;j=c.targetPageID;var k=c.animation;e=n(a,e,j);j=a.mode==="preview";a=g(a);a=h(a);a=i(a,e,k);return D(a,e,d,j);case"unapply page state":k=c.pageStateID;e=c.cymbalPath;d=c.targetPageID;j=c.animation;e=n(a,e,d);d=a.mode==="preview";a=g(a);a=h(a);a=i(a,e,j);return F(a,e,k,d);case"change page state for preview":j=c.animation;e=c.cymbalPath;k=c.pageStateID;d=c.targetPageID;return J({state:a,animation:j,pageStateID:k,cymbalPath:e,targetPageID:d});case"next page state for preview":j=c.animation;k=c.cymbalPath;e=c.targetPageID;d=x({state:a,action:"next",includeNonEditablePageState:!0,cymbalPath:k});return J({state:a,animation:j,pageStateID:d,cymbalPath:k,targetPageID:e});case"previous page state for preview":j=c.animation;d=c.cymbalPath;k=c.targetPageID;e=x({state:a,action:"previous",includeNonEditablePageState:!0,cymbalPath:d});return J({state:a,animation:j,pageStateID:e,cymbalPath:d,targetPageID:k});case"update page state":j=c.pageStateID;e=c.updates;d=c.pageID;return z(a,d||r(a),j,e);case"remove page changes from page state":k=c.pageStateID;return z(a,r(a),k,{pageDiff:{}});case"remove item from page state":var l=c.itemID;d=function(a){return b("removeFromMap")(a,l)};return I({state:a,itemID:l,getCymbalUpdate:d,getElementUpdate:d,getGroupUpdate:d});case"remove attribute from item in page state":var m=c.itemID,p=c.attribute;j=function(a){var c=a.get(m);return c?b("addToMap")(a,m,H(c,p)):a};return I({state:a,itemID:m,getCymbalUpdate:j,getElementUpdate:j,getGroupUpdate:j});case"remove position attribute from item in page state":var q=c.itemID,w=c.attribute;e=function(a){var c=a.get(q);return!c?a:c.position?b("addToMap")(a,q,babelHelpers["extends"]({},c,{position:H(c.position,w)})):a};return I({state:a,itemID:q,getCymbalUpdate:e,getElementUpdate:e,getGroupUpdate:e});case"remove prop from element in page state":var A=c.elementID,B=c.propName;k=function(a){var c=a.get(A);return!c?a:c.props?b("addToMap")(a,A,babelHelpers["extends"]({},c,{props:H(c.props,B)})):a};return I({state:a,itemID:A,getElementUpdate:k});case"reorder page state":d=c.pageID;j=c.fromIndex;e=c.toIndex;k=t(a,d);if(!k)return a;c=Array.from(k.pageStateByID);return j>c.length?a:y(a,d,{pageStateByID:new Map(b("moveArrayElement")(c,j,e))});case"select next page state":return M(a,"next",!0);case"edit name of next page state":a=M(a,"next",!1);k=s(a);return G(a,{editingNameItemID:k,editingNameItemType:"pageState"});case"select previous page state":return M(a,"previous",!0);case"edit name of previous page state":a=M(a,"previous",!1);d=s(a);return G(a,{editingNameItemID:d,editingNameItemType:"pageState"})}return a}function H(a,c){return b("filterObject")(a,function(a,b){return c!==b})}function I(a){__p&&__p();var b=a.state,c=a.itemID,d=a.getCymbalUpdate,e=a.getElementUpdate;a=a.getGroupUpdate;var f=v(b),g=w(b);c=p(f,c);c=c.pageItem;if(!g||!c)return b;var h;switch(c.type){case"element":e=e?e(g.elementDiffByID):g.elementDiffByID;e!==g.elementDiffByID&&(h={elementDiffByID:e});break;case"group":e=a?a(g.groupDiffByID):g.groupDiffByID;e!==g.groupDiffByID&&(h={groupDiffByID:e});break;case"cymbal":a=d?d(g.cymbalDiffByID):g.cymbalDiffByID;a!==g.cymbalDiffByID&&(h={cymbalDiffByID:a});break;default:c.type}return!h?b:z(b,f.id,g.id,h)}function J(a){var b=a.state,c=a.cymbalPath,d=a.targetPageID,e=a.pageStateID;a=a.animation;c=n(b,c,d);b=g(b);b=h(b);b=i(b,c,a);return C({state:b,cymbalPath:c,pageStateID:e,shouldCapturePreviousAnimatableValues:!0})}function K(a,c,d){__p&&__p();var e=d,f=u(a,c);e=e?f.pageStateByID.get(e):null;var g=a.canvas.metadataByArtboardID;e=L(e,f.pageStateByID);var h=b("addToMap")(f.pageStateByID,e.id,e);d=j({pageID:c,pageStateID:d});var i=g.get(d);if(i){c=j({pageID:c,pageStateID:e.id});d=k(d,i,"pageState");a=l(a,{metadataByArtboardID:g.set(c,d)})}a=y(a,f.id,{pageStateByID:h});return B({state:a,pageID:f.id,pageStateID:e.id})}function L(a,c){var d=q(c),e=a?a.name:"State";return babelHelpers["extends"]({},m,a,{id:b("ProtonClientIDs").createShortID(new Set(Object.keys(c))),name:A(e,d)})}function M(a,c,d){var e=v(a);c=x({state:a,action:c,includeNonEditablePageState:d});return C({state:a,cymbalPath:b("ProtonInstancePath").createFromPageID(e.id),pageStateID:c})}e.exports=a}),null);
__d("ProtonPageTemplateUpdaters",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return babelHelpers["extends"]({},a,{pageTemplateEditor:babelHelpers["extends"]({},a.pageTemplateEditor,b)})}e.exports={updatePageTemplateEditorState:a}}),null);
__d("ProtonViewUpdaters",["ProtonItemUpdaters","ProtonPageSelectors","ProtonSelectionUpdaters","findLast","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemUpdaters").updateItems,h=b("ProtonPageSelectors").selectPageLists,i=b("ProtonSelectionUpdaters").activatePage;function a(a,c){__p&&__p();if(c==="dataSources")return j(a,{leftPanelTab:"dataSources"});else a=j(a,{leftPanelTab:"layers"});var d=a.selection,e=d.lastActivePageIDs;d=d.activePageID;var f=h(a),g=f.cymbalPages;f=f.normalPages;c=(c==="cymbals"?g:f).map(function(a){return a.id});var k=new Set(c);if(k.has(d))return a;g=b("findLast")(e,function(a){a=a.pageID;return k.has(a)});f=g?g.pageID:b("first")(c);return!f?a:babelHelpers["extends"]({},i({state:a,pageID:f,pageStateID:"default for page"}))}function c(a,b){return a.project.pages.reduce(function(a,c){var d=Array.from(c.elementByID.values()).filter(function(a){return a.componentName==="Hotspot"&&a.isHidden===b}).map(function(a){return a.id});return d.length?g(a,c.id,d,{isHidden:!b}):a},a)}function j(a,b){return babelHelpers["extends"]({},a,{view:babelHelpers["extends"]({},a.view,b)})}function d(a,b){return j(a,{heightByPanelMode:b})}function f(a,b){return j(a,{widthByPanelMode:b})}function k(a,b){return babelHelpers["extends"]({},a,{isIgnoringUnsupportedBrowser:b})}e.exports={updateHeightByPanelMode:d,updateHotspotVisibility:c,updateIsIgnoringUnsupportedBrowser:k,updateLeftPanelTab:a,updateView:j,updateWidthByPanelMode:f}}),null);
__d("protonPageTemplateReducer",["ProtonPageReducerUtils","ProtonPageSelectors","ProtonPageTemplateUpdaters","ProtonPageUpdaters","ProtonProjectUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonViewUpdaters","filterMap","mapMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonPageReducerUtils").reIDPages,h=b("ProtonPageSelectors").getPageX,i=b("ProtonPageSelectors").getRawActivePage,j=b("ProtonPageSelectors").selectCymbalPageByID,k=b("ProtonPageTemplateUpdaters").updatePageTemplateEditorState,l=b("ProtonPageUpdaters").updatePage,m=b("ProtonProjectUpdaters").updatePages,n=b("ProtonReducerUtils").addModal,o=b("ProtonReducerUtils").closeModal,p=b("ProtonReducerUtils").closeModalByType,q=b("ProtonSelectionUpdaters").activatePage,r=b("ProtonViewUpdaters").updateLeftPanelTab;function a(a,c){__p&&__p();var d=a;switch(c.type){case"begin saving page template":return k(d,{isSavingTemplate:!0});case"end saving page template":var e=c.templateID;a=c.addedPageIDs;var f=c.templateVersion;(d.pageTemplateEditor.editModeData.mode==="create"||d.pageTemplateEditor.editModeData.mode==="update")&&a&&e!=null&&a.forEach(function(a){return d=l(d,a,{fromTemplateMetadata:{templateID:e,templateScopedID:a,templateVersion:f||0}})});d=o(d,c.modalID);return k(d,{isSavingTemplate:!1});case"begin uploading generated template image":case"begin uploading custom template image":return k(d,{isImageUploading:!0});case"end uploading generated template image":case"end uploading custom template image":return k(d,{chosenImageURI:c.uri,chosenImageFBID:c.fbid,isImageUploading:!1});case"update template editor":return k(d,c.updates);case"update template manager query":return babelHelpers["extends"]({},d,{pageTemplateManager:babelHelpers["extends"]({},d.pageTemplateManager,{query:c.query})});case"update template picker query":return babelHelpers["extends"]({},d,{pageTemplatePicker:babelHelpers["extends"]({},d.pageTemplatePicker,{query:c.query})});case"update template picker query filter":return babelHelpers["extends"]({},d,{pageTemplatePicker:babelHelpers["extends"]({},d.pageTemplatePicker,{selectedFilterCategory:c.selectedFilterCategory})});case"update loaded page templates":return babelHelpers["extends"]({},d,{pageTemplates:c.pageTemplates});case"show page template duplicate modal":var s=c.templateID;a=d.pageTemplates.find(function(a){return a.id===s});if(!a)return d;d=n(d,{type:"template creator"});return k(d,{chosenImageFBID:a.previewImageFBID||"",chosenImageURI:a.previewImage||"",isPublic:a.privacy==="public",newTemplateName:a.name+" Copy",editModeData:{mode:"duplicate",templateID:s},header:"Duplicate Template"});case"show page template edit info modal":var t=c.pageTemplateID;a=d.pageTemplates.find(function(a){return a.id===t});if(!a)return d;d=p(d,"template manager");d=n(d,{type:"template creator"});return k(d,{chosenImageFBID:a.previewImageFBID||"",chosenImageURI:a.previewImage||"",isPublic:a.privacy==="public",newTemplateName:a.name,editModeData:{mode:"edit",templateID:t},header:"Edit Template Info"});case"show page template creator modal":a=c.pageID;var u=h(d,a);d=n(d,{type:"template creator"});return k(d,{chosenImageFBID:"",chosenImageURI:"",newTemplateName:u.name,editModeData:{mode:"create",pageID:a},header:"Create New Template"});case"show page template update info modal":var v=c.templateID;u=c.pageID;a=d.pageTemplates.find(function(a){return a.id===v});if(!a)return d;d=n(d,{type:"template creator"});return k(d,{chosenImageFBID:a.previewImageFBID||"",chosenImageURI:a.previewImage||"",isPublic:a.privacy==="public",newTemplateName:a.name,editModeData:{mode:"update",templateID:v,pageID:u},header:"Update Template"});case"show page template picker modal":return n(d,{type:"template picker"});case"show page template manager modal":return n(d,{type:"template manager"});case"create page from template":a=c.pageTemplate;u=c.cymbalPageByID;var w=c.templateID,x=c.version;c=b("mapMap")(u,function(a){return babelHelpers["extends"]({},a,{fromTemplateMetadata:{templateID:w,templateScopedID:a.id,templateVersion:x}})});c.set(a.id,babelHelpers["extends"]({},a,{fromTemplateMetadata:{templateID:w,templateScopedID:a.id,templateVersion:x}}));u=g(d,c,d.project.pages);c=u.pageByID;var y=u.oldIDToNewID,z=new Map();j(d).forEach(function(a){if(a.fromTemplateMetadata&&a.fromTemplateMetadata.templateID===w&&a.fromTemplateMetadata.templateVersion===x){var b=a.fromTemplateMetadata.templateScopedID;z.set(b,a.id);y.set(b,a.id)}});u=b("filterMap")(c,function(a){return!(a.isCymbal===!0&&a.fromTemplateMetadata&&z.has(a.fromTemplateMetadata.templateScopedID))});c=b("mapMap")(u,function(a){return babelHelpers["extends"]({},a,{cymbalByID:b("mapMap")(a.cymbalByID,function(a){return babelHelpers["extends"]({},a,{cymbalPageID:y.get(a.cymbalPageID)||a.cymbalPageID})})})});u=y.get(a.id);var A=[].concat(d.project.pages);A.splice.apply(A,[A.indexOf(i(d))+1,0].concat(Array.from(c.values())));d=m(d,A);r(d,a.isCymbal===!0?"cymbals":"pages");return q({state:d,pageID:(c=u)!=null?c:a.id,pageStateID:"default for page"})}return d}e.exports=a}),null);
__d("protonPixelcloudReducer",["ProtonClientIDs","ProtonToastUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonToastUpdaters").closeToast,h=b("ProtonToastUpdaters").showToast,i=b("ProtonClientIDs").create("toast");function a(a,b){switch(b.type){case"upload to pixelcloud started":return babelHelpers["extends"]({},g(a,i),{isUploadingToPixelcloud:!0});case"upload to pixelcloud completed":return babelHelpers["extends"]({},h(a,{type:"generic",toastType:"success",isMarkdown:!0,message:j(b.url),canClose:!0,shouldAutoClose:!0}),{project:babelHelpers["extends"]({},a.project,{pixelcloudPostID:b.pixelcloudPostID}),isUploadingToPixelcloud:!1});case"upload to pixelcloud failed":return babelHelpers["extends"]({},h(a,{type:"generic",toastType:"error",canClose:!0,shouldAutoClose:!1,title:"Upload to Pixelcloud",message:"There was a problem uploading your post to Pixelcloud."},i),{isUploadingToPixelcloud:!1})}return a}function j(a){return"## Upload to Pixelcloud\nYour project uploaded successfully\n\n[Open in Pixelcloud]("+a+")"}e.exports=a}),null);
__d("protonProjectHistoryReducer",["ProtonHistoryConstants","ProtonProjectHistoryUpdaters","ProtonToastUpdaters","addToSet","removeFromSet","spread"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,h=b("ProtonProjectHistoryUpdaters").updateProjectHistory,i=b("ProtonProjectHistoryUpdaters").doesEntryExist,j=b("ProtonProjectHistoryUpdaters").updateMajorEntries,k=b("ProtonProjectHistoryUpdaters").updateSelectedHistoryEntry,l=b("ProtonToastUpdaters").showToast;function a(a,c){__p&&__p();switch(c.type){case"select history entry":return k(a,c.entryID);case"select pixelcloud revision":var d=a.projectHistory.historyEntries;if(!d)return a;var e=c.revisionID;d=d.find(function(a){return a.pixelcloudAttachmentID===e});return d&&d.id?k(a,d.id):a;case"load major history entries":return j(a,c.entries);case"load minor history entries":var f=c.majorEntryID,m=c.minorEntries;d=a;d=d.projectHistory.historyEntries;return!i(a,f)||!d?a:h(a,{historyEntries:d.map(function(a){return a.id===f?b("spread")(a,{minorEntries:m,isLoading:!1,hasMoreEntries:!1}):a})});case"toggle expand major history entry":var n=c.majorEntryID;d=a;c=d.projectHistory.historyEntries;if(!i(a,n)||!c)return a;var o=a.projectHistory.expandedMajorEntryIDs.has(n);d=o?b("removeFromSet"):b("addToSet");a=h(a,{expandedMajorEntryIDs:d(a.projectHistory.expandedMajorEntryIDs,n)});return h(a,{historyEntries:c.map(function(a){var c=!o&&a.hasMoreEntries;return a.id===n?b("spread")(a,{isLoading:c}):a})});case"restore selected history":d=a.projectHistory.selectedHistoryEntryID;return d===g?a:h(a,{selectedHistoryEntryID:g});case"rename history entry succeeded":return l(a,{type:"generic",toastType:"success",message:"Version Renamed Successfully",canClose:!0,shouldAutoClose:!0})}return a}e.exports=a}),null);
__d("ProtonIntegrity",["ProtonItemSelectors","ProtonItemUtils","ProtonLogger","ProtonSelectors","ProtonVisitor","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonItemSelectors").getAllItemIDs,h=b("ProtonItemUtils").getActualItem,i=b("ProtonItemUtils").getItemID,j=b("ProtonSelectors").getParentGroupID,k=["parentGroupID","id","name"];function l(a,c,d){d=JSON.stringify(d);new(b("ProtonLogger"))("integrity_error").setProjectID(a.project.id).setProjectOwnerID(a.project.owner.id).setActionType(c.type).setErrorMessage(d).log()}function a(a,b){var c=m(a);c.forEach(function(c){return l(a,b,c)});return!c.length}function m(a){__p&&__p();var c=new Set(),d=!1,e=[];a.selection.activeProjectID!==a.project.id&&e.push({type:"invalid activeProjectID",activeProjectID:a.selection.activeProjectID,projectID:a.project.id});var f=new Map(a.project.pages.map(function(a){return[a.id,new Set()]}));b("ProtonVisitor").visitPages(a.project.pages,{onPage:function(a){a=a.page;c.has(a.id)&&e.push({type:"duplicate pageID",pageID:a.id});c.add(a.id)},onItem:function(a){__p&&__p();var b=a.item,c=a.page;a=a.parentGroupID;var d=f.get(c.id)||new Set(),g=i(b);d.has(g)&&e.push({type:"duplicate itemID",itemID:g,pageID:c.id});d.add(g);d=j(c,b);d!==a&&e.push({type:"invalid parent groupID",pageID:c.id,itemID:g,expectedParentGroupID:a,actualParentGroupID:d});d=h(c,b);if(!d){e.push({type:"item not found in itemByID",itemID:g,pageID:c.id,parentGroupID:a});return}Object.values(d.position).some(isNaN)&&e.push({type:"NaN position",pageID:c.id,itemID:g})}});a.project.pages.forEach(function(c,h){__p&&__p();var j=f.get(c.id)||new Set(),l=g(c);l.forEach(function(a){j.has(a)||e.push({type:"item in itemByID but not tree",pageID:c.id,itemID:a})});c.id===a.selection.activePageID&&(d=!0,a.selection.selectedItemIDs.forEach(function(a){j.has(a)||e.push({type:"invalid selected item",itemID:a,pageID:c.id})}));c.pageStateByID.forEach(function(a,d){a.groupDiffByID.forEach(function(a,b){a=a.items;a=a===void 0?[]:a;a.map(i).forEach(function(a){l.has(a)||e.push({type:"invalid childID in state",itemID:a,groupID:b,pageStateID:d,pageID:c.id})})}),b("mergeMaps")(a.groupDiffByID,a.elementDiffByID,a.cymbalDiffByID).forEach(function(a,b){k.forEach(function(f){a[f]&&e.push({type:"invalid prop in state",itemID:b,pageStateID:d,pageID:c.id,propName:f})})})})});d||e.push({type:"invalid activePageID",activePageID:a.selection.activePageID});return e}e.exports={checkIntegrityAndLogErrors:a,getIntegrityErrors:m,INVALID_STATE_PROPS:k}}),null);
__d("ProtonJSON",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){if(!b)return b;if(b.__type==="Map"&&Array.isArray(b.value))return new Map(b.value);return b.__type==="Set"&&Array.isArray(b.value)?new Set(b.value):b}function a(a){return JSON.parse(a,g)}function h(a,b){if(b instanceof Map)return{__type:"Map",value:Array.from(b.entries())};return b instanceof Set?{__type:"Set",value:Array.from(b)}:b}function b(a){return JSON.stringify(a,h)}e.exports={parse:a,stringify:b}}),null);
__d("ProtonScreenshotSelectors",["ProtonPageSelectors","ProtonSelectorCreators"],(function(a,b,c,d,e,f){"use strict";a=b("ProtonPageSelectors").getActivePageID;c=b("ProtonSelectorCreators").createProtonSelector;d=c.logged("isScreenshotPendingForActivePage",function(a){return a.screenshots.pendingPageIDs},a,function(a,b){return b?a.has(b):!1});f=function(a){return a.screenshots.globalScale};e.exports={isScreenshotPendingForActivePage:d,selectGlobalScreenshotScale:f}}),null);
__d("ProtonScreenshotUpdaters",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return babelHelpers["extends"]({},a,{screenshots:babelHelpers["extends"]({},a.screenshots,b)})}function a(a,b){return g(a,{globalScale:b})}e.exports={updateGlobalScreenshotScale:a,updateScreenshotState:g}}),null);
__d("ProtonLocalStorage",["CacheStorage","ProtonJSON","ProtonScreenshotSelectors","ProtonScreenshotUpdaters","ProtonViewSelectors","ProtonViewUpdaters","objectEntries"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ProtonScreenshotSelectors").selectGlobalScreenshotScale;c=b("ProtonScreenshotUpdaters").updateGlobalScreenshotScale;d=b("ProtonViewSelectors").selectHeightByPanelMode;f=b("ProtonViewSelectors").selectIsIgnoringUnsupportedBrowser;var g=b("ProtonViewSelectors").selectWidthByPanelMode,h=b("ProtonViewUpdaters").updateHeightByPanelMode,i=b("ProtonViewUpdaters").updateIsIgnoringUnsupportedBrowser,j=b("ProtonViewUpdaters").updateWidthByPanelMode,k=new(b("CacheStorage"))("localstorage","protonSetting."),l={heightByPanelMode:{selector:d,updater:h},widthByPanelMode:{selector:g,updater:j},isIgnoringUnsupportedBrowser:{selector:f,updater:i},globalScreenshotScale:{selector:a,updater:c},expandedItemIDs:{isPerProject:!0,selector:function(a){return a.selection.expandedItemIDs},updater:function(a,b){return babelHelpers["extends"]({},a,{selection:babelHelpers["extends"]({},a.selection,{expandedItemIDs:b})})}}};function m(a,b,c){return b?c==null?null:a+"."+c:a}function n(a){a=k.get(a);if(!a)return null;try{return b("ProtonJSON").parse(a)}catch(a){return null}}e.exports={read:function(a){__p&&__p();var c={};b("objectEntries")(l).forEach(function(b){var d=b[0];b=b[1];if(b.isPerProject===!0&&a==null)return;b=m(d,!!b.isPerProject,a);if(b==null)return;b=n(b);b!=null&&(c[d]=b)});return c},updateState:function(a,c){__p&&__p();if(c==null)return a;var d=a;b("objectEntries")(l).forEach(function(a){var b=a[0];a=a[1];b=c[b];if(b==null)return;d=a.updater(d,b)});return d},save:function(a,c){b("objectEntries")(l).forEach(function(d){var e=d[0];d=d[1];var f=d.selector(a),g=d.selector(c);if(f!==g){f=b("ProtonJSON").stringify(g);g=m(e,!!d.isPerProject,c.project.id);k.set(g,f)}})}}}),null);
__d("ProtonUserSettingsUpdaters",["spread"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("spread")(a,{userSettings:b("spread")(a.userSettings,c)})}e.exports={updateUserSettings:a}}),null);
__d("protonProjectReducer",["CurrentUser","ProtonCanvasUpdaters","ProtonCommentsConstants","ProtonConfig","ProtonHistoryConstants","ProtonInitialStateConstants","ProtonIntegrity","ProtonLocalStorage","ProtonProjectHistoryUpdaters","ProtonProjectStatusSelectors","ProtonProjectUpdaters","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonToastUpdaters","ProtonUserSettingsUpdaters","ProtonViewUpdaters","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasUpdaters").updateCanvas,h=b("ProtonCommentsConstants").INITIAL_COMMENTS_STATE,i=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,j=b("ProtonInitialStateConstants").INITIAL_VIEW_STATE,k=b("ProtonProjectHistoryUpdaters").updateProjectHistory,l=b("ProtonProjectStatusSelectors").getDefaultProjectStatus,m=b("ProtonProjectUpdaters").updateGrid,n=b("ProtonProjectUpdaters").updateProject,o=b("ProtonReducerUtils").addModal,p=b("ProtonReducerUtils").closeModalByType,q=b("ProtonReducerUtils").getUniqueName,r=b("ProtonSelectionUpdaters").activatePage,s=b("ProtonSelectionUpdaters").loadedProject,t=b("ProtonSelectionUpdaters").startLoadProject,u=b("ProtonSelectionUpdaters").updateSelection,v=b("ProtonToastUpdaters").showMessageToast,w=b("ProtonToastUpdaters").showSemaphoreFYIToast,x=b("ProtonToastUpdaters").showToast,y=b("ProtonUserSettingsUpdaters").updateUserSettings,z=b("ProtonViewUpdaters").updateView;function a(a,c){__p&&__p();var d=a;switch(c.type){case"archive projects requested":var e=c.isArchived,f=c.projectIDs;a=d;a=a.allProjects;return!a?d:babelHelpers["extends"]({},d,{allProjects:a.map(function(a){return f.has(a.id)?babelHelpers["extends"]({},a,{isDeleted:e}):a})});case"begin save project":return babelHelpers["extends"]({},d,{isSavingProject:!0});case"bootstrap from api":a=c.userSettings;var p=c.groupPosts,C=c.projects,D=b("first")(p);d=y(d,a);D&&D.publishTime>a.lastSeenGroupPostTime&&d.mode!=="preview"&&(d=o(d,{type:"feature updates"}),d=y(d,{lastSeenGroupPostTime:D.publishTime}));return babelHelpers["extends"]({},d,{allProjects:C,groupPosts:p});case"bootstrap from api failed":return x(d,{type:"bootstrap from api failed"});case"loaded projects":return babelHelpers["extends"]({},d,{allProjects:c.projects});case"loaded project":if(d.selection.activeProjectID!==c.project.id||d.projectHistory.selectedHistoryEntryID!==c.project.historyID)return d;d=s(d,c.project,c.projectStatus);d=b("ProtonLocalStorage").updateState(d,c.localStorage);d=g(d,{metadataByArtboardID:(a=c.metadataByArtboardID)!=null?a:b("immutable").Map()});c.sourceFormat==="semaphore"&&(d=w(d));return d;case"load project failed":if(d.selection.activeProjectID!==c.projectID)return d;if(d.projectHistory.selectedHistoryEntryID!==i){d=v(d,"The version specified could not be found.","information");return k(d,{selectedHistoryEntryID:i})}d=x(d,{type:"load project failed"});return babelHelpers["extends"]({},d,{isLoadingProject:null,isOnLandingPage:!0});case"load cached project":d=s(d,c.project,c.projectStatus);d=u(d,{activeProjectID:c.project.id});d=r({state:d,pageID:c.pageID,pageStateID:c.pageStateID});d=babelHelpers["extends"]({},d,{mode:"preview"});return d;case"open project":d=z(d,{canvasViewMode:j.canvasViewMode,leftPanelMode:j.leftPanelMode,rightPanelMode:j.rightPanelMode});return babelHelpers["extends"]({},t({state:d,projectID:c.projectID,pageID:c.pageID,pageStateIDs:c.pageStateIDs?new Set(c.pageStateIDs):null,historyEntryID:c.historyEntryID}),{mode:"edit",projectComments:babelHelpers["extends"]({},h)});case"update project":var E=c.updates;d=n(d,E);return babelHelpers["extends"]({},d,{allProjects:E.name!=null&&d.allProjects?d.allProjects.map(function(a){return a.id===d.project.id?babelHelpers["extends"]({},a,{name:E.name}):a}):d.allProjects});case"end save project preview image":return babelHelpers["extends"]({},d,{project:babelHelpers["extends"]({},d.project,{previewImage:c.fbid})});case"show save toast":return x(d,{type:"generic",toastType:"information",message:"Proton auto-saves your work",canClose:!0,shouldAutoClose:!0});case"save project succeeded":D=c.version;c.wasNewHistoryForced&&(d=x(d,{type:"generic",toastType:"success",message:"Version Saved Successfully",canClose:!0,shouldAutoClose:!0}));return babelHelpers["extends"]({},d,{project:babelHelpers["extends"]({},d.project,{version:D,lastModifiedTime:c.saveStartTimestamp}),doesProjectHaveUnsavedChanges:!1,isOnline:!0,isSavingProject:!1});case"save project failed":return babelHelpers["extends"]({},d,{doesProjectHaveUnsavedChanges:!0,isOnline:!1,isSavingProject:!1});case"create project from template id":case"start create project to open":return babelHelpers["extends"]({},d,{isLoadingProject:"foreground"});case"duplicate project requested":var F=c.projectID;C=d;p=C.allProjects;if(!p)return d;a=p.find(function(a){return a.id===F});if(!a)return d;D=new Set(p.map(function(a){return a.name}));C=q(a.name,D);a=Date.now()/1e3;D={id:b("CurrentUser").getID(),name:b("ProtonConfig").currentUserName};var G="",H=l(D,G);return babelHelpers["extends"]({},d,{allProjects:[{id:G,isCreating:!0,isDeleted:!1,isUnlistedFromSearch:!0,lastModifiedTime:a,projectStatus:H,name:C,owner:D}].concat(p)});case"rename project requested":var I=c.projectID,J=c.name;G=d;a=G.allProjects;return!a?d:babelHelpers["extends"]({},d,{allProjects:a.map(function(a){return a.id===I?babelHelpers["extends"]({},a,{name:J}):a})});case"update project list requested":var K=c.projectID,L=c.updates;H=d;C=H.allProjects;return!C?d:babelHelpers["extends"]({},d,{allProjects:C.map(function(a){return a.id===K?babelHelpers["extends"]({},a,L):a})});case"update project status failed":return d.isOnLandingPage?d:babelHelpers["extends"]({},d,{isOnline:!1});case"update project list state":return babelHelpers["extends"]({},d,{projectListState:c.projectListState});case"toggle snap to grid":D=d.project.grid;return m(d,{snapToGrid:!D.snapToGrid});case"toggle view grid":p=d.project.grid;return m(d,{showGrid:!p.showGrid});case"toggle snap to page":G=d.project.grid;return m(d,{snapToPage:!G.snapToPage});case"update abridged project status":c.shouldReloadProject&&(d=B(d));return babelHelpers["extends"]({},d,{isOnline:!0,isProjectOutOfDate:c.isProjectOutOfDate,abridgedProjectStatus:c.abridgedProjectStatus});case"network offline":return babelHelpers["extends"]({},d,{isOnline:!1});case"restore project from file":a=babelHelpers["extends"]({},c.project,{id:d.project.id,version:d.project.version});H=d;C=!1;try{H=s(d,a,null);D=b("ProtonIntegrity").getIntegrityErrors(H);D.length>0&&(C=!0,window.console.error("Integrity checker errors:",D))}catch(a){C=!0}return C?A(d):H;case"restore project from file failed":return A(d)}return d}function A(a){return v(a,"The file you are trying to restore is not a valid Proton project.","error")}function B(a){return babelHelpers["extends"]({},p(a,"project version mismatch"),{isLoadingProject:"background"})}e.exports=a}),null);
__d("protonSelectionReducer",["ProtonCanvasSelectors","ProtonInstancePath","ProtonItemUtils","ProtonPageItemSelectors","ProtonPageSelectors","ProtonSelectionUpdaters","ProtonSelectors","last"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCanvasSelectors").selectItemEntries,h=b("ProtonItemUtils").getGroup,i=b("ProtonItemUtils").getItemID,j=b("ProtonPageItemSelectors").getRootItems,k=b("ProtonPageSelectors").getActivePageStateIDForEditMode,l=b("ProtonPageSelectors").getRawActivePage,m=b("ProtonSelectionUpdaters").selectItems,n=b("ProtonSelectionUpdaters").updateSelection,o=b("ProtonSelectors").selectActivePage;function a(a,c){__p&&__p();switch(c.type){case"canvas context menu opened":return n(a,{isCanvasContextMenuShown:!0});case"canvas context menu closed":return n(a,{isCanvasContextMenuShown:!1});case"begin drag in reorderable list":return n(a,{isDraggingInReorderableList:!0});case"end drag in reorderable list":return n(a,{isDraggingInReorderableList:!1});case"begin edit scroll point":return n(a,{isScrollPointEditorShown:!0});case"end edit scroll point":return n(a,{isScrollPointEditorShown:!1});case"select first item":var d=l(a);d=b("last")(j(d));return!d?a:n(a,{selectedItemIDs:new Set([i(d)])});case"show page resize handles":return n(a,{isShowingPageResizeHandles:!0});case"select inside":var e=c.clickLeft,f=c.clickTop;d=c.groupID;var p=o(a);d=h(p,d);if(!d)return a;var q=g(a,{instancePath:b("ProtonInstancePath").createFromPageID(p.id)}),r=[];d.items.forEach(function(a){a=i(a);a=q.get(a);a&&r.push(a)});r.reverse();d=r.find(function(a){return a.isHidden||a.isLocked?!1:a.position&&f>=a.position.top&&f<=a.position.top+a.position.height&&e>=a.position.left&&e<=a.position.left+a.position.width});if(!d)return a;d=m(a,[d.id],p.id,k(a),"single");return n(d,{hoveredItem:null});case"start loading pixelcloud project":p=babelHelpers["extends"]({},a,{isLoadingProject:"foreground"});return n(p,{activePageIDAfterLoading:c.pageID})}return a}e.exports=a}),null);
__d("protonSharedComponentReducer",["ProtonCymbalSelectors","ProtonCymbalVisitor","ProtonInstancePath","ProtonItemUpdaters","ProtonItemUtils","ProtonPageReducerUtils","ProtonPageSelectors","ProtonPageUpdaters","ProtonPositionSelectors","ProtonReducerUtils","ProtonSelectionUpdaters","ProtonSharedComponentSelectors","ProtonSharedComponentUpdaters","ProtonToastUpdaters","addToMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCymbalSelectors").getCymbalIDsByPageIDForCymbalPageID,h=b("ProtonCymbalVisitor").getCymbalPagesUsedInPageByID,i=b("ProtonItemUpdaters").updateItemsBy,j=b("ProtonItemUtils").getItems,k=b("ProtonPageReducerUtils").reIDPages,l=b("ProtonPageSelectors").getPage,m=b("ProtonPageSelectors").getRawActivePage,n=b("ProtonPageSelectors").selectPageLists,o=b("ProtonPageUpdaters").deletePages,p=b("ProtonPageUpdaters").updatePage,q=b("ProtonPositionSelectors").getMeasuredPositionByInstancePath,r=b("ProtonReducerUtils").addCymbalsToPage,s=b("ProtonReducerUtils").addModal,t=b("ProtonReducerUtils").addNewPagesWithOldIDs,u=b("ProtonReducerUtils").closeModalByType,v=b("ProtonReducerUtils").createCymbal,w=b("ProtonReducerUtils").createPage,x=b("ProtonReducerUtils").closeModal,y=b("ProtonSelectionUpdaters").activatePageState,z=b("ProtonSelectionUpdaters").updateSelection,A=b("ProtonSharedComponentSelectors").getSharedComponentCymbalInstanceIDsByCymbalPageID,B=b("ProtonSharedComponentUpdaters").removeUnusedSharedComponentPages,C=b("ProtonSharedComponentUpdaters").updatePageCymbalInstances,D=b("ProtonToastUpdaters").closeToastByType,E=b("ProtonToastUpdaters").showToast;function a(a,c){__p&&__p();var d=a;switch(c.type){case"show shared component creation modal":a=c.pageID;var e=c.sharedComponentEntryData,f=l(d,a);if(!f||f.isCymbal!==!0)return d;e&&(d=D(d,"shared component action failed"));return s(d,{type:"create shared component",pageID:a,sharedComponentEntryData:e});case"show shared component update modal":f=c.pageID;a=c.sharedComponentEntryData;a&&(d=D(d,"shared component action failed"));e=l(d,f);var F=e==null?void 0:e.sharedComponentMetadata;return!e||e.isCymbal!==!0||(F==null?void 0:F.sharedComponentID)==null||(F==null?void 0:F.sourceProjectID)!==d.project.id?d:s(d,{type:"update shared component",pageID:f,sharedComponentEntryData:a});case"show unpublish shared component confirmation modal":e=c.pageID;return s(d,{type:"confirm unpublish shared component",pageID:e});case"update loaded shared components":F=c.sharedComponents;return babelHelpers["extends"]({},d,{sharedComponentEntryByID:new Map(F.map(function(a){return[a.id,a]}))});case"create shared component succeeded":f=c.pageID;a=c.sharedComponentEntry;e=d.project.id;d=p(d,f,{name:a.name,sharedComponentMetadata:{sourceProjectID:e,sharedComponentID:a.id,version:a.version}});F=d;f=F.sharedComponentEntryByID;d=babelHelpers["extends"]({},d,{sharedComponentEntryByID:b("addToMap")(f,a.id,a)});d=E(d,{type:"generic",canClose:!0,message:"Your shared component was published.",shouldAutoClose:!0,title:"Success",toastType:"success"});return x(d,c.modalID);case"create shared component failed":e=c.errorMessage;F=c.modalID;f=c.pageID;a=c.sharedComponentEntryData;d=E(d,{type:"shared component action failed",errorMessage:e,mode:"create",pageID:f,sharedComponentEntryData:a});return x(d,F);case"update shared component succeeded":e=c.sharedComponentEntry;f=d;a=f.sharedComponentEntryByID;d=babelHelpers["extends"]({},d,{sharedComponentEntryByID:b("addToMap")(a,e.id,e)});d=E(d,{type:"generic",canClose:!0,message:"Your shared component was updated.",shouldAutoClose:!0,title:"Success",toastType:"success"});return x(d,c.modalID);case"update shared component failed":F=c.errorMessage;f=c.modalID;a=c.pageID;e=c.sharedComponentEntryData;d=E(d,{type:"shared component action failed",errorMessage:F,mode:"update",pageID:a,sharedComponentEntryData:e});return x(d,f);case"unpublish shared components succeeded":F=c.modalID;a=c.sharedComponentIDByPageID;e=c.pageIDsToDelete;var G=new Map(d.sharedComponentEntryByID);a.forEach(function(a,b){G["delete"](a),d=p(d,b,{sharedComponentMetadata:null})});d=babelHelpers["extends"]({},d,{sharedComponentEntryByID:G});d=E(d,{type:"generic",canClose:!0,message:a.size>1?"Your shared components were unpublished.":"Your shared component was unpublished.",shouldAutoClose:!0,title:"Success",toastType:"success"});d=x(d,F);d=u(d,"update shared component");d=e?o(d,e):d;return B(d);case"unpublish shared components failed":f=c.errorMessage;a=c.sharedComponentIDByPageID;F=c.modalID;d=E(d,{type:"generic",canClose:!0,message:a.size>1?"Your shared components were not unpublished. "+f:"Your shared component was not unpublished. "+f,shouldAutoClose:!1,title:"Failed to Unpublish",toastType:"error"});d=x(d,F);return u(d,"update shared component");case"end adding shared component":var H=c.sharedComponentID,I=c.sharedComponentVersion;e=c.pageID;if(!I)return d;a=I.data;f=a.page;F=a.cymbalPages;var J=new Map();[f].concat(F).forEach(function(a,b){b=b===0;J.set(a.id,babelHelpers["extends"]({},a,{sharedComponentMetadata:{sharedComponentID:b?H:null,version:b?I.version:null}}))});a=k(d,J,d.project.pages);F=a.pageByID;var K=F.get(f.id);if(K==null)return d;a=n(d);f=a.hiddenPages;a=f.find(function(a){return((a=a.sharedComponentMetadata)==null?void 0:a.sharedComponentID)===H});if(a){f=g(d,a.id);Array.from(f).forEach(function(a){var b=a[0];a=a[1];d=i({state:d,pageID:b,itemIDs:Array.from(a),getUpdates:function(a){a=a.actualItem;return a.type==="cymbal"?{cymbalPageID:K.id}:null},options:{bypassStateAndWriteToMaster:!0}})});d=B(d)}d=t(d,F);a=v({position:babelHelpers["extends"]({},c.coord,{height:K.height,width:K.width})},K,new Set(),!1);f=l(d,e);if(!f)return d;d=p(d,e,r(f,q(d),[a],null));d=y({state:d,cymbalPath:b("ProtonInstancePath").createFromPageID(c.pageID),pageStateID:null});return z(d,{selectedItemIDs:new Set([a.id])});case"detach selected items from shared components":F=d.selection.selectedItemIDs;e=m(d);f=j(e,F);c=A(d,f);var L=new Map();c.forEach(function(a,b){__p&&__p();b=l(d,b);if(!b)return;var c=h(d,b),e=new Map();[b].concat(Array.from(c.values())).forEach(function(b,c){b.sharedComponentMetadata;var f=babelHelpers.objectWithoutPropertiesLoose(b,["sharedComponentMetadata"]),g=w(d.project.pages,d.selection.activePageID,f);e.set(b.id,g);c===0&&a.forEach(function(a){L.set(a,g.id)})});d=t(d,e)});d=C(d,e,L);return B(d);case"show insert into source component toast":return E(d,{type:"generic",canClose:!0,title:"Failed to Insert",message:"You cannot insert shared components into their source page.",toastType:"error",shouldAutoClose:!0})}return d}e.exports=a}),null);
__d("ProtonStatusUtils",["ProtonStatusConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonStatusConstants").DEFAULT_STATUS;function a(a){var c=b("immutable").Map();a.forEach(function(a){var b=a.artboardID,d=a.itemID;if(a.status==null)return;c=h(c,b,d,a.status)});return c}function h(a,c,d,e){var f;f=((f=a.get(c))!=null?f:b("immutable").Map()).set(d,e);return a.set(c,f)}function c(a){return babelHelpers["extends"]({},g,a)}e.exports={addItemStatus:h,groupStatusesByArtboardAndItem:a,createContentStatus:c}}),null);
__d("protonStatusReducer",["ProtonAnnotationUtils","ProtonArtboardID","ProtonStatusUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonAnnotationUtils").createAnnotationTargetID,h=b("ProtonArtboardID").getKeysForArtboardID,i=b("ProtonStatusUtils").createContentStatus;function a(a,b){__p&&__p();switch(b.type){case"item statuses received":var c=new Map();b.statuses.forEach(function(d){var a=d.artboardID,e=d.itemID;a=h(a);var b=a.pageID;a=a.pageStateID;c.set(g({pageID:b,pageStateID:a,itemID:e}),d)});return babelHelpers["extends"]({},a,{itemStatusesByTargetID:c});case"update item status":var d=b.artboardID,e=b.itemIDs;b=b.status;var f=h(d),j=f.pageID;f=f.pageStateID;var k=new Map(a.itemStatusesByTargetID);for(var e=e,l=Array.isArray(e),m=0,e=l?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=e.length)break;n=e[m++]}else{m=e.next();if(m.done)break;n=m.value}n=n;var o=g({pageID:j,pageStateID:f,itemID:n});n=i({artboardID:d,itemID:n,status:b});k.set(o,n)}return babelHelpers["extends"]({},a,{itemStatusesByTargetID:k})}return a}e.exports=a}),null);
__d("protonToastReducer",["ProtonToastUpdaters"],(function(a,b,c,d,e,f){"use strict";var g=b("ProtonToastUpdaters").closeToast,h=b("ProtonToastUpdaters").showToast;function a(a,b){switch(b.type){case"show toast":return h(a,b.toastData);case"close toast":return g(a,b.toastID)}return a}e.exports=a}),null);
__d("ProtonExpressionUpdaterUtils",["ProtonComponents","ProtonCymbalComponentConfigs","ProtonExpressionSelectors","ProtonExpressionUtils","ProtonInstancePath","ProtonItemUtils","ProtonPropPath","ProtonSelectors","mergeMaps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonComponents").getComponentConfig,h=b("ProtonCymbalComponentConfigs").selectComponentConfigByCymbalPageID,i=b("ProtonExpressionSelectors").ROOT_NODE,j=b("ProtonExpressionSelectors").getExpressionGraph,k=b("ProtonExpressionSelectors").selectExpressionContext,l=b("ProtonExpressionSelectors").selectIsUsingExpressions,m=b("ProtonExpressionUtils").coercePropTypeValue,n=b("ProtonExpressionUtils").evaluate,o=b("ProtonExpressionUtils").isItemVertex,p=b("ProtonItemUtils").getActualItem,q=b("ProtonPropPath").createPropPath,r=b("ProtonPropPath").getPropTypeAtItemPath,s=b("ProtonPropPath").setValueAtPath,t=b("ProtonSelectors").selectActivePage,u=b("ProtonSelectors").selectTransformedPageForInstancePath;function a(a,c){__p&&__p();if(!l(a))return a;var d=new Map(),e=h(a),f=t(a),g=a.project.pages.map(function(a){return a.id===f.id?f:a}),i=j(g);g=v(i,f.id,c);c=x(g,function(a){return i.getChildNodes(a)}).reverse();g=a;g=g.computedExpressionsByItemID;var q=new Map();for(var c=c,r=Array.isArray(c),s=0,c=r?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(r){if(s>=c.length)break;z=c[s++]}else{s=c.next();if(s.done)break;z=s.value}z=z;if(!z||!z.expression)continue;if(o(z)){var A=b("ProtonInstancePath").add(z.instancePath,z.itemID),B=q.get(A)||g.get(A);B||(B=new Map());var C=u(a,{instancePath:z.instancePath});if(!C)continue;C=p(C,z.itemID);if(!C)continue;var D=d.get(z.instancePath);D||(D=k(a,z.instancePath),d.set(z.instancePath,D));var E=B.get(z.propPath);D=z.expression&&n(z.expression,babelHelpers["extends"]({"this":C},D));var F=y(C,z,e);D=F&&C.type!=="group"?m(D,F,C.props):D;w(a,d,z,D);z.expression&&D!==E&&(B=new Map(B),B.set(z.propPath,D),q.set(A,B))}}q.size&&(a=babelHelpers["extends"]({},a,{computedExpressionsByItemID:b("mergeMaps")(g,q)}));return a}function v(a,b,c){var d=[];a.visitChildren(i,function(a){a&&o(a)&&a.pageID===b&&(c.size===0||c.has(a.itemID))&&d.push(a)});return a.getChildNodes(i)}function w(a,c,d,e){__p&&__p();if(o(d)){var f=c.get(d.instancePath);if(!f)return;var g=q("identifiers","pages",d.pageName,"layers",d.itemName,d.propPath),h=d.pageID===f.identifiers.activePage.id?q("identifiers","layers",d.itemName,d.propPath):null;f=babelHelpers["extends"]({},f,s(f,g,e));h&&(f=babelHelpers["extends"]({},f,s(f,h,e)));c.set(d.instancePath,f);if(d.type==="cymbal"){g=q("identifiers","layers",d.actualItemName,d.actualPropPath);h=b("ProtonInstancePath").add(d.instancePath,d.itemID);f=c.get(h);f||(f=k(a,h),c.set(h,f));d=babelHelpers["extends"]({},f,s(f,g,e));c.set(h,d)}}}function x(a,b,c){__p&&__p();var d=[],e=new Set();function f(a){__p&&__p();e.add(a);var g=b(a);if(c&&c(a))return;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(e.has(j))continue;f(j)}d.push(a)}for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;e.has(i)||f(i)}return d}function y(a,b,c){__p&&__p();if(!a)return null;if(a.type==="element"){var d=g(a.componentName);if(d){d=r(d.propTypes,b.propPath);return d||null}}else if(a.type==="cymbal"){d=c.get(a.cymbalPageID);if(d){c=r(d.propTypes,b.propPath);return c||null}}return null}function c(a,b){__p&&__p();var c=["<<< G R A P H >>>"];b=a.getChildNodes(b||null);b=x(b,function(b){return a.getChildNodes(b)});for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=a.getChildNodes(f);if(!g.size)continue;c.push(f.instancePath+":"+f.pageName+"."+f.itemName+f.propPath);for(var f=g,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;c.push("--> "+i.instancePath+":"+i.pageName+"."+i.itemName+"."+i.propPath+"  ("+(i.expression&&i.expression.text&&i.expression.text)+")")}}return c.join("\n")}e.exports={getGraphAsText:c,updateComputedExpressions:a,updateContext:w}}),null);
__d("protonUpdateComputedExpressionsForAction",["ProtonExpressionUpdaterUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonExpressionUpdaterUtils").updateComputedExpressions;function a(a,b,c){c=b;b=a.selection.activePageStateIDsByCymbalPath!==c.selection.activePageStateIDsByCymbalPath;if(a.project.pages===c.project.pages&&a.project.dataSources===c.project.dataSources&&a.preview.dataSources===c.preview.dataSources&&a.dataSourceByVariableID===c.dataSourceByVariableID&&!b)return c;b&&(c=babelHelpers["extends"]({},c,{computedExpressionsByItemID:new Map()}));return g(c,new Set([]))}e.exports=a}),null);
__d("protonUserSettingsReducer",["ProtonConstants","ProtonUserSettingsUpdaters","wrapIndex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonConstants").PROTON_THEMES,h=b("ProtonUserSettingsUpdaters").updateUserSettings;function a(a,c){switch(c.type){case"update user settings":return h(a,c.updates);case"switch theme":var d=g.indexOf(a.userSettings.theme);d=d>=0?b("wrapIndex")(d+1,g.length):0;return h(a,{theme:g[d]});case"switch project layout":return h(a,{projectLayout:c.projectLayout})}return a}e.exports=a}),null);
__d("protonVRReducer",["ProtonDataSelectors","ProtonPageSelectors","ProtonPreviewUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonDataSelectors").getPreviewPagesVisibilityToggled,h=b("ProtonPageSelectors").getPage,i=b("ProtonPreviewUpdaters").updatePreview;function a(a,b){switch(b.type){case"hide page for vr preview":var c={pageID:b.pageID,isHiding:!0};return j(a,c);case"unhide page for vr preview":c={pageID:b.pageID,isHiding:!1};return j(a,c);case"change environment for vr preview":return i(a,{environmentURI:b.environmentURI})}return a}function j(a,b){var c,d=new Set(g(a)),e=h(a,b.pageID);if(!e)return a;var f=d.has(b.pageID);if(b.isHiding&&((c=e.vr)==null?void 0:c.isHidden)!==f||!b.isHiding&&((c=e.vr)==null?void 0:c.isHidden)===f)return a;d.has(b.pageID)?d["delete"](b.pageID):d.add(b.pageID);return i(a,{pagesVisibilityToggled:d})}e.exports=a}),null);
__d("ProtonURLParams",["ProtonInitialStateConstants","ProtonViewUpdaters"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonInitialStateConstants").INITIAL_VIEW_STATE,h=b("ProtonViewUpdaters").updateView,i={bottom_panel:{updateStateFromParam:function(a,b){return h(a,{bottomPanelMode:b})},updateParamFromState:function(a){a=a.view.bottomPanelMode;return a===g.bottomPanelMode?null:a}},canvas_view:{updateStateFromParam:function(a,b){b===void 0&&(b="normal");return h(a,{canvasViewMode:b})},updateParamFromState:function(a){a=a.view.canvasViewMode;return a===g.canvasViewMode?null:a}},right_panel:{updateStateFromParam:function(a,b){b===void 0&&(b="properties");return h(a,{rightPanelMode:b})},updateParamFromState:function(a){a=a.view.rightPanelMode;return a===g.rightPanelMode?null:a}}};function a(a,b){b=b.getQueryData();a=a;for(var c in i){var d=i[c].updateStateFromParam;a=d(a,b[c])}return a}function c(a,b){for(var c in i){var d=i[c].updateParamFromState(a);d!==null&&b.addQueryData(c,d)}return b}e.exports={updateStateFromURI:a,updateURIParamsFromState:c}}),null);
__d("protonViewReducer",["ProtonArtboardID","ProtonArtboardSelectors","ProtonCanvasConstants","ProtonCanvasSelectors","ProtonCanvasUpdaters","ProtonConstants","ProtonDataUpdaters","ProtonIDTypes","ProtonInstancePath","ProtonLocalStorage","ProtonPageSelectors","ProtonPreviewUpdaters","ProtonProjectPlatformUtils","ProtonSelectionUpdaters","ProtonSelectors","ProtonToastUpdaters","ProtonURLParams","ProtonURLUtils","ProtonUtils","ProtonViewConstants","ProtonViewSelectors","ProtonViewUpdaters","URI","addToSet","firstx","lastx","removeFromSet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonArtboardID").getKeysForArtboardID,h=b("ProtonArtboardSelectors").getActiveArtboardID,i=b("ProtonArtboardSelectors").selectActiveArtboardPosition,j=b("ProtonCanvasConstants").CONTENT_OFFSET_IN_WRAPPER,k=b("ProtonCanvasSelectors").getCanvasSize,l=b("ProtonCanvasSelectors").getCenterOfSelectedItems,m=b("ProtonCanvasUpdaters").updateCanvas,n=b("ProtonCanvasUpdaters").updateRawZoom,o=b("ProtonCanvasUpdaters").updateToCenterActiveArtboard,p=b("ProtonCanvasUpdaters").updateZoom,q=b("ProtonCanvasUpdaters").updateZoomToFitAllArtboards,r=b("ProtonCanvasUpdaters").updateZoomToFitArtboard,s=b("ProtonConstants").BLANK_PROJECT,t=b("ProtonConstants").EMPTY_SET,u=b("ProtonConstants").LEFT_PANEL_MIN_WIDTH,v=b("ProtonConstants").PAGE_LIST_MIN_HEIGHT,w=b("ProtonConstants").RIGHT_PANEL_MIN_WIDTH,x=b("ProtonConstants").SPACE_BETWEEN_PANELS,y=b("ProtonConstants").ZOOM_OPTIONS,z=b("ProtonDataUpdaters").resetPreviewDataSources,A=b("ProtonIDTypes").DEFAULT_PAGE_STATE_ID,B=b("ProtonPageSelectors").selectActivePageState,C=b("ProtonPreviewUpdaters").resetVRPreviewState,D=b("ProtonProjectPlatformUtils").getPlatform,E=b("ProtonSelectionUpdaters").activatePage,F=b("ProtonSelectionUpdaters").loadedProject,G=b("ProtonSelectionUpdaters").startLoadProject,H=b("ProtonSelectionUpdaters").updateActivePageStates,I=b("ProtonSelectionUpdaters").updateDefaultStateForPage,J=b("ProtonSelectionUpdaters").updateSelection,K=b("ProtonSelectors").getSelectedItemIDs,L=b("ProtonSelectors").selectActivePage;b("ProtonToastUpdaters").closeToast;var M=b("ProtonToastUpdaters").showMarkdownToast,N=b("ProtonToastUpdaters").showToast,O=b("ProtonURLParams").updateStateFromURI,P=b("ProtonURLUtils").PAGE_STATE_SEPARATOR,Q=b("ProtonUtils").getZoomToFitDimensions,R=b("ProtonViewConstants").GLOBAL_NAV_WIDTH,S=b("ProtonViewConstants").TOP_BAR_HEIGHT,T=b("ProtonViewSelectors").getIsBirdview,aa=b("ProtonViewSelectors").getLeftPanelWidth,ba=b("ProtonViewSelectors").getRightPanelWidth,U=b("ProtonViewSelectors").getZoom,V=b("ProtonViewUpdaters").updateHotspotVisibility,ca=b("ProtonViewUpdaters").updateLeftPanelTab,W=b("ProtonViewUpdaters").updateView,da=new Set(["edit","preview"]);function a(a,c){__p&&__p();switch(c.type){case"adjust zoom smooth":return p(a,U(a)*c.scaleFactor,{mousePosition:c.mousePosition,type:"scroll"});case"begin center and zoom selection":var d=a,e=$(a),f=e.height,i=e.width;d=n(d,Q(k(d),i,f));return m(d,{centerCanvasAtPositionOnNextRender:e});case"begin center selection":i=$(a);return m(a,{centerCanvasAtPositionOnNextRender:i});case"begin inline edit element":f=c.elementID;return J(a,{editingElementID:f,selectedItemIDs:new Set([f])});case"begin screenshot":d=b("addToSet")(a.screenshots.pendingPageIDs,c.itemID);return babelHelpers["extends"]({},a,{screenshots:babelHelpers["extends"]({},a.screenshots,{pendingPageIDs:d})});case"toggle dev tools":return W(a,{bottomPanelMode:a.view.bottomPanelMode==="devtools"?null:"devtools"});case"bootstrap":e=a;c.isTempRedirect&&(e=M(e,"Proton is currently down in intern, so we've redirected you to a temporary server. You can continue to edit your projects, everything will be saved in the same place. Please note that this URL will stop working at the end of the day, by which time Proton should be back up and running. Check in at [Proton FYI](https://fb.facebook.com/groups/protonfyi) for more information.","information"));e=b("ProtonLocalStorage").updateState(e,c.localStorage);e=babelHelpers["extends"]({},e,{isUnsupportedBrowser:c.browserName!=="Chrome"});e=W(e,{windowInnerHeight:c.windowInnerHeight,windowInnerWidth:c.windowInnerWidth});return Y(e);case"continue using unsupported browser":return babelHelpers["extends"]({},a,{isIgnoringUnsupportedBrowser:!0});case"end center":return m(a,{centerCanvasAtPositionOnNextRender:null});case"decrease zoom":i=y.slice(0).reverse().find(function(b){return b<U(a)})||b("firstx")(y);return p(a,i,{type:"scroll"});case"end inline edit element":return J(a,{editingElementID:null});case"end screenshot":return Z(a,c.itemID);case"screenshot failed":f=a;f=Z(f,c.itemID);return N(f,{type:"generic",toastType:"error",message:"There was a problem saving this page as an image.",canClose:!0,shouldAutoClose:!1});case"fit zoom":return T(a)?q(a):r(a,h(a));case"hide elements panel":return W(a,{isShowingLeftPanel:!1});case"hide global nav":return W(a,{isShowingGlobalNav:!1});case"hide hotspots":return V(a,!1);case"hide page state popover":return c.pageStatePopoverPageID===a.view.pageStatePopoverPageID?W(a,{pageStatePopoverPageID:null}):a;case"hide sidebar":return W(a,{isShowingRightPanel:!1});case"hide topbar":return W(a,{isShowingTopbar:!1});case"hide ui":return W(a,{isShowingGlobalNav:!1,isShowingLeftPanel:!1,isShowingRightPanel:!1,isShowingTopbar:!1});case"hide selection chrome":return J(a,{shouldShowSelectionChrome:!1});case"increase zoom":d=y.find(function(b){return b>U(a)})||b("lastx")(y);return p(a,d,{allowCenterOnSelection:!0,type:"scroll"});case"reset zoom":return n(a,1);case"resize bottom panel":return W(a,{heightByPanelMode:babelHelpers["extends"]({},a.view.heightByPanelMode,(e={},e[a.view.bottomPanelMode]=c.height,e))});case"resize left panel":return W(a,{widthByPanelMode:babelHelpers["extends"]({},a.view.widthByPanelMode,(i={},i[a.view.leftPanelMode]=c.width,i))});case"resize right panel":return W(a,{widthByPanelMode:babelHelpers["extends"]({},a.view.widthByPanelMode,(f={},f[a.view.rightPanelMode]=c.width,f))});case"resize page list":return W(a,{pageListHeight:c.height});case"hide animation editor panel":return X(a);case"show animation editor panel":return W(a,{bottomPanelMode:"animationEditor"});case"show global nav":return W(a,{isShowingGlobalNav:!0});case"show elements panel":return W(a,{isShowingLeftPanel:!0});case"show hotspots":return V(a,!0);case"show page state popover":return W(a,{pageStatePopoverPageID:c.pageStatePopoverPageID});case"show selection chrome":return J(a,{shouldShowSelectionChrome:!0});case"show sidebar":return W(a,{isShowingRightPanel:!0});case"show topbar":return W(a,{isShowingTopbar:!0});case"show ui":return W(a,{isShowingGlobalNav:!0,isShowingLeftPanel:!0,isShowingRightPanel:!0,isShowingTopbar:!0});case"update mode":d=a;d=babelHelpers["extends"]({},d,{mode:c.mode});c.mode==="preview"&&(d=X(d));e=L(d).id;i=B(d);d=I(d,e,i?i.id:A);d=z(d);D()==="vr"&&(d=C(d));d=J(d,{editingElementID:null});return d;case"update preview options":return babelHelpers["extends"]({},a,{project:babelHelpers["extends"]({},a.project,{previewOptions:babelHelpers["extends"]({},a.project.previewOptions,c.updates)})});case"update screenshot scale":return babelHelpers["extends"]({},a,{screenshots:babelHelpers["extends"]({},a.screenshots,{globalScale:c.scale})});case"update zoom":return n(a,c.zoom);case"url changed":f=a;e=c.url;i=new(b("URI"))(e);d=i.getPath().match(/\/(\d{10,})/);if(d){e=i.getQueryData();var j=e.page,l=j||f.selection.activePageID;f=J(f,{activePageID:l});var u=new Set((e.pageStates||"").split(P).filter(Boolean));f=H(f,b("ProtonInstancePath").createFromPageID(l),function(){return u});f=babelHelpers["extends"]({},f,{mode:da.has(e.mode)?e.mode:"edit"});f=O(f,i);l=d[1];d=e.version;(l!==f.selection.activeProjectID||d&&d!==f.projectHistory.selectedHistoryEntryID)&&(f=G({historyEntryID:d,pageID:j,pageStateIDs:u,projectID:l,state:f}))}else{e=i.getPath().match(/\/projects/);i.getQueryData().query&&(f=babelHelpers["extends"]({},F(f,s),{isOnLandingPage:!0,query:i.getQueryData().query}));f=babelHelpers["extends"]({},F(f,s),{isOnLandingPage:!0,landingSection:e?"projects":"home"})}return f;case"window resized":d=W(a,{windowInnerWidth:c.width,windowInnerHeight:c.height});return Y(d);case"collapse all":j=L(a);return J(a,{expandedItemIDs:t,temporarilyCollapsedItemIDs:new Set(j.groupByID.keys())});case"expand all":l=L(a);return J(a,{expandedItemIDs:new Set(l.groupByID.keys()),temporarilyCollapsedItemIDs:t});case"update landing section":return babelHelpers["extends"]({},a,{landingSection:c.section});case"update global search query":return babelHelpers["extends"]({},a,{query:c.query});case"switch full screen mode":return babelHelpers["extends"]({},a,{preview:babelHelpers["extends"]({},a.preview,{isFullScreenMode:c.isFullScreenMode})});case"switch left panel mode":return!a.view.isShowingLeftPanel?W(a,{leftPanelMode:c.leftPanelMode,isShowingLeftPanel:!0}):W(a,{leftPanelMode:c.leftPanelMode});case"switch left panel tab":i=c.leftPanelTab;return ca(a,i);case"switch right panel mode":return W(a,{rightPanelMode:c.rightPanelMode});case"toggle grayscale":return W(a,{isGrayscaleActive:!a.view.isGrayscaleActive});case"select history entry":return a.view.rightPanelMode==="comments"&&!ea(a,c.entryID)?W(a,{rightPanelMode:"properties"}):a;case"open comments panel":return W(a,{rightPanelMode:"comments"});case"device pixel ratio changed":return W(a,{devicePixelRatio:c.devicePixelRatio});case"update scroll zooming status":return W(a,{isScrollZooming:c.isScrollZooming});case"update content strategy status filter":return W(a,{contentStrategyStatusFilter:c.contentStrategyStatusFilter});case"expand content strategy section":return W(a,{contentStrategyCollapsedSections:b("removeFromSet")(a.view.contentStrategyCollapsedSections,c.artboardID)});case"collapse content strategy section":return W(a,{contentStrategyCollapsedSections:b("addToSet")(a.view.contentStrategyCollapsedSections,c.artboardID)});case"set canvas view mode":e=W(a,{canvasViewMode:c.canvasViewMode});switch(c.canvasViewMode){case"normal":break;case"birdview":if(a.canvas.birdviewZoom===null)return q(e);break;default:c.canvasViewMode}return o(e);case"activate artboard from birdview":f=c.artboardID;d=g(f);j=d.pageID;l=d.pageStateID;i=E({state:a,pageID:j,pageStateID:l,isFromCanvasClick:!0});i=W(i,{canvasViewMode:"normal"});return o(i)}return a}function X(a){return a.view.bottomPanelMode==="animationEditor"?W(a,{bottomPanelMode:null}):a}function Y(a){var b=a.view,c=b.leftPanelMode,d=b.pageListHeight,e=b.rightPanelMode,f=b.widthByPanelMode,g=b.windowInnerHeight;b=b.windowInnerWidth;var h=aa(a),i=ba(a),j=R+h+x+i;j=j>b;var k=d>g+S,l=f;if(j){l=babelHelpers["extends"]({},f,(j={},j[c]=u,j[e]=w,j))}return W(a,{bottomPanelMaxHeight:Math.floor(g/2),leftPanelMaxWidth:b-i-x,pageListHeight:k?v:d,rightPanelMaxWidth:b-h-x,widthByPanelMode:l,windowInnerWidth:b})}function ea(a,b){a=a.projectHistory.historyEntries;if(!a)return!1;a=a.find(function(a){return a.id===b});return(a==null?void 0:a.pixelcloudAttachmentID)?!0:!1}function Z(a,c){c=b("removeFromSet")(a.screenshots.pendingPageIDs,c);c.size===0&&(c=t);return babelHelpers["extends"]({},a,{screenshots:babelHelpers["extends"]({},a.screenshots,{pendingPageIDs:c})})}function $(a){var b=i(a);return K(a).size===0||T(a)?babelHelpers["extends"]({},b,{top:b.top-j,left:b.left-j}):l(a)}e.exports=a}),null);
__d("protonReducer",["ProtonActionMetadata","ProtonCommentsUpdaters","ProtonConstants","ProtonHistoryConstants","ProtonInitialStateConstants","ProtonLogger","ProtonPageSelectors","ProtonSelectionUpdaters","ProtonToastUpdaters","protonAlignmentReducer","protonAnimationReducer","protonCanvasReducer","protonCommentsReducer","protonCymbalReducer","protonDataSourceReducer","protonDebugReducer","protonElementReducer","protonExpressionReducer","protonFileUploadReducer","protonFixChildItemPositions","protonGroupReducer","protonItemReducer","protonLintReducer","protonModalReducer","protonNativeReducer","protonPageReducer","protonPageStateReducer","protonPageTemplateReducer","protonPixelcloudReducer","protonProjectHistoryReducer","protonProjectReducer","protonSelectionReducer","protonSharedComponentReducer","protonStatusReducer","protonToastReducer","protonUpdateComputedExpressionsForAction","protonUserSettingsReducer","protonViewReducer","protonVRReducer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonCommentsUpdaters").clearAnnotatingItemID,h=b("ProtonConstants").EMPTY_ARRAY,i=b("ProtonConstants").EMPTY_SET,j=b("ProtonHistoryConstants").CURRENT_HISTORY_ENTRY_ID,k=b("ProtonInitialStateConstants").INITIAL_HELD_KEYS,l=b("ProtonInitialStateConstants").INITIAL_STATE,m=b("ProtonPageSelectors").getPage,n=b("ProtonSelectionUpdaters").removeMissingItemIDs,o=b("ProtonToastUpdaters").showToast,p=100,q=3e3;function r(){return[b("protonAlignmentReducer"),b("protonAnimationReducer"),b("protonCommentsReducer"),b("protonCymbalReducer"),b("protonDataSourceReducer"),b("protonDebugReducer"),b("protonElementReducer"),b("protonExpressionReducer"),b("protonFileUploadReducer"),b("protonGroupReducer"),b("protonItemReducer"),b("protonModalReducer"),b("protonPageReducer"),b("protonPageStateReducer"),b("protonPageTemplateReducer"),b("protonSharedComponentReducer"),b("protonPixelcloudReducer"),b("protonProjectReducer"),b("protonProjectHistoryReducer"),b("protonSelectionReducer"),b("protonStatusReducer"),b("protonToastReducer"),b("protonUserSettingsReducer"),b("protonViewReducer"),b("protonCanvasReducer"),b("protonLintReducer"),b("protonNativeReducer"),b("protonVRReducer")]}function a(a,c){__p&&__p();a===void 0&&(a=l);switch(c.type){case"redo":var d=a.nextAppStates[a.nextAppStates.length-1];if(d)return{currentAppState:s(a.currentAppState,d),lastUndoSaved:0,nextAppStates:a.nextAppStates.slice(0,-1),previousAppStates:a.previousAppStates.concat([a.currentAppState])};break;case"undo":d=a.previousAppStates[a.previousAppStates.length-1];if(d)return{currentAppState:s(a.currentAppState,d),lastUndoSaved:0,nextAppStates:a.nextAppStates.concat([a.currentAppState]),previousAppStates:a.previousAppStates.slice(0,-1)};break;default:d=r().reduce(function(a,b){return b(a,c)},a.currentAppState);if(d===a.currentAppState)return a;var e=u(a.currentAppState,d,c);if(e){new(b("ProtonLogger"))("failed_edit").log();if(e==="history"){e=o(a.currentAppState,{type:"generic",toastType:"error",title:"Editing is disabled",message:"You are viewing an old version of this project. To make edits, return to the current version or restore a previous version.",canClose:!0,shouldAutoClose:!0,autoCloseDelayMS:q,isDeduped:!1});return babelHelpers["extends"]({},a,{currentAppState:e})}return a}c.type!=="load cached project"&&(d=b("protonFixChildItemPositions")(a.currentAppState,d));d=b("protonUpdateComputedExpressionsForAction")(a.currentAppState,d,c);d=g(a.currentAppState,d);if((e=b("ProtonActionMetadata")[c.type])==null?void 0:e.resetUndoStack)return{currentAppState:d,lastUndoSaved:0,nextAppStates:h,previousAppStates:h};if(!((e=b("ProtonActionMetadata")[c.type])==null?void 0:e.undo))return babelHelpers["extends"]({},a,{currentAppState:d});e=Date.now()-a.lastUndoSaved;if(e<1e3)return babelHelpers["extends"]({},a,{currentAppState:d});e=a.previousAppStates.concat([a.currentAppState]);e.length>p&&e.shift();return{currentAppState:d,lastUndoSaved:Date.now(),nextAppStates:h,previousAppStates:e}}return a}function s(a,b){return babelHelpers["extends"]({},b,{abridgedProjectStatus:a.abridgedProjectStatus,canvas:babelHelpers["extends"]({},a.canvas,{heldKeys:k}),preview:babelHelpers["extends"]({},b.preview,{zoom:a.preview.zoom}),project:a.project.id===b.project.id?babelHelpers["extends"]({},b.project,{version:a.project.version}):b.project,doesProjectHaveUnsavedChanges:a.doesProjectHaveUnsavedChanges,isLoadingProject:a.isLoadingProject,isOnLandingPage:a.isOnLandingPage,isSavingProject:a.isSavingProject,userSettings:a.userSettings,view:a.view,selection:babelHelpers["extends"]({},b.selection,{editingElementID:null,editingNameItemID:null,editingNameItemType:null,hoveredItem:null,lastActivePageIDs:h,lastSelectedElementID:null,lastSelectedPageID:null,selectedItemIDs:t(b,a.selection.selectedItemIDs),selectedPageIDs:i}),modals:h})}function t(a,b){a=m(a,a.selection.activePageID);return!a?i:n(a,b)}function u(a,c,d){__p&&__p();var e=a.abridgedProjectStatus,f=a.projectHistory.selectedHistoryEntryID;a=a.project!==c.project;if(!a)return!1;a=(c=b("ProtonActionMetadata")[d.type])==null?void 0:c.allowIfNotEditor;if(a)return!1;d=e.isSomeoneElseEditing;if(d)return"multiplayer";c=f!==j;return c?"history":!1}e.exports=a}),null);
__d("ProtonBaseStore",["ProtonActionMetadata","protonBatchMeasuredItemEnhancer","protonReducer","redux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("redux").applyMiddleware,h=b("redux").compose,i=b("redux").createStore,j=h;function a(a,c){a===void 0&&(a=[]);c===void 0&&(c=!0);c=c?j:h;var d=c(g.apply(void 0,a))(i)(b("protonReducer"));c={dispatch:d.dispatch.bind(d),getState:d.getState.bind(d),hotReload:function(){return d.replaceReducer(b("protonReducer"))},replaceReducer:d.replaceReducer.bind(d),subscribe:d.subscribe.bind(d)};return b("protonBatchMeasuredItemEnhancer")(c)}e.exports={create:a}}),null);
__d("ProtonStoreContext",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=b("React").createContext(window.protonStore)}),null);
__d("ProtonStoreProvider.react",["ProtonStoreContext","React","ReactRedux"],(function(a,b,c,d,e,f){"use strict";var g=b("ReactRedux").Provider;function a(a){var c=a.children;a=a.store;return b("React").createElement(g,{store:a},b("React").createElement(b("ProtonStoreContext").Provider,{value:a},c))}e.exports=a}),null);
__d("ProtonArtboardUpdateReasons",["mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.artboardIDs=new Set(),this.artboardIDsByReason={new_artboard:new Set(),master_updated:new Set(),state_updated:new Set(),custom_component_updated:new Set(),variable_updated:new Set(),screenshot_missing:new Set(),page_duplicated:new Set(),page_state_duplicated:new Set()}}var c=a.prototype;c.add=function(a,b){__p&&__p();a=a instanceof Set?a:new Set([a]);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(this.has(e))return;this.artboardIDs.add(e);this.artboardIDsByReason[b].add(e)}};c.has=function(a){return this.artboardIDs.has(a)};c.getReasonCount=function(a){return this.artboardIDsByReason[a].size};c.getReasonCounts=function(){return b("mapObject")(this.artboardIDsByReason,function(a){return a.size})};return a}();e.exports=a}),null);
__d("ProtonFileReaderUtils",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return new(b("Promise"))(function(b,c){a.getAsString(b)})}function g(a){var c=new FileReader();return new(b("Promise"))(function(b,d){c.onload=function(a){if(a.target.error){d(a.target.error);return}b(a.target.result)},c.onerror=function(a){d(a.target.error)},a(c)})}function c(a){return g(function(b){return b.readAsText(a)})}function d(a){return g(function(b){return b.readAsArrayBuffer(a)})}e.exports={getArrayBufferAsPromise:d,getAsStringAsPromise:a,getTextAsPromise:c}}),null);
__d("ProtonPasteUtils",["regeneratorRuntime","Promise","ProtonPageStateTranslator","ProtonPageTranslator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!(typeof a.componentName==="string"&&typeof a.copiedProps==="object"&&a.copiedProps!=null)){e.next=2;break}return e.abrupt("return",babelHelpers["extends"]({type:"props"},a));case 2:if(!(!Array.isArray(a.items)||!Array.isArray(a.elementByID)||!Array.isArray(a.groupByID)||!Array.isArray(a.cymbalByID)||!Array.isArray(a.pageByID)||!Array.isArray(a.selectedPageIDs)||typeof a.fromProjectID!=="string")){e.next=4;break}return e.abrupt("return",null);case 4:c=Number(a.projectSchemaVersion);e.next=7;return b("regeneratorRuntime").awrap(b("ProtonPageTranslator").translatePageByIDArray(a.pageByID,c));case 7:d=e.sent;d=new Map(d);return e.abrupt("return",{type:"items",items:a.items,elementByID:b("ProtonPageTranslator").deserializeElementByIDFromAPI(a.elementByID),groupByID:b("ProtonPageTranslator").deserializeGroupByIDFromAPI(a.groupByID),cymbalByID:b("ProtonPageTranslator").deserializeCymbalByIDFromAPI(a.cymbalByID),pageByID:d,projectSchemaVersion:c,propMetadataByID:b("ProtonPageTranslator").deserializePropMetadataByIDFromAPI(a.propMetadataByID),selectedPageIDs:a.selectedPageIDs,fromProjectID:a.fromProjectID,expressionsByItemID:b("ProtonPageStateTranslator").deserializeExpressionsByItemIDFromAPI(a.expressionsByItemID)});case 10:case"end":return e.stop()}},null,this)}function a(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("Promise").all(a.map(g)));case 2:c=d.sent;return d.abrupt("return",c.filter(Boolean));case 4:case"end":return d.stop()}},null,this)}e.exports={translateProtonCopyPasteJSONArray:a}}),null);
__d("ProtonPromiseUtils",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=0,this.$2=1,this.$3=[],this.$2=Math.max(a,1)}var c=a.prototype;c.schedule=function(a){var c=this,d=new(b("Promise"))(function(b,d){var e=function(){c.$1++;var e=a();e.then(function(a){b(a),c.$4()},function(a){d(a),c.$4()})};c.$1<c.$2?e():c.$3.push(e)});return d};c.$4=function(){this.$1--;if(this.$3.length>0){var a=this.$3.shift();a()}};return a}();e.exports={ConcurrentPromiseScheduler:a}}),null);
__d("ProtonScreenshotMiddlewareUtils",["ProtonArtboardID","ProtonArtboardSelectors","ProtonArtboardUpdateReasons","ProtonCymbalVisitor","ProtonExpressionUtils","ProtonPageSelectors","filterMap","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ProtonArtboardID").createArtboardID,h=b("ProtonArtboardID").createMasterArtboardID,i=b("ProtonArtboardID").getKeysForArtboardID,j=b("ProtonArtboardSelectors").selectExpressionsByArtboardID,k=b("ProtonCymbalVisitor").isCymbalInPageChain,l=b("ProtonExpressionUtils").parseExpression,m=b("ProtonPageSelectors").getPageByID;function a(a,c){__p&&__p();var d=new(b("ProtonArtboardUpdateReasons"))();if(a===c||c.mode!=="edit"||c.project.platform!=="web")return d;var e=c.canvas.metadataByArtboardID,f=m(a.project.pages),i=m(c.project.pages),k=Array.from(i.values());k=k.filter(function(a){return i.get(a.id)!==f.get(a.id)});for(var k=k,q=Array.isArray(k),r=0,k=q?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=k.length)break;s=k[r++]}else{r=k.next();if(r.done)break;s=r.value}s=s;var t=s.id,u=f.get(t);if(!u){var v=h(t);v=e.get(v);v=(v==null?void 0:(v=v.duplicatedFrom)==null?void 0:v.sourceType)==="page"?"page_duplicated":"new_artboard";d.add(o(s),v);continue}v=n(u,s);if(v)for(var v=s.pageStateByID,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}y=y;var z=y[0];y=y[1];var A=g({pageID:t,pageStateID:z}),B=e.get(A);z=u.pageStateByID.get(z);if(!z){B=(B==null?void 0:(B=B.duplicatedFrom)==null?void 0:B.sourceType)==="pageState"?"page_state_duplicated":"new_artboard";d.add(A,B)}else y!==z&&d.add(A,"state_updated")}else d.add(o(s),"master_updated");d.add(p(c,i,h(t)),"custom_component_updated")}var C=b("filterMap")(c.project.dataSources.variables,function(b,c){b=b.value;c=a.project.dataSources.variables.get(c);return c==null||b!==c.value});C.size&&(function(){__p&&__p();var b=new Set(Array.from(C.values(),function(a){a=a.name;return a})),e=j(c);for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var a=h[0];h=h[1];if(d.has(a))continue;for(var h=h,k=Array.isArray(h),m=0,h=k?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(k){if(m>=h.length)break;n=h[m++]}else{m=h.next();if(m.done)break;n=m.value}n=n;n=l(n);n=n.dependencies;n=n.some(function(a){return b.has(a)});if(n){d.add(a,"variable_updated");d.add(p(c,i,a),"custom_component_updated");break}}}})();return d}function n(a,c){if(a.pageStateByID===c.pageStateByID)return!1;a.pageStateByID;a=babelHelpers.objectWithoutPropertiesLoose(a,["pageStateByID"]);c.pageStateByID;c=babelHelpers.objectWithoutPropertiesLoose(c,["pageStateByID"]);return b("shallowEqual")(a,c)}function o(a){__p&&__p();var b=new Set([h(a.id)]);for(var c=a.pageStateByID.keys(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b.add(g({pageID:a.id,pageStateID:f}))}return b}function p(a,b,c){__p&&__p();var d=new Set();b=b.get(i(c).pageID);if(b&&b.isCymbal===!0)for(var c=a.project.pages,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;if(k(a,g.id,b.id))for(var g=o(g),h=Array.isArray(g),j=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(h){if(j>=g.length)break;l=g[j++]}else{j=g.next();if(j.done)break;l=j.value}l=l;d.add(l)}}return d}e.exports={getUpdatedArtboardIDs:a}}),null);
__d("ProtonSoundUtils",[],(function(a,b,c,d,e,f){"use strict";var g=["audio/mp3","audio/wav","audio/ogg"];function a(a){return g.indexOf(a.type)!==-1}e.exports={SUPPORTED_SOUND_TYPES:g,isSoundFile:a}}),null);
__d("ProtonStartupURLParams",["URI","isStringNullOrEmpty","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={proton_heartbeat:!0,proton_perf:!1,proton_tracebench:!1};a=function(){var a=new(b("URI"))(window.location.href),c=a.getQueryData();return b("mapObject")(g,function(a,b){return h(c[b],a)})}();function h(a,c){if(b("isStringNullOrEmpty")(a))return c;switch(a){case"0":case"false":case"FALSE":case"off":return!1;case"1":case"true":case"TRUE":case"on":return!0}return Boolean(a)}e.exports=a}),null);
__d("ProtonTiming",["ProtonLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){this.$1=window.performance.now()}var c=a.prototype;c.getElapsedMS=function(){return Math.round(window.performance.now()-this.$1)};c.logElapsed=function(a){var c=this.getElapsedMS();new(b("ProtonLogger"))(a).setElapsedMs(c).log()};return a}();e.exports=a}),null);
__d("domToImage",[],(function(a,b,c,d,e,f){__p&&__p();(function(b){"use strict";__p&&__p();var c=u(),d=v(),f=w(),g=x(),h={imagePlaceholder:void 0,cacheBust:!1},i={toSvg:j,toPng:l,toJpeg:m,toBlob:n,toPixelData:k,impl:{fontFaces:f,images:g,util:c,inliner:d,options:{}}};typeof e!=="undefined"?e.exports=i:b.domtoimage=i;function j(a,b){__p&&__p();b=b||{};o(b);return Promise.resolve(a).then(function(a){return q(a,b.filter,!0)}).then(r).then(s).then(d).then(function(d){return t(d,b.width||c.width(a),b.height||c.height(a))});function d(a){b.bgcolor&&(a.style.backgroundColor=b.bgcolor);b.width&&(a.style.width=b.width+"px");b.height&&(a.style.height=b.height+"px");b.style&&Object.keys(b.style).forEach(function(c){a.style[c]=b.style[c]});return a}}function k(a,b){return p(a,b||{}).then(function(b){return b.getContext("2d").getImageData(0,0,c.width(a),c.height(a)).data})}function l(a,b){return p(a,b||{}).then(function(a){return a.toDataURL()})}function m(a,b){b=b||{};return p(a,b).then(function(a){return a.toDataURL("image/jpeg",b.quality||1)})}function n(a,b){return p(a,b||{}).then(c.canvasToBlob)}function o(a){typeof a.imagePlaceholder==="undefined"?i.impl.options.imagePlaceholder=h.imagePlaceholder:i.impl.options.imagePlaceholder=a.imagePlaceholder,typeof a.cacheBust==="undefined"?i.impl.options.cacheBust=h.cacheBust:i.impl.options.cacheBust=a.cacheBust,typeof a.proxyImageURL==="function"&&(i.impl.options.proxyImageURL=a.proxyImageURL),i.impl.options.urlToBase64PromiseCache=a.urlToBase64PromiseCache||null}function p(a,b){__p&&__p();return j(a,b).then(c.makeImage).then(c.delay(100)).then(function(b){var c=d(a);c.getContext("2d").drawImage(b,0,0);return c});function d(a){var d=document.createElement("canvas");d.width=b.width||c.width(a);d.height=b.height||c.height(a);if(b.bgcolor){a=d.getContext("2d");a.fillStyle=b.bgcolor;a.fillRect(0,0,d.width,d.height)}return d}}function q(a,b,d){__p&&__p();return!d&&b&&!b(a)?Promise.resolve():Promise.resolve(a).then(e).then(function(c){return f(a,c,b)}).then(function(b){return g(a,b)});function e(a){return a instanceof HTMLCanvasElement?c.makeImage(a.toDataURL()):a.cloneNode(!1)}function f(b,d,a){__p&&__p();b=b.childNodes;return b.length===0?Promise.resolve(d):e(d,c.asArray(b),a).then(function(){return d});function e(b,c,a){var d=Promise.resolve();c.forEach(function(c){d=d.then(function(){return q(c,a)}).then(function(a){a&&b.appendChild(a)})});return d}}function g(a,b){__p&&__p();return!(b instanceof Element)?b:Promise.resolve().then(d).then(e).then(f).then(g).then(function(){return b});function d(){__p&&__p();d(window.getComputedStyle(a),b.style);if(b.style.overflow==="hidden"&&b.style.textOverflow==="ellipsis"){function d(a){return parseFloat(a)===parseInt(a)?a:Math.ceil(parseFloat(a)*1e3)/1e3+"px"}b.style.height=d(b.style.height);b.style.width=d(b.style.width)}function d(a,b){a.cssText?(b.cssText=a.cssText,b.font=a.font):d(a,b);function d(a,b){c.asArray(a).forEach(function(c){b.setProperty(c,a.getPropertyValue(c),a.getPropertyPriority(c))})}}}function e(){__p&&__p();[":before",":after"].forEach(function(a){d(a)});function d(d){__p&&__p();var e=window.getComputedStyle(a,d),f=e.getPropertyValue("content");if(f===""||f==="none")return;f=c.uid();b.className=b.className+" "+f;var g=document.createElement("style");g.appendChild(h(f,d,e));b.appendChild(g);function h(d,a,b){__p&&__p();d="."+d+":"+a;a=b.cssText?e(b):f(b);return document.createTextNode(d+"{"+a+"}");function e(a){var b=a.getPropertyValue("content");return a.cssText+" content: "+b+";"}function f(a){return c.asArray(a).map(b).join("; ")+";";function b(b){return b+": "+a.getPropertyValue(b)+(a.getPropertyPriority(b)?" !important":"")}}}}}function f(){a instanceof HTMLTextAreaElement&&(b.innerHTML=a.value),a instanceof HTMLInputElement&&b.setAttribute("value",a.value)}function g(){__p&&__p();if(!(b instanceof SVGElement))return;b.setAttribute("xmlns","http://www.w3.org/2000/svg");if(!(b instanceof SVGRectElement))return;["width","height"].forEach(function(a){var c=b.getAttribute(a);if(!c)return;b.style.setProperty(a,c)})}}}function r(a){return f.resolveAll().then(function(b){var c=document.createElement("style");a.appendChild(c);c.appendChild(document.createTextNode(b));return a})}function s(a){return g.inlineAll(a).then(function(){return a})}function t(a,b,d){return Promise.resolve(a).then(function(a){a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");return new XMLSerializer().serializeToString(a)}).then(c.escapeXhtml).then(function(a){return'<foreignObject x="0" y="0" width="100%" height="100%">'+a+"</foreignObject>"}).then(function(a){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+b+'" height="'+d+'">'+a+"</svg>"}).then(function(a){return"data:image/svg+xml;charset=utf-8,"+a})}function u(){__p&&__p();return{escape:m,parseExtension:c,mimeType:d,dataAsUrl:l,isDataUrl:e,canvasToBlob:f,resolveUrl:g,getAndEncode:k,uid:h(),delay:o,asArray:p,escapeXhtml:q,makeImage:j,width:r,height:s};function b(){var a="application/font-woff",b="image/jpeg";return{woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:b,jpeg:b,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function c(a){a=/\.([^\.\/]*?)$/g.exec(a);if(a)return a[1];else return""}function d(a){a=c(a).toLowerCase();return b()[a]||""}function e(a){return a.search(/^(data:)/)!==-1}function a(a){return new Promise(function(b){var c=window.atob(a.toDataURL().split(",")[1]),d=c.length,e=new Uint8Array(d);for(var f=0;f<d;f++)e[f]=c.charCodeAt(f);b(new Blob([e],{type:"image/png"}))})}function f(b){return b.toBlob?new Promise(function(a){b.toBlob(a)}):a(b)}function g(a,b){var c=document.implementation.createHTMLDocument(),d=c.createElement("base");c.head.appendChild(d);var e=c.createElement("a");c.body.appendChild(e);d.href=b;e.href=a;return e.href}function h(){var a=0;return function(){return"u"+b()+a++;function b(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function j(a){return new Promise(function(b,c){var d=new Image();d.onload=function(){b(d)};d.onerror=c;d.src=a})}function k(a){__p&&__p();var b=3e4;i.impl.options.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+new Date().getTime());var c=i.impl.options.urlToBase64PromiseCache,d=c&&c.get(a);if(d)return d;d=new Promise(function(c){__p&&__p();var d=new XMLHttpRequest();d.onreadystatechange=f;d.ontimeout=g;d.responseType="blob";d.timeout=b;d.open("GET",a,!0);d.send();var e;if(i.impl.options.imagePlaceholder){f=i.impl.options.imagePlaceholder.split(/,/);f&&f[1]&&(e=f[1])}function f(){__p&&__p();if(d.readyState!==4)return;if(d.status!==200){var b="cannot fetch resource: "+a+", status: "+d.status;e?c(e):h(b);return}var f=new FileReader();f.onloadend=function(){var a=f.result.split(/,/)[1];c(a)};f.readAsDataURL(d.response)}function g(){e?c(e):h("timeout of "+b+"ms occured while fetching resource: "+a)}function h(a){c("")}});c&&c.set(a,d);return d}function l(a,b){return"data:"+b+";base64,"+a}function m(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function o(a){return function(b){return new Promise(function(c){setTimeout(function(){c(b)},a)})}}function p(a){var b=[],c=a.length;for(var d=0;d<c;d++)b.push(a[d]);return b}function q(a){return a.replace(/#/g,"%23").replace(/\n/g,"%0A")}function r(a){var b=t(a,"border-left-width"),c=t(a,"border-right-width");return a.scrollWidth+b+c}function s(a){var b=t(a,"border-top-width"),c=t(a,"border-bottom-width");return a.scrollHeight+b+c}function t(a,b){a=window.getComputedStyle(a).getPropertyValue(b);return parseFloat(a.replace("px",""))}}function v(){__p&&__p();var a=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:f,shouldProcess:b,impl:{readUrls:d,inline:e}};function b(b){return b.search(a)!==-1}function d(b){var d=[],e;while((e=a.exec(b))!==null)d.push(e[1]);return d.filter(function(a){return!c.isDataUrl(a)})}function e(a,b,d,e){return Promise.resolve(b).then(function(a){return d?c.resolveUrl(a,d):a}).then(function(a){return i.impl.options.proxyImageURL?i.impl.options.proxyImageURL(a):a}).then(e||c.getAndEncode).then(function(a){return c.dataAsUrl(a,c.mimeType(b))}).then(function(c){return a.replace(f(b),"$1"+c+"$3")});function f(a){return new RegExp("(url\\(['\"]?)("+c.escape(a)+")(['\"]?\\))","g")}}function f(a,c,f){return g()?Promise.resolve(a):Promise.resolve(a).then(d).then(function(b){var d=Promise.resolve(a);b.forEach(function(a){d=d.then(function(b){return e(b,a,c,f)})});return d});function g(){return!b(a)}}}function w(){__p&&__p();return{resolveAll:a,impl:{readAll:b}};function a(){return b(document).then(function(a){return Promise.all(a.map(function(a){return a.resolve()}))}).then(function(a){return a.join("\n")})}function b(){__p&&__p();return Promise.resolve(c.asArray(document.styleSheets)).then(b).then(a).then(function(a){return a.map(e)});function a(a){return a.filter(function(a){return a.type===CSSRule.FONT_FACE_RULE})}function b(a){var b=[];a.forEach(function(a){try{c.asArray(a.cssRules||[]).forEach(b.push.bind(b))}catch(a){}});return b}function e(a){return{resolve:function(){var b=(a.parentStyleSheet||{}).href;return d.inlineAll(a.cssText,b)},src:function(){return a.style.getPropertyValue("src")}}}}}function x(){__p&&__p();return{inlineAll:b,impl:{newImage:a}};function a(a){return{inline:b};function b(b){return c.isDataUrl(a.src)?Promise.resolve():Promise.resolve(a.src).then(function(a){return i.impl.options.proxyImageURL?i.impl.options.proxyImageURL(a):a}).then(b||c.getAndEncode).then(function(b){return c.dataAsUrl(b,c.mimeType(a.src))}).then(function(b){return new Promise(function(c,d){a.onload=c,a.onerror=d,a.src=b})})}}function b(e){__p&&__p();return!(e instanceof Element)?Promise.resolve(e):Promise.all([f(e,"background"),f(e,"mask-image"),f(e,"-webkit-mask-image")]).then(function(){if(e instanceof HTMLImageElement)return a(e).inline();else return Promise.all(c.asArray(e.childNodes).map(function(a){return b(a)}))});function f(a,b){var c=a.style.getPropertyValue(b);return!c?Promise.resolve(a):d.inlineAll(c).then(function(c){a.style.setProperty(b,c,a.style.getPropertyPriority(b))}).then(function(){return a})}}}})(this)}),null);